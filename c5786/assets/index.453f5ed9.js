(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function B(){}const mt=t=>t;function gt(t){return t()}function Xe(){return Object.create(null)}function le(t){t.forEach(gt)}function ge(t){return typeof t=="function"}function V(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Ot(t){return Object.keys(t).length===0}function Tt(t,...e){if(t==null)return B;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function he(t,e,n){t.$$.on_destroy.push(Tt(e,n))}function He(t){return t&&ge(t.destroy)?t.destroy:B}const ht=typeof window<"u";let Dt=ht?()=>window.performance.now():()=>Date.now(),qe=ht?t=>requestAnimationFrame(t):B;const _e=new Set;function pt(t){_e.forEach(e=>{e.c(t)||(_e.delete(e),e.f())}),_e.size!==0&&qe(pt)}function jt(t){let e;return _e.size===0&&qe(pt),{promise:new Promise(n=>{_e.add(e={c:t,f:n})}),abort(){_e.delete(e)}}}function v(t,e){t.appendChild(e)}function It(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Bt(t,e){return v(t.head||t,e),e.sheet}function H(t,e,n){t.insertBefore(e,n||null)}function j(t){t.parentNode.removeChild(t)}function vt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function b(t){return document.createElement(t)}function q(t){return document.createTextNode(t)}function I(){return q(" ")}function wt(){return q("")}function W(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function S(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Ht(t){return Array.from(t.childNodes)}function K(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Ke(t,e){t.value=e==null?"":e}function Y(t,e,n,s){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,s?"important":"")}function D(t,e,n){t.classList[n?"add":"remove"](e)}function Nt(t,e,{bubbles:n=!1,cancelable:s=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,s,e),i}const je=new Map;let Ie=0;function Ct(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Pt(t){const e={style_element:b("style"),rules:{}};return je.set(t,e),e}function Ze(t,e,n,s,i,o,l,r=0){const c=16.666/s;let a=`{
`;for(let f=0;f<=1;f+=c){const m=e+(n-e)*o(f);a+=f*100+`%{${l(m,1-m)}}
`}const u=a+`100% {${l(n,1-n)}}
}`,_=`__svelte_${Ct(u)}_${r}`,d=It(t),{style_element:p,rules:g}=je.get(d)||Pt(d);if(!g[_]){const f=Bt(d,p);g[_]=!0,f.insertRule(`@keyframes ${_} ${u}`,f.cssRules.length)}const k=t.style.animation||"";return t.style.animation=`${k?`${k}, `:""}${_} ${s}ms linear ${i}ms 1 both`,Ie+=1,_}function Yt(t,e){const n=(t.style.animation||"").split(", "),s=n.filter(e?o=>o.indexOf(e)<0:o=>o.indexOf("__svelte")===-1),i=n.length-s.length;i&&(t.style.animation=s.join(", "),Ie-=i,Ie||Ft())}function Ft(){qe(()=>{Ie||(je.forEach(t=>{const{style_element:e}=t;j(e)}),je.clear())})}let Me;function Le(t){Me=t}function Rt(){if(!Me)throw new Error("Function called outside component initialization");return Me}function bt(t){Rt().$$.on_destroy.push(t)}const ke=[],ae=[],Te=[],Re=[],Wt=Promise.resolve();let We=!1;function qt(){We||(We=!0,Wt.then(kt))}function ce(t){Te.push(t)}function yt(t){Re.push(t)}const Ce=new Set;let Ae=0;function kt(){const t=Me;do{for(;Ae<ke.length;){const e=ke[Ae];Ae++,Le(e),zt(e.$$)}for(Le(null),ke.length=0,Ae=0;ae.length;)ae.pop()();for(let e=0;e<Te.length;e+=1){const n=Te[e];Ce.has(n)||(Ce.add(n),n())}Te.length=0}while(ke.length);for(;Re.length;)Re.pop()();We=!1,Ce.clear(),Le(t)}function zt(t){if(t.fragment!==null){t.update(),le(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ce)}}let ye;function Gt(){return ye||(ye=Promise.resolve(),ye.then(()=>{ye=null})),ye}function Pe(t,e,n){t.dispatchEvent(Nt(`${e?"intro":"outro"}${n}`))}const De=new Set;let te;function ue(){te={r:0,c:[],p:te}}function fe(){te.r||le(te.c),te=te.p}function T(t,e){t&&t.i&&(De.delete(t),t.i(e))}function N(t,e,n,s){if(t&&t.o){if(De.has(t))return;De.add(t),te.c.push(()=>{De.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}else s&&s()}const $t={duration:0};function me(t,e,n,s){let i=e(t,n),o=s?0:1,l=null,r=null,c=null;function a(){c&&Yt(t,c)}function u(d,p){const g=d.b-o;return p*=Math.abs(g),{a:o,b:d.b,d:g,duration:p,start:d.start,end:d.start+p,group:d.group}}function _(d){const{delay:p=0,duration:g=300,easing:k=mt,tick:f=B,css:m}=i||$t,h={start:Dt()+p,b:d};d||(h.group=te,te.r+=1),l||r?r=h:(m&&(a(),c=Ze(t,o,d,g,p,k,m)),d&&f(0,1),l=u(h,g),ce(()=>Pe(t,d,"start")),jt(L=>{if(r&&L>r.start&&(l=u(r,g),r=null,Pe(t,l.b,"start"),m&&(a(),c=Ze(t,o,l.b,l.duration,0,k,i.css))),l){if(L>=l.end)f(o=l.b,1-o),Pe(t,l.b,"end"),r||(l.b?a():--l.group.r||le(l.group.c)),l=null;else if(L>=l.start){const E=L-l.start;o=l.a+l.d*k(E/l.duration),f(o,1-o)}}return!!(l||r)}))}return{run(d){ge(i)?Gt().then(()=>{i=i(),_(d)}):_(d)},end(){a(),l=r=null}}}const Ut=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Jt(t,e){t.d(1),e.delete(t.key)}function Xt(t,e){N(t,1,1,()=>{e.delete(t.key)})}function Lt(t,e,n,s,i,o,l,r,c,a,u,_){let d=t.length,p=o.length,g=d;const k={};for(;g--;)k[t[g].key]=g;const f=[],m=new Map,h=new Map;for(g=p;g--;){const M=_(i,o,g),x=n(M);let w=l.get(x);w?s&&w.p(M,e):(w=a(x,M),w.c()),m.set(x,f[g]=w),x in k&&h.set(x,Math.abs(g-k[x]))}const L=new Set,E=new Set;function y(M){T(M,1),M.m(r,u),l.set(M.key,M),u=M.first,p--}for(;d&&p;){const M=f[p-1],x=t[d-1],w=M.key,A=x.key;M===x?(u=M.first,d--,p--):m.has(A)?!l.has(w)||L.has(w)?y(M):E.has(A)?d--:h.get(w)>h.get(A)?(E.add(w),y(M)):(L.add(A),d--):(c(x,l),d--)}for(;d--;){const M=t[d];m.has(M.key)||c(M,l)}for(;p;)y(f[p-1]);return f}function Mt(t,e,n){const s=t.$$.props[e];s!==void 0&&(t.$$.bound[s]=n,n(t.$$.ctx[s]))}function ne(t){t&&t.c()}function Z(t,e,n,s){const{fragment:i,on_mount:o,on_destroy:l,after_update:r}=t.$$;i&&i.m(e,n),s||ce(()=>{const c=o.map(gt).filter(ge);l?l.push(...c):le(c),t.$$.on_mount=[]}),r.forEach(ce)}function Q(t,e){const n=t.$$;n.fragment!==null&&(le(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Kt(t,e){t.$$.dirty[0]===-1&&(ke.push(t),qt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function se(t,e,n,s,i,o,l,r=[-1]){const c=Me;Le(t);const a=t.$$={fragment:null,ctx:null,props:o,update:B,not_equal:i,bound:Xe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:Xe(),dirty:r,skip_bound:!1,root:e.target||c.$$.root};l&&l(a.root);let u=!1;if(a.ctx=n?n(t,e.props||{},(_,d,...p)=>{const g=p.length?p[0]:d;return a.ctx&&i(a.ctx[_],a.ctx[_]=g)&&(!a.skip_bound&&a.bound[_]&&a.bound[_](g),u&&Kt(t,_)),d}):[],a.update(),u=!0,le(a.before_update),a.fragment=s?s(a.ctx):!1,e.target){if(e.hydrate){const _=Ht(e.target);a.fragment&&a.fragment.l(_),_.forEach(j)}else a.fragment&&a.fragment.c();e.intro&&T(t.$$.fragment),Z(t,e.target,e.anchor,e.customElement),kt()}Le(c)}class ie{$destroy(){Q(this,1),this.$destroy=B}$on(e,n){const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(n),()=>{const i=s.indexOf(n);i!==-1&&s.splice(i,1)}}$set(e){this.$$set&&!Ot(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Zt(t){const e=t-1;return e*e*e+1}function Be(t,{delay:e=0,duration:n=400,easing:s=mt}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:s,css:o=>`opacity: ${o*i}`}}function Qe(t,{delay:e=0,duration:n=400,easing:s=Zt}={}){const i=getComputedStyle(t),o=+i.opacity,l=parseFloat(i.height),r=parseFloat(i.paddingTop),c=parseFloat(i.paddingBottom),a=parseFloat(i.marginTop),u=parseFloat(i.marginBottom),_=parseFloat(i.borderTopWidth),d=parseFloat(i.borderBottomWidth);return{delay:e,duration:n,easing:s,css:p=>`overflow: hidden;opacity: ${Math.min(p*20,1)*o};height: ${p*l}px;padding-top: ${p*r}px;padding-bottom: ${p*c}px;margin-top: ${p*a}px;margin-bottom: ${p*u}px;border-top-width: ${p*_}px;border-bottom-width: ${p*d}px;`}}const de=[];function ze(t,e=B){let n;const s=new Set;function i(r){if(V(t,r)&&(t=r,n)){const c=!de.length;for(const a of s)a[1](),de.push(a,t);if(c){for(let a=0;a<de.length;a+=2)de[a][0](de[a+1]);de.length=0}}}function o(r){i(r(t))}function l(r,c=B){const a=[r,c];return s.add(a),s.size===1&&(n=e(i)||B),r(t),()=>{s.delete(a),s.size===0&&(n(),n=null)}}return{set:i,update:o,subscribe:l}}const xe=ze(null),Qt=t=>{xe.set(t),g_Api.setHeader("x-username",t.username)};function Ve(t){let e,n,s;return{c(){e=b("div"),e.textContent="Operators",S(e,"class","item cursor_ptr svelte-1980tew"),D(e,"active",t[0]==="operators"),D(e,"disabled",t[1].has("operators"))},m(i,o){H(i,e,o),n||(s=W(e,"click",t[3]("operators")),n=!0)},p(i,o){o&1&&D(e,"active",i[0]==="operators"),o&2&&D(e,"disabled",i[1].has("operators"))},d(i){i&&j(e),n=!1,s()}}}function et(t){let e,n,s,i,o;return{c(){e=b("div"),e.textContent="New leads",n=I(),s=b("div"),s.textContent="My leads",S(e,"class","item cursor_ptr svelte-1980tew"),D(e,"active",t[0]==="_newLeads"),D(e,"disabled",t[1].has("newLeads")),S(s,"class","item cursor_ptr svelte-1980tew"),D(s,"active",t[0]==="_myLeads"),D(s,"disabled",t[1].has("myLeads"))},m(l,r){H(l,e,r),H(l,n,r),H(l,s,r),i||(o=[W(e,"click",t[3]("newLeads")),W(s,"click",t[3]("myLeads"))],i=!0)},p(l,r){r&1&&D(e,"active",l[0]==="_newLeads"),r&2&&D(e,"disabled",l[1].has("newLeads")),r&1&&D(s,"active",l[0]==="_myLeads"),r&2&&D(s,"disabled",l[1].has("myLeads"))},d(l){l&&j(e),l&&j(n),l&&j(s),i=!1,le(o)}}}function tt(t){let e,n=t[2].username+"",s,i,o;return{c(){e=b("div"),s=q(n),S(e,"class","item cursor_ptr notHover nowrap textOverEllipsis svelte-1980tew"),Y(e,"max-width","200px")},m(l,r){H(l,e,r),v(e,s),o=!0},p(l,r){(!o||r&4)&&n!==(n=l[2].username+"")&&K(s,n)},i(l){o||(ce(()=>{i||(i=me(e,Be,{},!0)),i.run(1)}),o=!0)},o(l){i||(i=me(e,Be,{},!1)),i.run(0),o=!1},d(l){l&&j(e),l&&i&&i.end()}}}function Vt(t){let e,n,s,i,o,l,r=!t[2]&&Ve(t),c=t[2]&&et(t),a=t[2]&&tt(t);return{c(){e=b("div"),r&&r.c(),n=I(),c&&c.c(),s=I(),i=b("div"),o=I(),a&&a.c(),S(i,"class","flex flex_grow_1"),S(e,"class","flex flex_cy w100 list unselect svelte-1980tew")},m(u,_){H(u,e,_),r&&r.m(e,null),v(e,n),c&&c.m(e,null),v(e,s),v(e,i),v(e,o),a&&a.m(e,null),l=!0},p(u,[_]){u[2]?r&&(r.d(1),r=null):r?r.p(u,_):(r=Ve(u),r.c(),r.m(e,n)),u[2]?c?c.p(u,_):(c=et(u),c.c(),c.m(e,s)):c&&(c.d(1),c=null),u[2]?a?(a.p(u,_),_&4&&T(a,1)):(a=tt(u),a.c(),T(a,1),a.m(e,null)):a&&(ue(),N(a,1,1,()=>{a=null}),fe())},i(u){l||(T(a),l=!0)},o(u){N(a),l=!1},d(u){u&&j(e),r&&r.d(),c&&c.d(),a&&a.d()}}}function en(t,e,n){let s;he(t,xe,r=>n(2,s=r));let{select:i=""}=e,{disabled:o=new Set}=e;o.add("newLeads"),o.add("myLeads");const l=r=>c=>{o.has(r)||n(0,i=r)};return t.$$set=r=>{"select"in r&&n(0,i=r.select),"disabled"in r&&n(1,o=r.disabled)},[i,o,s,l]}class tn extends ie{constructor(e){super(),se(this,e,en,Vt,V,{select:0,disabled:1})}}function nn(t){let e;return{c(){e=b("div"),e.innerHTML=`<div class="svelte-j15bjw"></div> 
	<div class="svelte-j15bjw"></div> 
	<div class="svelte-j15bjw"></div>`,S(e,"class","lds-roller svelte-j15bjw")},m(n,s){H(n,e,s)},p:B,i:B,o:B,d(n){n&&j(e)}}}class xt extends ie{constructor(e){super(),se(this,e,null,nn,V,{})}}function nt(t,e,n){const s=t.slice();return s[5]=e[n],s}function ln(t){let e,n,s=t[0],i=[];for(let l=0;l<s.length;l+=1)i[l]=lt(nt(t,s,l));const o=l=>N(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=wt()},m(l,r){for(let c=0;c<i.length;c+=1)i[c].m(l,r);H(l,e,r),n=!0},p(l,r){if(r&5){s=l[0];let c;for(c=0;c<s.length;c+=1){const a=nt(l,s,c);i[c]?(i[c].p(a,r),T(i[c],1)):(i[c]=lt(a),i[c].c(),T(i[c],1),i[c].m(e.parentNode,e))}for(ue(),c=s.length;c<i.length;c+=1)o(c);fe()}},i(l){if(!n){for(let r=0;r<s.length;r+=1)T(i[r]);n=!0}},o(l){i=i.filter(Boolean);for(let r=0;r<i.length;r+=1)N(i[r]);n=!1},d(l){vt(i,l),l&&j(e)}}}function sn(t){let e,n,s,i,o;return i=new xt({}),{c(){e=b("div"),n=b("div"),s=I(),ne(i.$$.fragment),Y(n,"height","20px"),S(e,"class","flex flex_clm flex_grow_1 flex_cy")},m(l,r){H(l,e,r),v(e,n),v(e,s),Z(i,e,null),o=!0},p:B,i(l){o||(T(i.$$.fragment,l),o=!0)},o(l){N(i.$$.fragment,l),o=!1},d(l){l&&j(e),Q(i)}}}function lt(t){let e,n,s=t[5].username+"",i,o,l,r,c=t[5].first_name+"",a,u,_,d,p,g=t[5].last_name+"",k,f,m,h,L,E;return{c(){e=b("div"),n=b("div"),i=q(s),o=I(),l=b("div"),r=b("div"),a=q(c),u=I(),_=b("div"),d=I(),p=b("div"),k=q(g),f=I(),S(n,"class","nowrap textOverEllipsis"),Y(_,"width","8px"),S(l,"class","flex nowrap textOverEllipsis"),S(e,"class","flex flex_clm cursor_ptr item unselect svelte-1n771m2")},m(y,M){H(y,e,M),v(e,n),v(n,i),v(e,o),v(e,l),v(l,r),v(r,a),v(l,u),v(l,_),v(l,d),v(l,p),v(p,k),v(e,f),h=!0,L||(E=W(e,"click",function(){ge(t[2](t[5]))&&t[2](t[5]).apply(this,arguments)}),L=!0)},p(y,M){t=y,(!h||M&1)&&s!==(s=t[5].username+"")&&K(i,s),(!h||M&1)&&c!==(c=t[5].first_name+"")&&K(a,c),(!h||M&1)&&g!==(g=t[5].last_name+"")&&K(k,g)},i(y){h||(y&&ce(()=>{m||(m=me(e,Be,{},!0)),m.run(1)}),h=!0)},o(y){y&&(m||(m=me(e,Be,{},!1)),m.run(0)),h=!1},d(y){y&&j(e),y&&m&&m.end(),L=!1,E()}}}function rn(t){let e,n,s,i;const o=[sn,ln],l=[];function r(c,a){return c[1]?0:1}return n=r(t),s=l[n]=o[n](t),{c(){e=b("div"),s.c(),S(e,"class","flex list flex_grow_1 svelte-1n771m2")},m(c,a){H(c,e,a),l[n].m(e,null),i=!0},p(c,[a]){let u=n;n=r(c),n===u?l[n].p(c,a):(ue(),N(l[u],1,1,()=>{l[u]=null}),fe(),s=l[n],s?s.p(c,a):(s=l[n]=o[n](c),s.c()),T(s,1),s.m(e,null))},i(c){i||(T(s),i=!0)},o(c){N(s),i=!1},d(c){c&&j(e),l[n].d()}}}function on(t,e,n){let s=[],i=!1;const o=async()=>{n(1,i=!0);const c=await g_Api("GET","operators");n(0,s=c.results),n(1,i=!1)};let l=!1;const r=c=>a=>{l||(Qt(c),l=!0)};return o(),[s,i,r]}class an extends ie{constructor(e){super(),se(this,e,on,rn,V,{})}}const St=t=>new Promise(e=>setTimeout(e,t)),Ye=(t,e,n)=>Math.min(n,Math.max(t,e)),Ge=(t,e)=>{let n=null,s=null,i=!0;const o=()=>{i&&setTimeout(o,10);const r=t.parentNode;if(r){const c=r.getBoundingClientRect();(n!==c.width||s!==c.height)&&(n=c.width,s=c.height,t.style.width=`${n}px`,t.style.height=`${s}px`,e&&e.set(c))}};return o(),{destroy:()=>i=!1}},cn=(t,e)=>{let n=null,s=null,i=null,o=null,l=!0;const r=()=>{l&&setTimeout(r,10);const a=t.getBoundingClientRect();(n!==a.width||s!==a.height||i!==a.x||o!==a.y)&&(n=a.width,s=a.height,i=a.x,o=a.y,e&&e.set(a))};return r(),{destroy:()=>l=!1}};const{Map:un}=Ut;function st(t,e,n){const s=t.slice();return s[13]=e[n],s}function fn(t){let e,n,s=[],i=new un,o,l,r=t[1];const c=a=>a[13].tg_id;for(let a=0;a<r.length;a+=1){let u=st(t,r,a),_=c(u);i.set(_,s[a]=it(_,u))}return{c(){e=b("div"),n=b("div");for(let a=0;a<s.length;a+=1)s[a].c();S(n,"class","flex list h100 svelte-10zksmq"),S(e,"class","pos_abs"),Y(e,"overflow","hidden")},m(a,u){H(a,e,u),v(e,n);for(let _=0;_<s.length;_+=1)s[_].m(n,null);t[6](e),o||(l=He(Ge.call(null,e)),o=!0)},p(a,u){u&26&&(r=a[1],s=Lt(s,u,c,1,a,r,i,n,Jt,it,null,st))},i:B,o:B,d(a){a&&j(e);for(let u=0;u<s.length;u+=1)s[u].d();t[6](null),o=!1,l()}}}function dn(t){let e,n,s,i,o;return i=new xt({}),{c(){e=b("div"),n=b("div"),s=I(),ne(i.$$.fragment),Y(n,"height","20px"),S(e,"class","flex flex_clm flex_grow_1 flex_cy")},m(l,r){H(l,e,r),v(e,n),v(e,s),Z(i,e,null),o=!0},p:B,i(l){o||(T(i.$$.fragment,l),o=!0)},o(l){N(i.$$.fragment,l),o=!1},d(l){l&&j(e),Q(i)}}}function it(t,e){let n,s,i=e[13].username+"",o,l,r,c,a=e[13].first_name+"",u,_,d,p,g,k=e[13].last_name+"",f,m,h,L;return{key:t,first:null,c(){n=b("div"),s=b("div"),o=q(i),l=I(),r=b("div"),c=b("div"),u=q(a),_=I(),d=b("div"),p=I(),g=b("div"),f=q(k),m=I(),S(s,"class","nowrap textOverEllipsis"),Y(d,"width","8px"),S(r,"class","flex nowrap textOverEllipsis userAttr svelte-10zksmq"),S(n,"class","flex flex_clm cursor_ptr item unselect pos_abs svelte-10zksmq"),Y(n,"left",e[13].x+"px"),Y(n,"top",e[13].y+"px"),D(n,"disabled",e[3].has(e[13].tg_id)),this.first=n},m(E,y){H(E,n,y),v(n,s),v(s,o),v(n,l),v(n,r),v(r,c),v(c,u),v(r,_),v(r,d),v(r,p),v(r,g),v(g,f),v(n,m),h||(L=W(n,"click",function(){ge(e[4](e[13]))&&e[4](e[13]).apply(this,arguments)}),h=!0)},p(E,y){e=E,y&2&&i!==(i=e[13].username+"")&&K(o,i),y&2&&a!==(a=e[13].first_name+"")&&K(u,a),y&2&&k!==(k=e[13].last_name+"")&&K(f,k),y&2&&Y(n,"left",e[13].x+"px"),y&2&&Y(n,"top",e[13].y+"px"),y&10&&D(n,"disabled",e[3].has(e[13].tg_id))},d(E){E&&j(n),h=!1,L()}}}function _n(t){let e,n,s,i;const o=[dn,fn],l=[];function r(c,a){return c[2]?0:1}return n=r(t),s=l[n]=o[n](t),{c(){e=b("div"),s.c(),S(e,"class","flex cnt h100 pos_rel svelte-10zksmq")},m(c,a){H(c,e,a),l[n].m(e,null),i=!0},p(c,[a]){let u=n;n=r(c),n===u?l[n].p(c,a):(ue(),N(l[u],1,1,()=>{l[u]=null}),fe(),s=l[n],s?s.p(c,a):(s=l[n]=o[n](c),s.c()),T(s,1),s.m(e,null))},i(c){i||(T(s),i=!0)},o(c){N(s),i=!1},d(c){c&&j(e),l[n].d()}}}const mn=160,gn=33,Fe=0;async function rt(){var n;const t=await g_Api("GET","leads/unassigned",{offset:0,limit:20});return((n=t.results)!=null?n:t).map(s=>({...s,date_joined:+new Date(s.date_joined)})).sort((s,i)=>i.date_joined-s.date_joined)}function hn(t,e,n){let s;he(t,xe,f=>n(9,s=f));let i=[],o=new Map,l=[],r=null;function c(){if(!r)return;const f=r.getBoundingClientRect(),m=mn+Fe*2,h=gn+Fe*2,L=Math.max(1,Math.floor(f.width/m)),E=(f.width-L*m)/2,y=Fe;n(1,l=i.map((M,x)=>{const w={...M};return w.x=x%L*m+E,w.y=y+Math.floor(x/L)*h,w}))}let a=!1;async function u(){n(2,a=!0),n(5,i=await rt()),n(2,a=!1),d()}let _=!0;async function d(){for(;_;){await St(1e3);const f=new Set(i.map(x=>x.tg_id)),m=await rt(),h=new Set(m.map(x=>x.tg_id)),L=m.filter(x=>!f.has(x.tg_id)),E=i.filter(x=>!h.has(x.tg_id)),y=Date.now();E.map(x=>o.has(x.tg_id)||o.set(x.tg_id,y)),L.length===0&&E.length===0||n(5,i=[...i,...L].sort((x,w)=>w.date_joined-x.date_joined));const M=new Set;[...o].map(x=>{x[1]+2e3<=y&&M.add(x[0]),x[1]+1e4<=y&&o.delete(x[0])}),M.size&&n(5,i=i.filter(x=>!M.has(x.tg_id)))}}bt(()=>_=!1);let p=!1;const g=f=>async m=>{if(!s||p)return;p=!0;const h=await g_Api("POST",`leads/${f.tg_id}/assign`);h&&(o.set(f.tg_id,Date.now()),n(5,i)),console.log({result:h},i.length,l.length,o.size),p=!1};u();function k(f){ae[f?"unshift":"push"](()=>{r=f,n(0,r)})}return t.$$.update=()=>{t.$$.dirty&33&&c()},[r,l,a,o,g,i,k]}class pn extends ie{constructor(e){super(),se(this,e,hn,_n,V,{})}}function ot(t){let e,n;return{c(){e=b("div"),n=q(t[1]),S(e,"class","username svelte-10cuqsv")},m(s,i){H(s,e,i),v(e,n)},p(s,i){i&2&&K(n,s[1])},d(s){s&&j(e)}}}function vn(t){let e,n,s,i,o,l=t[0]&&t[1]&&ot(t);return{c(){e=b("div"),l&&l.c(),n=I(),s=b("div"),i=b("pre"),o=q(t[2]),S(i,"class","text svelte-10cuqsv"),S(s,"class","flex"),S(e,"class","flex flex_clm chat_item pos_abs svelte-10cuqsv"),D(e,"chat_item_other",t[0]),D(e,"chat_item_self",!t[0])},m(r,c){H(r,e,c),l&&l.m(e,null),v(e,n),v(e,s),v(s,i),v(i,o),t[6](e)},p(r,[c]){r[0]&&r[1]?l?l.p(r,c):(l=ot(r),l.c(),l.m(e,n)):l&&(l.d(1),l=null),c&4&&K(o,r[2]),c&1&&D(e,"chat_item_other",r[0]),c&1&&D(e,"chat_item_self",!r[0])},i:B,o:B,d(r){r&&j(e),l&&l.d(),t[6](null)}}}function wn(t,e,n){let{incoming:s=!1}=e,{username:i=null}=e,{text:o=null}=e,{render_Width:l=1}=e,{render_X:r=-l*2}=e,c=null;function a(u){ae[u?"unshift":"push"](()=>{c=u,n(3,c)})}return t.$$set=u=>{"incoming"in u&&n(0,s=u.incoming),"username"in u&&n(1,i=u.username),"text"in u&&n(2,o=u.text),"render_Width"in u&&n(4,l=u.render_Width),"render_X"in u&&n(5,r=u.render_X)},[s,i,o,c,l,r,a]}class bn extends ie{constructor(e){super(),se(this,e,wn,vn,V,{incoming:0,username:1,text:2,render_Width:4,render_X:5})}}function yn(t){let e,n,s,i;return{c(){e=b("div"),n=b("div"),S(n,"class","pos_abs thumb w100 svelte-1un6dgr"),Y(n,"height",t[1]+"px"),Y(n,"top",t[5](t[0],t[3])+"px"),D(n,"active",t[2]),S(e,"class","pos_rel h100 unselect line svelte-1un6dgr"),D(e,"active",t[2])},m(o,l){H(o,e,l),v(e,n),s||(i=[W(window,"mousemove",t[7]),W(window,"mouseup",t[8]),W(window,"blur",t[8]),W(n,"mousedown",t[6]),He(cn.call(null,e,t[4])),W(e,"mousedown",t[9])],s=!0)},p(o,[l]){l&2&&Y(n,"height",o[1]+"px"),l&9&&Y(n,"top",o[5](o[0],o[3])+"px"),l&4&&D(n,"active",o[2]),l&4&&D(e,"active",o[2])},i:B,o:B,d(o){o&&j(e),s=!1,le(i)}}}function kn(t,e,n){let s,{value_in:i=0}=e,{value_out:o=i}=e,{thumb_Height:l=20}=e;const r=ze(null);he(t,r,f=>n(3,s=f));const c=()=>s?s.height-l:1,a=f=>s?f*c():0;let u=null;const _=f=>{!s||n(2,u={y:f.clientY,value_out:o})},d=f=>{if(!s||!u)return;const m=f.clientY-u.y;if(s.height){const h=m/c();n(0,o=Ye(0,u.value_out+h,1))}},p=f=>{n(2,u=null)},g=f=>{!s||(n(0,o=Ye(0,(f.clientY-s.y-l/2)/c(),1)),n(2,u={y:f.clientY,value_out:o}))},k=()=>{u||n(0,o=Ye(0,i,1))};return t.$$set=f=>{"value_in"in f&&n(10,i=f.value_in),"value_out"in f&&n(0,o=f.value_out),"thumb_Height"in f&&n(1,l=f.thumb_Height)},t.$$.update=()=>{t.$$.dirty&1024&&k()},[o,l,u,s,r,a,_,d,p,g,i]}class Ln extends ie{constructor(e){super(),se(this,e,kn,yn,V,{value_in:10,value_out:0,thumb_Height:1})}}function at(t,e,n){const s=t.slice();return s[31]=e[n],s}function ct(t){return{c:B,m:B,d:B}}function ut(t,e){var o,l,r,c,a,u;let n,s,i;return s=new bn({props:{render_Width:e[7],incoming:(o=e[31])==null?void 0:o.incoming,username:(c=(r=(l=e[0])==null?void 0:l.lead)==null?void 0:r.username)!=null?c:"",text:(u=(a=e[31])==null?void 0:a.text)!=null?u:""}}),{key:t,first:null,c(){n=wt(),ne(s.$$.fragment),this.first=n},m(_,d){H(_,n,d),Z(s,_,d),i=!0},p(_,d){var g,k,f,m,h,L;e=_;const p={};d[0]&128&&(p.render_Width=e[7]),d[0]&2&&(p.incoming=(g=e[31])==null?void 0:g.incoming),d[0]&1&&(p.username=(m=(f=(k=e[0])==null?void 0:k.lead)==null?void 0:f.username)!=null?m:""),d[0]&2&&(p.text=(L=(h=e[31])==null?void 0:h.text)!=null?L:""),s.$set(p)},i(_){i||(T(s.$$.fragment,_),i=!0)},o(_){N(s.$$.fragment,_),i=!1},d(_){_&&j(n),Q(s,_)}}}function Mn(t){let e,n,s,i,o,l,r=[],c=new Map,a,u,_,d,p,g,k,f,m,h,L=t[2]&&ct(),E=t[1];const y=w=>w[31].id;for(let w=0;w<E.length;w+=1){let A=at(t,E,w),F=y(A);c.set(F,r[w]=ut(F,A))}function M(w){t[12](w)}let x={value_in:t[3]};return t[4]!==void 0&&(x.value_out=t[4]),_=new Ln({props:x}),ae.push(()=>Mt(_,"value_out",M)),{c(){e=b("div"),L&&L.c(),n=I(),s=b("div"),i=b("div"),o=b("div"),l=b("div");for(let w=0;w<r.length;w+=1)r[w].c();a=I(),u=b("div"),ne(_.$$.fragment),p=I(),g=b("div"),k=b("textarea"),S(l,"class","pos_rel w100 h100"),S(u,"class","pos_abs h100"),Y(u,"width","10px"),Y(u,"right","0px"),Y(u,"height","calc( 100% - 10px )"),Y(u,"top","5px"),S(o,"class","pos_rel w100 h100"),S(i,"class","flex pos_abs overhide"),S(s,"class","flex flex_grow_1 pos_rel overhide"),S(k,"class","flex flex_grow_1 chat_input_textarea svelte-1hnd2yr"),S(g,"class","flex chat_input svelte-1hnd2yr"),S(e,"class","flex flex_clm flex_grow_1")},m(w,A){H(w,e,A),L&&L.m(e,null),v(e,n),v(e,s),v(s,i),v(i,o),v(o,l);for(let F=0;F<r.length;F+=1)r[F].m(l,null);t[11](l),v(o,a),v(o,u),Z(_,u,null),v(e,p),v(e,g),v(g,k),Ke(k,t[6]),f=!0,m||(h=[W(o,"wheel",t[10]),He(Ge.call(null,i,t[8])),W(k,"input",t[13]),W(k,"keyup",t[9])],m=!0)},p(w,A){w[2]?L||(L=ct(),L.c(),L.m(e,n)):L&&(L.d(1),L=null),A[0]&131&&(E=w[1],ue(),r=Lt(r,A,y,1,w,E,c,l,Xt,ut,null,at),fe());const F={};A[0]&8&&(F.value_in=w[3]),!d&&A[0]&16&&(d=!0,F.value_out=w[4],yt(()=>d=!1)),_.$set(F),A[0]&64&&Ke(k,w[6])},i(w){if(!f){for(let A=0;A<E.length;A+=1)T(r[A]);T(_.$$.fragment,w),f=!0}},o(w){for(let A=0;A<r.length;A+=1)N(r[A]);N(_.$$.fragment,w),f=!1},d(w){w&&j(e),L&&L.d();for(let A=0;A<r.length;A+=1)r[A].d();t[11](null),Q(_),m=!1,le(h)}}}const ft=10,Oe=4;function xn(t,e,n){let s,{dialog:i=null}=e,o=[],l=[],r=[],c=new Set,a=0,u=!1,_=1,d=1,p=null;const g=ze(null);he(t,g,O=>n(22,s=O));const k={id:1,text:"",received_at:new Date().toJSON(),is_read:!0,incoming:!0,dialog:1};let f=-1;async function m(O,z=0,G=20){const $=await g_Api("GET","messages",{dialog_id:O,offset:z,limit:G});if(i&&i.id===O){for(a=$.count;l.length<a;)l.push({id:f--,_isFakeMsg:!0});const U=$.results;U.map((oe,Ee)=>oe.index=z+Ee),U.map(oe=>l[oe.index]=oe)}}let h="";const L=async O=>{if(O.which===13&&(n(6,h=h.trim()),h)){const z={...k};z.id=Math.random()*1e9|0,z.text=h,z.incoming=!1,i&&g_Api("POST","messages",{dialog:i.id,text:h,is_read:!1}),o.push(z),o=o,n(6,h="")}};function E(){o=[],l=[],n(1,r=[]),c=new Set,a=0,console.log("clear all")}let y=null,M=null;async function x(O){if(!O){if(!y)return;y=null,E();return}M!==O.id&&(y=O,M=O.id,E(),o=[],l=[],n(1,r=[]),a=0,n(2,u=!0),await m(O.id),a&&await m(O.id,Math.max(a-20,0),20))}let w=1,A=!0;function F(){if(A&&requestAnimationFrame(F),!s||!p||!l.length)return;s.width;const O=s.height,z=s.width-ft*2,G=ft;n(7,w=Math.floor(z*.9));const $=1+d*(l.length-1);let U=Math.floor($),oe=$-U;U>=l.length&&(U=l.length-1,oe=1);const Ee=[],$e=[];let Ue=null;n(1,r=[]);for(let R=U-22,P=0,be=!0;R<U+2;R++)R<0||R>=l.length||(l[R]._isFakeMsg&&c.add(R),r[P]!==l[R]&&(be&&(be=!1,r.splice(P,1e9)),n(1,r[P]=l[R],r),n(1,r)),n(1,r[P]._drawIndex=P,r),R<U&&Ee.push(r[P]),R>U&&$e.push(r[P]),R===U&&(Ue=r[P]),P++);const we=[...p.children];if(we.length===r.length){we.map((C,re)=>{const ee=r[re];if(!ee||C._remove)return;const At=C.getBoundingClientRect();C._bbox=At;const Ne=Math.floor(G+(ee.incoming?0:s.width*.05));C.__cacheWidth!==w&&(C.__cacheWidth=w,C.style.width=w+"px"),C.__cacheLeft!==Ne&&(C.__cacheLeft=Ne,C.style.left=Ne+"px")});const R=(C,re,ee=1)=>(C.__cacheTop!==re&&(C.__cacheTop=re,C.style.top=re+"px"),re+(C._bbox.height+Oe)*ee);let P=0,be=0;const Je=we[Ue._drawIndex];if(Je){const C=Je;P=O+Oe-(C._bbox.height+Oe)*oe,be=P,P=R(C,P,1)}$e.map((C,re)=>{const ee=we[C._drawIndex];P=R(ee,P,1)}),P=be,Ee.reverse().map((C,re)=>{const ee=we[C._drawIndex];P-=ee._bbox.height+Oe,R(ee,P,0)})}}requestAnimationFrame(F),bt(()=>A=!1);async function pe(){if(c.size){const O=[...c].sort(($,U)=>$-U);c.clear();const z=[];let G={offset:null,limit:0};for(const $ of O){if(G.offset!==null){if(G.limit<=500&&G.offset+G.limit===$){G.limit++;continue}z.push(G)}G={offset:$,limit:1}}G.offset!==null&&z.push(G),i&&await Promise.all(z.map($=>m(i.id,$.offset,$.limit)))}setTimeout(pe,500)}pe();async function J(){i&&await m(i.id,a,20),setTimeout(J,500)}J();const X=O=>{O.deltaY>0?n(3,_=d+1/(l.length-1)):n(3,_=d-1/(l.length-1))};function ve(O){ae[O?"unshift":"push"](()=>{p=O,n(5,p)})}function Se(O){d=O,n(4,d)}function Et(){h=this.value,n(6,h)}return t.$$set=O=>{"dialog"in O&&n(0,i=O.dialog)},t.$$.update=()=>{t.$$.dirty[0]&1&&x(i)},[i,r,u,_,d,p,h,w,g,L,X,ve,Se,Et]}class Sn extends ie{constructor(e){super(),se(this,e,xn,Mn,V,{dialog:0},null,[-1,-1])}}function dt(t,e,n){const s=t.slice();return s[10]=e[n],s}function _t(t){let e,n,s=t[10].lead.username+"",i,o,l,r,c=t[10].lead.first_name+"",a,u,_,d,p,g=t[10].lead.last_name+"",k,f,m,h,L,E;return{c(){e=b("div"),n=b("div"),i=q(s),o=I(),l=b("div"),r=b("div"),a=q(c),u=I(),_=b("div"),d=I(),p=b("div"),k=q(g),f=I(),S(n,"class","nowrap textOverEllipsis"),Y(_,"width","8px"),S(l,"class","flex nowrap textOverEllipsis userAttr svelte-cgg3ci"),S(e,"class","flex flex_clm cursor_ptr item unselect svelte-cgg3ci"),D(e,"active",t[1]&&t[10].id===t[1].id)},m(y,M){H(y,e,M),v(e,n),v(n,i),v(e,o),v(e,l),v(l,r),v(r,a),v(l,u),v(l,_),v(l,d),v(l,p),v(p,k),v(e,f),h=!0,L||(E=W(e,"click",function(){ge(t[2](t[10]))&&t[2](t[10]).apply(this,arguments)}),L=!0)},p(y,M){t=y,(!h||M&1)&&s!==(s=t[10].lead.username+"")&&K(i,s),(!h||M&1)&&c!==(c=t[10].lead.first_name+"")&&K(a,c),(!h||M&1)&&g!==(g=t[10].lead.last_name+"")&&K(k,g),(!h||M&3)&&D(e,"active",t[1]&&t[10].id===t[1].id)},i(y){h||(y&&ce(()=>{m||(m=me(e,Qe,{},!0)),m.run(1)}),h=!0)},o(y){y&&(m||(m=me(e,Qe,{},!1)),m.run(0)),h=!1},d(y){y&&j(e),y&&m&&m.end(),L=!1,E()}}}function En(t){let e,n,s,i,o,l=t[0],r=[];for(let a=0;a<l.length;a+=1)r[a]=_t(dt(t,l,a));const c=a=>N(r[a],1,1,()=>{r[a]=null});return i=new Sn({props:{dialog:t[1]}}),{c(){e=b("div"),n=b("div");for(let a=0;a<r.length;a+=1)r[a].c();s=I(),ne(i.$$.fragment),S(n,"class","flex flex_clm list svelte-cgg3ci"),S(e,"class","flex flex_grow_1 ")},m(a,u){H(a,e,u),v(e,n);for(let _=0;_<r.length;_+=1)r[_].m(n,null);v(e,s),Z(i,e,null),o=!0},p(a,[u]){if(u&7){l=a[0];let d;for(d=0;d<l.length;d+=1){const p=dt(a,l,d);r[d]?(r[d].p(p,u),T(r[d],1)):(r[d]=_t(p),r[d].c(),T(r[d],1),r[d].m(n,null))}for(ue(),d=l.length;d<r.length;d+=1)c(d);fe()}const _={};u&2&&(_.dialog=a[1]),i.$set(_)},i(a){if(!o){for(let u=0;u<l.length;u+=1)T(r[u]);T(i.$$.fragment,a),o=!0}},o(a){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)N(r[u]);N(i.$$.fragment,a),o=!1},d(a){a&&j(e),vt(r,a),Q(i)}}}function An(t,e,n){let s;he(t,xe,u=>n(5,s=u));let i=[],o=null;const l={id:1,text:"",received_at:new Date().toJSON(),is_read:!0,incoming:!0,dialog:1};for(let u=0;u<10;u++){const _={...l};_.id=u+1,_.text="Text...",_.incoming=Math.random()<.5}const r=u=>_=>{n(1,o=u)};async function c(){if(!s)return;const u=await g_Api("GET","dialogs",{offset:0,limit:20});n(0,i=u.results),console.log(i)}c();async function a(){for(;;){const u=await g_Api("GET","dialogs",{offset:0,limit:20});n(0,i=u.results),await St(1e3)}}return a(),[i,o,r]}class On extends ie{constructor(e){super(),se(this,e,An,En,V,{})}}function Tn(t){let e,n,s,i,o,l,r;return n=new pn({}),i=new On({}),{c(){e=b("div"),ne(n.$$.fragment),s=I(),ne(i.$$.fragment),S(e,"class","pos_abs content flex svelte-116f09r"),D(e,"contentHideL__",t[1]!=="newLeads")},m(c,a){H(c,e,a),Z(n,e,null),v(e,s),Z(i,e,null),o=!0,l||(r=He(Ge.call(null,e)),l=!0)},p(c,a){(!o||a&2)&&D(e,"contentHideL__",c[1]!=="newLeads")},i(c){o||(T(n.$$.fragment,c),T(i.$$.fragment,c),o=!0)},o(c){N(n.$$.fragment,c),N(i.$$.fragment,c),o=!1},d(c){c&&j(e),Q(n),Q(i),l=!1,r()}}}function Dn(t){let e,n;return e=new an({}),{c(){ne(e.$$.fragment)},m(s,i){Z(e,s,i),n=!0},p:B,i(s){n||(T(e.$$.fragment,s),n=!0)},o(s){N(e.$$.fragment,s),n=!1},d(s){Q(e,s)}}}function jn(t){let e,n,s,i,o,l,r,c;function a(g){t[2](g)}let u={};t[1]!==void 0&&(u.select=t[1]),n=new tn({props:u}),ae.push(()=>Mt(n,"select",a));const _=[Dn,Tn],d=[];function p(g,k){return g[0]?1:0}return l=p(t),r=d[l]=_[l](t),{c(){e=b("main"),ne(n.$$.fragment),i=I(),o=b("div"),r.c(),S(o,"class","flex flex_grow_1 pos_rel overhide"),S(e,"class","flex flex_clm svelte-116f09r")},m(g,k){H(g,e,k),Z(n,e,null),v(e,i),v(e,o),d[l].m(o,null),c=!0},p(g,[k]){const f={};!s&&k&2&&(s=!0,f.select=g[1],yt(()=>s=!1)),n.$set(f);let m=l;l=p(g),l===m?d[l].p(g,k):(ue(),N(d[m],1,1,()=>{d[m]=null}),fe(),r=d[l],r?r.p(g,k):(r=d[l]=_[l](g),r.c()),T(r,1),r.m(o,null))},i(g){c||(T(n.$$.fragment,g),T(r),c=!0)},o(g){N(n.$$.fragment,g),N(r),c=!1},d(g){g&&j(e),Q(n),d[l].d()}}}function In(){const t=f=>new Promise(m=>setTimeout(m,f)),e=()=>t(200+(Math.random()*200|0)),n={id:1};let s=0;const i={tg_id:123123124,username:"123124123",first_name:"test",last_name:"ewr",date_joined:"2022-10-27T13:48:51.054781Z",esub:"123123",pub_id:"2312",refcode:"123123",subpub:"23123"};let o=[];const l=f=>o.find(m=>String(m.tg_id)===String(f)),r=()=>{const f={...i};f.tg_id+=s,f.first_name+=" "+s,f.last_name+=" "+s,f.date_joined=new Date().toJSON(),f.username=[f.first_name,f.last_name].map(m=>m.trim()).filter(Boolean).join(" ").replace(/\s/g,"_"),s++,o.push(f)},c=()=>[...o],a=()=>c().filter(f=>!f.hasOperator),u=(f,m)=>{var M;const h=m.offset|0,L=Math.max(1,Math.min(1e6,((M=m.limit)!=null?M:20)|0)),E=f.length,y=f.slice(h).slice(0,L);return{count:E,results:y}},_={},d={};let p=1;Array(10).fill().map(r),setInterval(()=>{},2400),setInterval(()=>{},3e3),setInterval(()=>{const f=Object.keys(d),m=f[f.length*Math.random()|0],h=d[m];if(h){const L=h.length?0:1e5;for(let E=0;E<L;E++)h.push({id:p++,dialog:m,text:Math.random()<.5?"Hi. And short message "+(p-1)+" ...":"Hi. And long message "+(p-1)+" ..."+`
 Long!`.repeat(20),is_read:!1,incoming:!0,received_at:new Date().toJSON()})}},1e3);const g={},k=async(f,m,h={})=>{var x,w,A,F,pe;if(!location.hash.match(/real\-api/)){if(f==="GET"&&m==="operators")return await e(),{results:[{username:"stan18k",first_name:"Stanislav",last_name:"Kulakov"},{username:"dmodev",first_name:"Demon",last_name:"Dev"},{username:"idandrey",first_name:"Andrey",last_name:""},{username:"eveascigarettesnbeer",first_name:"YEHA",last_name:""},{username:"eveascigarettesnbeer ".repeat(1e3),first_name:"YEHA",last_name:""},{username:"eveascigarettesnbeer",first_name:"YEHA",last_name:""},{username:"eveascigarettesnbeer",first_name:"YEHA",last_name:""},{username:"eveascigarettesnbeer",first_name:"YEHA",last_name:""},{username:"eveascigarettesnbeer",first_name:"YEHA",last_name:""},{username:"eveascigarettesnbeer ".repeat(1e3),first_name:"YEHA ".repeat(1e3),last_name:"D sf  ".repeat(1e3)}]};if(f==="GET"&&m==="leads/unassigned")return await e(),u(a(),h);if(f==="POST"&&/leads\/\d+\/assign/.test(m)){const J=(x=m.match(/leads\/(\d+)\/assign/))==null?void 0:x[1],X=g["x-username"];if(!J||!X)return!1;const ve=l(J);if(!ve||ve.hasOperator)return!1;ve.hasOperator=!0,n.id++;const Se={...n,lead_id:J,operator:X};return _[X]=(w=_[X])!=null?w:[],_[X].push(Se),d[Se.id]=[],!0}if(f==="GET"&&m==="dialogs"){const J=[...(A=_[g["x-username"]])!=null?A:[]].map(X=>({...X,lead:l(X.lead_id)}));return u(J,h)}if(f==="GET"&&m==="messages"){await e();const J=d[h.dialog_id]=(F=d[h.dialog_id])!=null?F:[];return u(J,h)}if(f==="POST"&&m==="messages")return d[h.dialog]=(pe=d[h.dialog])!=null?pe:[],d[h.dialog].push({id:p++,dialog:h.dialog,text:h.text,is_read:!!h.is_read,incoming:!1,received_at:new Date().toJSON()}),!0}const L="https://92.255.108.70/",E=new URL(L);f==="GET"&&Object.entries(h).map(([J,X])=>E.searchParams.append(J,X)),E.pathname=m+"/";let y;const M={...g};return f==="POST"&&(M["Content-Type"]="application/json",y=JSON.stringify(h)),await(await fetch(E,{method:f,headers:M,body:y})).json()};return k.setHeader=(f,m)=>g[f]=m,k}function Bn(t,e,n){let s;he(t,xe,r=>n(0,s=r));let i="operators";function o(r){r&&n(1,i="newLeads")}globalThis.g_Api=In();function l(r){i=r,n(1,i)}return t.$$.update=()=>{t.$$.dirty&1&&o(s)},[s,i,l]}class Hn extends ie{constructor(e){super(),se(this,e,Bn,jn,V,{})}}new Hn({target:document.getElementById("app")});
