(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function ae(){}const Bt=l=>l;function Kt(l,e){for(const t in e)l[t]=e[t];return l}function tn(l){return l()}function Xt(){return Object.create(null)}function Fe(l){l.forEach(tn)}function Ye(l){return typeof l=="function"}function pe(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}let ct;function Ke(l,e){return ct||(ct=document.createElement("a")),ct.href=e,l===ct.href}function Mn(l){return Object.keys(l).length===0}function Ht(l,...e){if(l==null)return ae;const t=l.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Le(l,e,t){l.$$.on_destroy.push(Ht(e,t))}function Ve(l,e,t){return l.set(t),e}function at(l){return l&&Ye(l.destroy)?l.destroy:ae}const ln=typeof window<"u";let nn=ln?()=>window.performance.now():()=>Date.now(),Gt=ln?l=>requestAnimationFrame(l):ae;const et=new Set;function sn(l){et.forEach(e=>{e.c(l)||(et.delete(e),e.f())}),et.size!==0&&Gt(sn)}function rn(l){let e;return et.size===0&&Gt(sn),{promise:new Promise(t=>{et.add(e={c:l,f:t})}),abort(){et.delete(e)}}}function p(l,e){l.appendChild(e)}function Dn(l){if(!l)return document;const e=l.getRootNode?l.getRootNode():l.ownerDocument;return e&&e.host?e:l.ownerDocument}function Tn(l,e){return p(l.head||l,e),e.sheet}function R(l,e,t){l.insertBefore(e,t||null)}function E(l){l.parentNode.removeChild(l)}function Pt(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function b(l){return document.createElement(l)}function He(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function ne(l){return document.createTextNode(l)}function A(){return ne(" ")}function Be(){return ne("")}function ie(l,e,t,n){return l.addEventListener(e,t,n),()=>l.removeEventListener(e,t,n)}function w(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function On(l){return Array.from(l.childNodes)}function be(l,e){e=""+e,l.wholeText!==e&&(l.data=e)}function Zt(l,e){l.value=e==null?"":e}function H(l,e,t,n){t===null?l.style.removeProperty(e):l.style.setProperty(e,t,n?"important":"")}function Z(l,e,t){l.classList[t?"add":"remove"](e)}function on(l,e,{bubbles:t=!1,cancelable:n=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(l,t,n,e),i}const wt=new Map;let bt=0;function In(l){let e=5381,t=l.length;for(;t--;)e=(e<<5)-e^l.charCodeAt(t);return e>>>0}function Cn(l){const e={style_element:b("style"),rules:{}};return wt.set(l,e),e}function Qt(l,e,t,n,i,s,r,o=0){const a=16.666/n;let f=`{
`;for(let v=0;v<=1;v+=a){const y=e+(t-e)*s(v);f+=v*100+`%{${r(y,1-y)}}
`}const u=f+`100% {${r(t,1-t)}}
}`,m=`__svelte_${In(u)}_${o}`,_=Dn(l),{style_element:d,rules:c}=wt.get(_)||Cn(_);if(!c[m]){const v=Tn(_,d);c[m]=!0,v.insertRule(`@keyframes ${m} ${u}`,v.cssRules.length)}const g=l.style.animation||"";return l.style.animation=`${g?`${g}, `:""}${m} ${n}ms linear ${i}ms 1 both`,bt+=1,m}function An(l,e){const t=(l.style.animation||"").split(", "),n=t.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),i=t.length-n.length;i&&(l.style.animation=n.join(", "),bt-=i,bt||xn())}function xn(){Gt(()=>{bt||(wt.forEach(l=>{const{style_element:e}=l;E(e)}),wt.clear())})}let it;function st(l){it=l}function zt(){if(!it)throw new Error("Function called outside component initialization");return it}function Ut(l){zt().$$.on_mount.push(l)}function Ee(l){zt().$$.on_destroy.push(l)}function an(){const l=zt();return(e,t,{cancelable:n=!1}={})=>{const i=l.$$.callbacks[e];if(i){const s=on(e,t,{cancelable:n});return i.slice().forEach(r=>{r.call(l,s)}),!s.defaultPrevented}return!0}}function fn(l,e){const t=l.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const nt=[],Ne=[],gt=[],xt=[],cn=Promise.resolve();let jt=!1;function un(){jt||(jt=!0,cn.then(dn))}function jn(){return un(),cn}function Re(l){gt.push(l)}function yt(l){xt.push(l)}const It=new Set;let ut=0;function dn(){const l=it;do{for(;ut<nt.length;){const e=nt[ut];ut++,st(e),En(e.$$)}for(st(null),nt.length=0,ut=0;Ne.length;)Ne.pop()();for(let e=0;e<gt.length;e+=1){const t=gt[e];It.has(t)||(It.add(t),t())}gt.length=0}while(nt.length);for(;xt.length;)xt.pop()();jt=!1,It.clear(),st(l)}function En(l){if(l.fragment!==null){l.update(),Fe(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(Re)}}let lt;function Rn(){return lt||(lt=Promise.resolve(),lt.then(()=>{lt=null})),lt}function Ct(l,e,t){l.dispatchEvent(on(`${e?"intro":"outro"}${t}`))}const ht=new Set;let ze;function Me(){ze={r:0,c:[],p:ze}}function De(){ze.r||Fe(ze.c),ze=ze.p}function j(l,e){l&&l.i&&(ht.delete(l),l.i(e))}function P(l,e,t,n){if(l&&l.o){if(ht.has(l))return;ht.add(l),ze.c.push(()=>{ht.delete(l),n&&(t&&l.d(1),n())}),l.o(e)}else n&&n()}const Fn={duration:0};function Te(l,e,t,n){let i=e(l,t),s=n?0:1,r=null,o=null,a=null;function f(){a&&An(l,a)}function u(_,d){const c=_.b-s;return d*=Math.abs(c),{a:s,b:_.b,d:c,duration:d,start:_.start,end:_.start+d,group:_.group}}function m(_){const{delay:d=0,duration:c=300,easing:g=Bt,tick:v=ae,css:y}=i||Fn,k={start:nn()+d,b:_};_||(k.group=ze,ze.r+=1),r||o?o=k:(y&&(f(),a=Qt(l,s,_,c,d,g,y)),_&&v(0,1),r=u(k,c),Re(()=>Ct(l,_,"start")),rn(S=>{if(o&&S>o.start&&(r=u(o,c),o=null,Ct(l,r.b,"start"),y&&(f(),a=Qt(l,s,r.b,r.duration,0,g,i.css))),r){if(S>=r.end)v(s=r.b,1-s),Ct(l,r.b,"end"),o||(r.b?f():--r.group.r||Fe(r.group.c)),r=null;else if(S>=r.start){const D=S-r.start;s=r.a+r.d*g(D/r.duration),v(s,1-s)}}return!!(r||o)}))}return{run(_){Ye(i)?Rn().then(()=>{i=i(),m(_)}):m(_)},end(){f(),r=o=null}}}const Nn=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function _n(l,e){l.d(1),e.delete(l.key)}function tt(l,e){P(l,1,1,()=>{e.delete(l.key)})}function Je(l,e,t,n,i,s,r,o,a,f,u,m){let _=l.length,d=s.length,c=_;const g={};for(;c--;)g[l[c].key]=c;const v=[],y=new Map,k=new Map;for(c=d;c--;){const h=m(i,s,c),O=t(h);let T=r.get(O);T?n&&T.p(h,e):(T=f(O,h),T.c()),y.set(O,v[c]=T),O in g&&k.set(O,Math.abs(c-g[O]))}const S=new Set,D=new Set;function I(h){j(h,1),h.m(o,u),r.set(h.key,h),u=h.first,d--}for(;_&&d;){const h=v[d-1],O=l[_-1],T=h.key,C=O.key;h===O?(u=h.first,_--,d--):y.has(C)?!r.has(T)||S.has(T)?I(h):D.has(C)?_--:k.get(T)>k.get(C)?(D.add(T),I(h)):(S.add(C),_--):(a(O,r),_--)}for(;_--;){const h=l[_];y.has(h.key)||a(h,r)}for(;d;)I(v[d-1]);return v}function kt(l,e,t){const n=l.$$.props[e];n!==void 0&&(l.$$.bound[n]=t,t(l.$$.ctx[n]))}function fe(l){l&&l.c()}function re(l,e,t,n){const{fragment:i,on_mount:s,on_destroy:r,after_update:o}=l.$$;i&&i.m(e,t),n||Re(()=>{const a=s.map(tn).filter(Ye);r?r.push(...a):Fe(a),l.$$.on_mount=[]}),o.forEach(Re)}function oe(l,e){const t=l.$$;t.fragment!==null&&(Fe(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Bn(l,e){l.$$.dirty[0]===-1&&(nt.push(l),un(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function he(l,e,t,n,i,s,r,o=[-1]){const a=it;st(l);const f=l.$$={fragment:null,ctx:null,props:s,update:ae,not_equal:i,bound:Xt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Xt(),dirty:o,skip_bound:!1,root:e.target||a.$$.root};r&&r(f.root);let u=!1;if(f.ctx=t?t(l,e.props||{},(m,_,...d)=>{const c=d.length?d[0]:_;return f.ctx&&i(f.ctx[m],f.ctx[m]=c)&&(!f.skip_bound&&f.bound[m]&&f.bound[m](c),u&&Bn(l,m)),_}):[],f.update(),u=!0,Fe(f.before_update),f.fragment=n?n(f.ctx):!1,e.target){if(e.hydrate){const m=On(e.target);f.fragment&&f.fragment.l(m),m.forEach(E)}else f.fragment&&f.fragment.c();e.intro&&j(l.$$.fragment),re(l,e.target,e.anchor,e.customElement),dn()}st(a)}class ve{$destroy(){oe(this,1),this.$destroy=ae}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const i=n.indexOf(t);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!Mn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Hn(l){const e=l-1;return e*e*e+1}function Ie(l,{delay:e=0,duration:t=400,easing:n=Bt}={}){const i=+getComputedStyle(l).opacity;return{delay:e,duration:t,easing:n,css:s=>`opacity: ${s*i}`}}function St(l,{delay:e=0,duration:t=400,easing:n=Hn}={}){const i=getComputedStyle(l),s=+i.opacity,r=parseFloat(i.height),o=parseFloat(i.paddingTop),a=parseFloat(i.paddingBottom),f=parseFloat(i.marginTop),u=parseFloat(i.marginBottom),m=parseFloat(i.borderTopWidth),_=parseFloat(i.borderBottomWidth);return{delay:e,duration:t,easing:n,css:d=>`overflow: hidden;opacity: ${Math.min(d*20,1)*s};height: ${d*r}px;padding-top: ${d*o}px;padding-bottom: ${d*a}px;margin-top: ${d*f}px;margin-bottom: ${d*u}px;border-top-width: ${d*m}px;border-bottom-width: ${d*_}px;`}}const Qe=[];function Pe(l,e=ae){let t;const n=new Set;function i(o){if(pe(l,o)&&(l=o,t)){const a=!Qe.length;for(const f of n)f[1](),Qe.push(f,l);if(a){for(let f=0;f<Qe.length;f+=2)Qe[f][0](Qe[f+1]);Qe.length=0}}}function s(o){i(o(l))}function r(o,a=ae){const f=[o,a];return n.add(f),n.size===1&&(t=e(i)||ae),o(l),()=>{n.delete(f),n.size===0&&(t(),t=null)}}return{set:i,update:s,subscribe:r}}const rt=new Map,Mt=l=>rt.set(l,(rt.get(l)|0)+1),Dt=l=>rt.set(l,(rt.get(l)|0)-1),Gn=()=>rt,Et=new Map,Pn=(l,e)=>{var n;const t=(n=Et.get(l))!=null?n:{};Object.assign(t,{key:l,duration:e,timeUpdate:Date.now()}),Et.set(l,t)},zn=(l,e)=>Et,$e=()=>{},ot=l=>new Promise(e=>setTimeout(e,l)),xe=(l,e,t)=>Math.min(t,Math.max(l,e)),Tt=(l={})=>(Object.assign(l,{promise:new Promise((e,t)=>Object.assign(l,{resolve:e,reject:t}))}),l),Rt=(l,e)=>{try{if(l===e)return!0;const t=typeof l;if(t!==typeof e)return!1;switch(t){case"undefined":case"boolean":case"bigint":case"symbol":case"string":return l===e;case"number":return isNaN(l)&&isNaN(e)?!0:l===e}if(l===null||e===null)return l===e;if(t!=="object")return!1;if(Array.isArray(l)&&Array.isArray(e))return l.length!==e.length?!1:l.every((o,a)=>Rt(o,e[a]));const i=Object.entries(l),s=Object.entries(e);if(i.length!==s.length)return!1;const r=new Map(s);return i.every(([o,a])=>!(!r.has(o)||!Rt(a,r.get(o))))}catch{}return!1},Un=l=>{let e=!1,t=[];const n=async i=>{e=!0;let s,r,o;try{s=await l()}catch(a){o=!0,r=a}if(i.map(a=>{o&&a.reject(r),a.resolve(s)}),t.length){const a=t;return t=[],n(a)}e=!1};return()=>{const i=Tt();return e?t.push(i):(e=!0,n([i])),i.promise}},qn=l=>{const e=Tt();return setTimeout(e.resolve,l),e},Wn=Symbol("RangeLoadList_ItemLastUpdateTime"),Yn=l=>{var z,Q,K,X;const e=xe(1,((z=l.updateInterval)!=null?z:1e3)|0,36e5),t=xe(1,((Q=l.maxLimit)!=null?Q:50)|0,1e3);let n=l.fLoad;const i=(K=l.onUpdateItem)!=null?K:$e,s=(X=l.onUpdateItemList)!=null?X:$e,r=!!l.isLoadEnd,o=Wn,a={},f=Pe(null),u={subscribe:f.subscribe};let m=0,_=t,d=null;const c=q=>n=q,g=async(q,$)=>{try{const U=await n({offset:q,limit:$});if(typeof U.count=="number"&&Array.isArray(U.results))return U}catch{}return null},v=async(q,$)=>{const U=await g(q,$);if(U){const x=U.results,de=Math.max(0,U.count|0),ge=d!==de,J=Date.now();d=de;const F=[];for(let G=0,W=q;G<x.length&&W<d;G++,W++){const _e=x[G];a[W]!==void 0&&Rt(a[W],_e)||(_e[o]=J,a[W]=_e,i(_e),F.push(_e))}F.length&&s(F),(ge||F.length)&&f.set({total:d,list:a})}},y=async q=>{const $=[];$.push(v(m,_)),d!==null&&m+_<d&&r&&$.push(v(d,t)),await Promise.all($),d!==null&&m+_<d&&r&&q&&await v(d,t)};let k=!1,S=!0,D,I=1;return(async()=>{let q=0;for(;S;){for(;S&&!k;){const $=I;if(await y(q++===0),$===I)break}D=qn(e),await D.promise}})(),{setFLoad:c,update:()=>{I++,D&&D.resolve()},setRange:(q,$)=>{m=Math.max(0,q|0),_=xe(0,$|0,t)},destroy:()=>S=!1,getData_r:()=>u,symbolUpdateTime:o,pause:()=>k=!0,resume:()=>k=!1}},Jn=async l=>{const e=t=>{const n=document.createElement("textarea");n.value=t,n.style.top="0",n.style.left="0",n.style.position="fixed",document.body.appendChild(n),n.focus(),n.select();let i=!1;try{i=!!document.execCommand("copy")}catch(s){console.error("Fallback: Oops, unable to copy",s)}return document.body.removeChild(n),i};try{return navigator.clipboard?(await navigator.clipboard.writeText(l),!0):e(l)}catch(t){console.error(t)}return!1},Xe=(l,e,t=!0)=>{let n=!0;return(async()=>{for(Mt("setIntervalAwait"),t&&await ot(l);n;){try{await e()}catch(i){console.error("setIntervalAwait error",i)}await ot(l)}Dt("setIntervalAwait")})(),()=>n=!1},Vn=(l,e=!0)=>{let t=!0;const n=()=>{!t||(l(),requestAnimationFrame(n))};return e?requestAnimationFrame(n):n(),Mt("requestAnimationFrameLoop"),()=>{t=!1,Dt("requestAnimationFrameLoop")}},Kn=()=>{let l=1;return(e,t)=>{const n=++l;setTimeout(()=>{n===l&&t()},e)}},mn=(l,e)=>{const t=Kn();return()=>t(l,e)},vt=()=>{let l=new Map;try{l=new Map([...new URLSearchParams(location.hash.replace(/^\#/,""))])}catch{}return l},qt=()=>{const l={};return{on:(n,i)=>{var o;const s={event:n,cb:i},r=l[n]=(o=l[n])!=null?o:[];return r.push(s),()=>{const a=r.findIndex(f=>f===s);a!==-1&&r.splice(a,1)}},emit:(n,...i)=>{var s;return((s=l[n])!=null?s:[]).map(r=>r.cb(...i))}}},Xn=()=>{const l={};return l.addModule=(e,t)=>l[e]=t,l},pn=(l,e="file-")=>{const t=document.createElement("a");t.href=l;const n=e+t.pathname.split(/[^a-zA-Z0-9\.\-_]/).pop();t.download=n,t.target="blank",document.body.appendChild(t),t.click(),document.body.removeChild(t)},Ft=l=>pn(l,"image-"),Zn=(l,e)=>{const t=document.createElement("a");t.href=l,t.download=e.replace(/[^a-zA-Z0-9\.\-\+_\x20\x09]/,""),t.target="blank",document.body.appendChild(t),t.click(),document.body.removeChild(t)},Qn=l=>{try{if(typeof l.message=="string")return l.message}catch{}return""},$t=typeof performance=="object"&&typeof performance.now=="function"?performance.now.bind(performance):Date.now,gn=(...l)=>{var t,n;const e=new Date(...l);return[e.toLocaleDateString(),e.toLocaleTimeString(),(n=(t=String(e).match(/GMT[^\s]+/))==null?void 0:t[0])!=null?n:""].filter(Boolean).join(" ")};window.formatFullTimeText=gn;const Lt=Pe(null),hn=Lt.set,dt=(l,e)=>{const{subscribe:t,set:n,update:i}=Pe(l);return[{subscribe:t},s=>{n(s),e&&e(s)}]},$n=(l,e)=>{const{subscribe:t,set:n,update:i}=Pe(l);return[{subscribe:t},i]},es=l=>parseInt(l.id);function ts(l,e,t,n){var ge,J;const i={},s={...e};Object.assign(i,{appConfig:s}),Object.assign(i,{api:t}),Object.assign(i,{moduleMgr:n});const r=qt();Object.assign(i,{events:r});const o=[],a=F=>o.push(F);Object.assign(i,{destroy:()=>o.map(F=>F())});const u=l,[m]=dt(u),[_,d]=dt(null);let c=0;const[g,v]=dt(c),y=Un(t.operatorSelf_GetOnlineInfo),k=async()=>{v(++c);const F=await y();return F&&d(F),v(--c),F};Object.assign(i,{operatorSelf_r:m,operatorSelfLastOnlineInfo_r:_,operatorSelfLastOnlineInfo_Update:k,operatorSelfLastOnline_SetOnlineFlag:async F=>{v(++c);const G=await t.operatorSelf_SetOnlineFlag(F);return G&&d(G),v(--c),G},operatorSelfLastOnlineInfoLoading_r:g});const D=Object.create(null),[I,h]=$n(D),O=F=>{!F.length||h(G=>{for(const W of F)G[es(W)]=W;return G})},T=F=>O([F]),[C,V]=dt(null);Object.assign(i,{dialogMap_r:I,dialogMap_SetDialogList:O,dialogMap_SetDialog:T,dialogActiveID_r:C,dialogActiveID_Set:V});const N=new Map(((ge=s==null?void 0:s.lead_StatusList)!=null?ge:[]).map(F=>[F.id,F])),ee=Object.entries((J=s==null?void 0:s.lead_StatusJumpMap)!=null?J:{}).reduce((F,[G,W])=>(W.map(_e=>{var ye;return(F[_e]=(ye=F[_e])!=null?ye:[]).push(G)}),F),{}),z=F=>{var G;return(G=N.get(F))!=null?G:null},Q=F=>{var G;try{return(G=s.lead_StatusGetID(F))!=null?G:null}catch{}return null},K=F=>{var W,_e,ye;const G=z(F);return{id:F,title:(W=G==null?void 0:G.title)!=null?W:G!=null&&G.id?`#${G==null?void 0:G.id}`:"*UNK*",bgColor:(_e=G==null?void 0:G.bgColor)!=null?_e:"#000",color:(ye=G==null?void 0:G.color)!=null?ye:"#fff"}},X=F=>K(Q(F)),q=(F,G)=>{var W;try{return(W=s.lead_StatusPrevIDResolve(F,G))!=null?W:null}catch{}return null},$=(F,G)=>{try{const W=ee==null?void 0:ee[F],_e=(W==null?void 0:W.length)===1?W==null?void 0:W[0]:(W==null?void 0:W.length)>1?q(F,G):null,ye=z(_e);return ye&&!(ye!=null&&ye.stopPrevSearch)?_e:null}catch{}return null};return Object.assign(i,{lead_GetStatusOrDefault:X,lead_GetStatusByID:z,lead_GetStatusTitle:F=>{var G,W;return(W=(G=z(F))==null?void 0:G.title)!=null?W:F},lead_GetStatusList:F=>{var G;return((G=e==null?void 0:e.lead_StatusList)!=null?G:[]).filter(W=>W.access==="user").filter(W=>W.id!==F).filter(W=>W.id!=="DL")},lead_GetStatusID:Q,lead_StatusPrevIDResolve:q,lead_GetStatusPrevID:$,lead_GetStatusHistory:F=>{let G=Q(F);const W=[G];for(;G=$(G,F),F=null,!!G;)W.unshift(G);return W.map(K).filter(Boolean)}}),a(Xe(e.updateIntervals.sync_online_info,k,!1)),Object.freeze(i),i}function el(l){let e,t,n;return{c(){e=b("div"),e.textContent="Operators",w(e,"class","item cursor_ptr svelte-vbcb9r"),Z(e,"active",l[0]==="operators"),Z(e,"disabled",l[1].has("operators"))},m(i,s){R(i,e,s),t||(n=ie(e,"click",l[3]("operators")),t=!0)},p(i,s){s&1&&Z(e,"active",i[0]==="operators"),s&2&&Z(e,"disabled",i[1].has("operators"))},d(i){i&&E(e),t=!1,n()}}}function tl(l){let e,t=l[2].username+"",n,i,s;return{c(){e=b("div"),n=ne(t),w(e,"class","item cursor_ptr notHover nowrap textOverEllipsis svelte-vbcb9r"),H(e,"max-width","200px")},m(r,o){R(r,e,o),p(e,n),s=!0},p(r,o){(!s||o&4)&&t!==(t=r[2].username+"")&&be(n,t)},i(r){s||(Re(()=>{i||(i=Te(e,Ie,{},!0)),i.run(1)}),s=!0)},o(r){i||(i=Te(e,Ie,{},!1)),i.run(0),s=!1},d(r){r&&E(e),r&&i&&i.end()}}}function ls(l){let e,t,n,i,s,r,o=!l[2]&&el(l),a=l[2]&&0,f=l[2]&&tl(l);return{c(){e=b("div"),o&&o.c(),t=A(),a&&a.c(),n=A(),i=b("div"),s=A(),f&&f.c(),w(i,"class","flex flex_grow_1"),w(e,"class","flex flex_cy w100 list unselect svelte-vbcb9r")},m(u,m){R(u,e,m),o&&o.m(e,null),p(e,t),a&&a.m(e,null),p(e,n),p(e,i),p(e,s),f&&f.m(e,null),r=!0},p(u,[m]){u[2]?o&&(o.d(1),o=null):o?o.p(u,m):(o=el(u),o.c(),o.m(e,t)),u[2],a&&(a.d(1),a=null),u[2]?f?(f.p(u,m),m&4&&j(f,1)):(f=tl(u),f.c(),j(f,1),f.m(e,null)):f&&(Me(),P(f,1,1,()=>{f=null}),De())},i(u){r||(j(f),r=!0)},o(u){P(f),r=!1},d(u){u&&E(e),o&&o.d(),a&&a.d(),f&&f.d()}}}function ns(l,e,t){let n;Le(l,Lt,o=>t(2,n=o));let{select:i=""}=e,{disabled:s=new Set}=e;s.add("newLeads"),s.add("myLeads");const r=o=>a=>{s.has(o)||t(0,i=o)};return l.$$set=o=>{"select"in o&&t(0,i=o.select),"disabled"in o&&t(1,s=o.disabled)},[i,s,n,r]}class ss extends ve{constructor(e){super(),he(this,e,ns,ls,pe,{select:0,disabled:1})}}function ll(l,e,t){const n=l.slice();return n[4]=e[t],n}function nl(l,e,t){const n=l.slice();return n[7]=e[t],n}function sl(l){let e,t=l[7].text+"",n,i;return{c(){e=b("div"),n=ne(t),i=ne("\xA0"),w(e,"class","text svelte-13s1vua"),H(e,"color",l[7].color)},m(s,r){R(s,e,r),p(e,n),R(s,i,r)},p(s,r){r&2&&t!==(t=s[7].text+"")&&be(n,t),r&2&&H(e,"color",s[7].color)},d(s){s&&E(e),s&&E(i)}}}function il(l){let e,t,n=l[4].chunks,i=[];for(let s=0;s<n.length;s+=1)i[s]=sl(nl(l,n,s));return{c(){e=b("div");for(let s=0;s<i.length;s+=1)i[s].c();t=A(),w(e,"class","flex flex_cy line svelte-13s1vua"),Z(e,"mini",l[4].type==="mini")},m(s,r){R(s,e,r);for(let o=0;o<i.length;o+=1)i[o].m(e,null);p(e,t)},p(s,r){if(r&2){n=s[4].chunks;let o;for(o=0;o<n.length;o+=1){const a=nl(s,n,o);i[o]?i[o].p(a,r):(i[o]=sl(a),i[o].c(),i[o].m(e,t))}for(;o<i.length;o+=1)i[o].d(1);i.length=n.length}r&2&&Z(e,"mini",s[4].type==="mini")},d(s){s&&E(e),Pt(i,s)}}}function is(l){let e,t,n,i=l[1],s=[];for(let r=0;r<i.length;r+=1)s[r]=il(ll(l,i,r));return{c(){e=b("div");for(let r=0;r<s.length;r+=1)s[r].c();w(e,"class","flex flex_clm notify svelte-13s1vua"),Z(e,"normal",l[0]==="normal"),Z(e,"error",l[0]==="error"),Z(e,"debug",l[0]==="debug")},m(r,o){R(r,e,o);for(let a=0;a<s.length;a+=1)s[a].m(e,null);n=!0},p(r,[o]){if(o&2){i=r[1];let a;for(a=0;a<i.length;a+=1){const f=ll(r,i,a);s[a]?s[a].p(f,o):(s[a]=il(f),s[a].c(),s[a].m(e,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=i.length}(!n||o&1)&&Z(e,"normal",r[0]==="normal"),(!n||o&1)&&Z(e,"error",r[0]==="error"),(!n||o&1)&&Z(e,"debug",r[0]==="debug")},i(r){n||(r&&Re(()=>{t||(t=Te(e,St,{},!0)),t.run(1)}),n=!0)},o(r){r&&(t||(t=Te(e,St,{},!1)),t.run(0)),n=!1},d(r){r&&E(e),Pt(s,r),r&&t&&t.end()}}}function rs(l,e,t){let{notify:n}=e,i="normal",s=[];const r=()=>{t(0,i=n==null?void 0:n.type),t(1,s=[]),Array.isArray(n==null?void 0:n.data)&&t(1,s=n.data.filter(Boolean).map(o=>{let a="normal",f=[];return typeof o=="string"?f.push({color:"#fff",text:o}):(a=o.type,f=o.chunks?o.chunks:[{color:"#fff",text:o.text}]),f=f.filter(u=>u.text),{type:a,chunks:f}}).filter(o=>o.chunks.length))};return l.$$set=o=>{"notify"in o&&t(2,n=o.notify)},l.$$.update=()=>{l.$$.dirty&4&&r()},[i,s,n]}class os extends ve{constructor(e){super(),he(this,e,rs,is,pe,{notify:2})}}function rl(l,e,t){const n=l.slice();return n[4]=e[t],n}function ol(l,e){let t,n,i;return n=new os({props:{notify:e[4]}}),{key:l,first:null,c(){t=Be(),fe(n.$$.fragment),this.first=t},m(s,r){R(s,t,r),re(n,s,r),i=!0},p(s,r){e=s;const o={};r&1&&(o.notify=e[4]),n.$set(o)},i(s){i||(j(n.$$.fragment,s),i=!0)},o(s){P(n.$$.fragment,s),i=!1},d(s){s&&E(t),oe(n,s)}}}function as(l){let e,t=[],n=new Map,i,s=l[0];const r=o=>o[4].id;for(let o=0;o<s.length;o+=1){let a=rl(l,s,o),f=r(a);n.set(f,t[o]=ol(f,a))}return{c(){e=b("div");for(let o=0;o<t.length;o+=1)t[o].c();w(e,"class","pos_abs notify_list svelte-11tn2wf")},m(o,a){R(o,e,a);for(let f=0;f<t.length;f+=1)t[f].m(e,null);i=!0},p(o,[a]){a&1&&(s=o[0],Me(),t=Je(t,a,r,1,o,s,n,e,tt,ol,null,rl),De())},i(o){if(!i){for(let a=0;a<s.length;a+=1)j(t[a]);i=!0}},o(o){for(let a=0;a<t.length;a+=1)P(t[a]);i=!1},d(o){o&&E(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}const fs=5e3;function cs(l,e,t){let{events:n=qt()}=e,i=1,s=[];const r=o=>a=>{s.push({id:i++,time:Date.now(),type:o,data:a}),t(0,s)};return Ee(Xe(1e3,()=>{const o=Date.now(),a=s.filter(f=>f.time+fs>=o);a.length!==s.length&&t(0,s=a)})),Ee(n.on("error",r("error"))),vt().has("debug")&&Ee(n.on("debug",r("debug"))),l.$$set=o=>{"events"in o&&t(1,n=o.events)},[s,n]}class us extends ve{constructor(e){super(),he(this,e,cs,as,pe,{events:1})}}function al(l){return Object.prototype.toString.call(l)==="[object Date]"}function Nt(l,e){if(l===e||l!==l)return()=>l;const t=typeof l;if(t!==typeof e||Array.isArray(l)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(l)){const n=e.map((i,s)=>Nt(l[s],i));return i=>n.map(s=>s(i))}if(t==="object"){if(!l||!e)throw new Error("Object cannot be null");if(al(l)&&al(e)){l=l.getTime(),e=e.getTime();const s=e-l;return r=>new Date(l+r*s)}const n=Object.keys(e),i={};return n.forEach(s=>{i[s]=Nt(l[s],e[s])}),s=>{const r={};return n.forEach(o=>{r[o]=i[o](s)}),r}}if(t==="number"){const n=e-l;return i=>l+i*n}throw new Error(`Cannot interpolate ${t} values`)}function Ue(l,e={}){const t=Pe(l);let n,i=l;function s(r,o){if(l==null)return t.set(l=r),Promise.resolve();i=r;let a=n,f=!1,{delay:u=0,duration:m=400,easing:_=Bt,interpolate:d=Nt}=Kt(Kt({},e),o);if(m===0)return a&&(a.abort(),a=null),t.set(l=i),Promise.resolve();const c=nn()+u;let g;return n=rn(v=>{if(v<c)return!0;f||(g=d(l,r),typeof m=="function"&&(m=m(l,r)),f=!0),a&&(a.abort(),a=null);const y=v-c;return y>m?(t.set(l=r),!1):(t.set(l=g(_(y/m))),!0)}),n.promise}return{set:s,update:(r,o)=>s(r(i,l),o),subscribe:t.subscribe}}function ds(l){let e,t,n,i,s;var r=l[0].svelteComponent;function o(a){return{props:{options:a[0].options,abort_wr:a[0].abort_wr,result:a[0].result,close:a[7]}}}return r&&(n=new r(o(l))),{c(){e=b("div"),t=b("div"),n&&fe(n.$$.fragment),w(t,"class","flex pos_abs wrapper2 svelte-1c0izo5"),H(t,"max-width",l[2]+"px"),w(e,"class","flex flex_cx wrapper svelte-1c0izo5"),w(e,"style",i=""+(l[6]("left",l[3])+l[6]("top",l[4]))),Z(e,"show",l[5])},m(a,f){R(a,e,f),p(e,t),n&&re(n,t,null),l[8](t),s=!0},p(a,[f]){const u={};if(f&1&&(u.options=a[0].options),f&1&&(u.abort_wr=a[0].abort_wr),f&1&&(u.result=a[0].result),r!==(r=a[0].svelteComponent)){if(n){Me();const m=n;P(m.$$.fragment,1,0,()=>{oe(m,1)}),De()}r?(n=new r(o(a)),fe(n.$$.fragment),j(n.$$.fragment,1),re(n,t,null)):n=null}else r&&n.$set(u);(!s||f&4)&&H(t,"max-width",a[2]+"px"),(!s||f&24&&i!==(i=""+(a[6]("left",a[3])+a[6]("top",a[4]))))&&w(e,"style",i),(!s||f&32)&&Z(e,"show",a[5])},i(a){s||(n&&j(n.$$.fragment,a),s=!0)},o(a){n&&P(n.$$.fragment,a),s=!1},d(a){a&&E(e),n&&oe(n),l[8](null)}}}const At=10,fl=10,cl=4;function _s(l,e,t){let{modalContext:n={}}=e,i,s=2e4,r=null,o=null,a=!1,f=!1;const u=(c,g,v=y=>y)=>g===null?"":`${c}: ${v(g)};`,m=(c,g)=>u(c,g,v=>`${v}px`),_=async()=>{a||(a=!0,t(5,f=!1),await ot(1e3),t(3,r=null),t(4,o=null),t(0,n._needDestroy=!0,n))};Ut(async()=>{await jn(),await ot(10),t(5,f=!a)}),Ee(Vn(()=>{var h,O,T,C;if(!i)return;const c=window.innerWidth,g=window.innerHeight;t(2,s=c-At*2);const v=i.offsetWidth,y=i.offsetHeight,k=v/2,S=y/2;let D=c/2,I=50+S;try{const V=(h=n==null?void 0:n.options)!=null?h:{};if(V!=null&&V.position&&(O=V.position)!=null&&O.target){const N=V.position.target.getBoundingClientRect();((T=V.position)==null?void 0:T.stick)==="bottom"&&(I=N.bottom+cl),((C=V.position)==null?void 0:C.stick)==="top"&&(I=N.top-cl-y),D=N.width/2+N.left}}catch{}D=xe(k+At,D,c-k-At),I=xe(fl,I,g-y-fl),t(3,r=Math.round(D)),t(4,o=Math.round(I))}));function d(c){Ne[c?"unshift":"push"](()=>{i=c,t(1,i)})}return l.$$set=c=>{"modalContext"in c&&t(0,n=c.modalContext)},[n,i,s,r,o,f,m,_,d]}class ms extends ve{constructor(e){super(),he(this,e,_s,ds,pe,{modalContext:0})}}function ps(l){var c,g;let e,t,n=((g=(c=l[0])==null?void 0:c.text)!=null?g:"")+"",i,s,r,o,a,f,u,m,_,d;return{c(){e=b("div"),t=b("div"),i=ne(n),s=A(),r=b("div"),o=b("button"),o.textContent="cancel",a=A(),f=b("div"),u=A(),m=b("button"),m.textContent="continue",w(t,"class","flex text"),w(o,"class","flex nowrap cursor_ptr unselect btn cancel svelte-1dvmulk"),H(f,"width","4px"),w(m,"class","flex nowrap cursor_ptr unselect btn continue svelte-1dvmulk"),w(r,"class","flex btnGroup svelte-1dvmulk"),w(e,"class","flex flex_clm modal svelte-1dvmulk")},m(v,y){R(v,e,y),p(e,t),p(t,i),p(e,s),p(e,r),p(r,o),l[8](o),p(r,a),p(r,f),p(r,u),p(r,m),_||(d=[ie(o,"click",l[3]),ie(m,"click",l[4])],_=!0)},p(v,[y]){var k,S;y&1&&n!==(n=((S=(k=v[0])==null?void 0:k.text)!=null?S:"")+"")&&be(i,n)},i:ae,o:ae,d(v){v&&E(e),l[8](null),_=!1,Fe(d)}}}function gs(l,e,t){let n,i=ae,s=()=>(i(),i=Ht(o,c=>t(7,n=c)),o);l.$$.on_destroy.push(()=>i());let{options:r={}}=e,{abort_wr:o}=e;s();let{result:a}=e,{close:f}=e,u;const m=()=>{a.resolve(!1),f()},_=()=>{a.resolve(!0),f()};Ut(()=>u.focus());function d(c){Ne[c?"unshift":"push"](()=>{u=c,t(2,u)})}return l.$$set=c=>{"options"in c&&t(0,r=c.options),"abort_wr"in c&&s(t(1,o=c.abort_wr)),"result"in c&&t(5,a=c.result),"close"in c&&t(6,f=c.close)},l.$$.update=()=>{l.$$.dirty&128&&n&&m()},[r,o,u,m,_,a,f,n,d]}class hs extends ve{constructor(e){super(),he(this,e,gs,ps,pe,{options:0,abort_wr:1,result:5,close:6})}}function ul(l,e,t){const n=l.slice();return n[5]=e[t],n}function dl(l,e){let t,n,i;return n=new ms({props:{modalContext:e[5]}}),{key:l,first:null,c(){t=Be(),fe(n.$$.fragment),this.first=t},m(s,r){R(s,t,r),re(n,s,r),i=!0},p(s,r){e=s;const o={};r&1&&(o.modalContext=e[5]),n.$set(o)},i(s){i||(j(n.$$.fragment,s),i=!0)},o(s){P(n.$$.fragment,s),i=!1},d(s){s&&E(t),oe(n,s)}}}function vs(l){let e=[],t=new Map,n,i,s=l[0];const r=o=>o[5].id;for(let o=0;o<s.length;o+=1){let a=ul(l,s,o),f=r(a);t.set(f,e[o]=dl(f,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=Be()},m(o,a){for(let f=0;f<e.length;f+=1)e[f].m(o,a);R(o,n,a),i=!0},p(o,[a]){a&1&&(s=o[0],Me(),e=Je(e,a,r,1,o,s,t,n.parentNode,tt,dl,n,ul),De())},i(o){if(!i){for(let a=0;a<s.length;a+=1)j(e[a]);i=!0}},o(o){for(let a=0;a<e.length;a+=1)P(e[a]);i=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&E(n)}}}function ws(l,e,t){let{modules:n}=e,i=[],s=1;const r=a=>{i.push(a),t(0,i)},o=(a,f)=>{const u={type:a,options:f,id:s++,result:Tt(),abort_wr:Pe(!1)};switch(a){case"cancel/continue":u.svelteComponent=hs;break}return u.svelteComponent?(r(u),{abort:()=>u.abort_wr.set(!0),result:u.result.promise}):null};return Ee(Xe(1e3,()=>{const a=i.filter(f=>!f._needDestroy);a.length!==i.length&&t(0,i=a)})),n.addModule("modal",{createModal:o}),l.$$set=a=>{"modules"in a&&t(1,n=a.modules)},[i,n]}class bs extends ve{constructor(e){super(),he(this,e,ws,vs,pe,{modules:1})}}function ys(l){let e,t,n,i,s,r,o,a=l[5](l[1])+"",f,u,m,_,d;return{c(){e=b("div"),t=b("div"),n=ne(l[0]),i=A(),s=b("div"),r=A(),o=b("div"),f=ne(a),u=A(),m=b("div"),w(t,"class","flex nowrap lcKey svelte-6huedz"),H(s,"width","8px"),w(o,"class","flex nowrap lcVal svelte-6huedz"),w(m,"class","flex pos_abs liveRate svelte-6huedz"),H(m,"width",l[2]+"%"),w(e,"class","flex flex_grow_1 pos_rel item svelte-6huedz")},m(c,g){R(c,e,g),p(e,t),p(t,n),p(e,i),p(e,s),p(e,r),p(e,o),p(o,f),p(e,u),p(e,m),d=!0},p(c,[g]){(!d||g&1)&&be(n,c[0]),(!d||g&2)&&a!==(a=c[5](c[1])+"")&&be(f,a),(!d||g&4)&&H(m,"width",c[2]+"%")},i(c){d||(c&&Re(()=>{_||(_=Te(e,St,{},!0)),_.run(1)}),d=!0)},o(c){c&&(_||(_=Te(e,St,{},!1)),_.run(0)),d=!1},d(c){c&&E(e),c&&_&&_.end()}}}function ks(l,e,t){let n,i,{key:s}=e,{duration:r}=e,{liveRate:o}=e;const a=Ue(r);Le(l,a,m=>t(1,n=m));const f=Ue(o);Le(l,f,m=>t(2,i=m));const u=m=>m<1e3?Math.round(m)+"ms":(m/1e3).toFixed(2)+"s";return l.$$set=m=>{"key"in m&&t(0,s=m.key),"duration"in m&&t(6,r=m.duration),"liveRate"in m&&t(7,o=m.liveRate)},l.$$.update=()=>{l.$$.dirty&64&&a.set(r),l.$$.dirty&128&&f.set(o)},[s,n,i,a,f,u,r,o]}class Ss extends ve{constructor(e){super(),he(this,e,ks,ys,pe,{key:0,duration:6,liveRate:7})}}function _l(l,e,t){const n=l.slice();return n[3]=e[t],n}function ml(l,e,t){const n=l.slice();return n[6]=e[t],n}function pl(l){let e,t=[],n=new Map,i,s=[],r=new Map,o,a=l[1];const f=_=>_[6][0];for(let _=0;_<a.length;_+=1){let d=ml(l,a,_),c=f(d);n.set(c,t[_]=gl(c,d))}let u=l[2];const m=_=>_[3].key;for(let _=0;_<u.length;_+=1){let d=_l(l,u,_),c=m(d);r.set(c,s[_]=hl(c,d))}return{c(){e=b("div");for(let _=0;_<t.length;_+=1)t[_].c();i=A();for(let _=0;_<s.length;_+=1)s[_].c();w(e,"class","pos_abs flex flex_clm unselect cnt svelte-1qapcdn")},m(_,d){R(_,e,d);for(let c=0;c<t.length;c+=1)t[c].m(e,null);p(e,i);for(let c=0;c<s.length;c+=1)s[c].m(e,null);o=!0},p(_,d){d&2&&(a=_[1],t=Je(t,d,f,1,_,a,n,e,_n,gl,i,ml)),d&4&&(u=_[2],Me(),s=Je(s,d,m,1,_,u,r,e,tt,hl,null,_l),De())},i(_){if(!o){for(let d=0;d<u.length;d+=1)j(s[d]);o=!0}},o(_){for(let d=0;d<s.length;d+=1)P(s[d]);o=!1},d(_){_&&E(e);for(let d=0;d<t.length;d+=1)t[d].d();for(let d=0;d<s.length;d+=1)s[d].d()}}}function gl(l,e){let t,n,i=e[6][0]+"",s,r,o,a,f,u=e[6][1]+"",m;return{key:l,first:null,c(){t=b("div"),n=b("div"),s=ne(i),r=A(),o=b("div"),a=A(),f=b("div"),m=ne(u),w(n,"class","flex nowrap lcKey svelte-1qapcdn"),H(o,"width","8px"),w(f,"class","flex nowrap lcVal svelte-1qapcdn"),w(t,"class","flex"),this.first=t},m(_,d){R(_,t,d),p(t,n),p(n,s),p(t,r),p(t,o),p(t,a),p(t,f),p(f,m)},p(_,d){e=_,d&2&&i!==(i=e[6][0]+"")&&be(s,i),d&2&&u!==(u=e[6][1]+"")&&be(m,u)},d(_){_&&E(t)}}}function hl(l,e){let t,n,i;return n=new Ss({props:{key:e[3].key,duration:e[3].duration,liveRate:e[3].liveRate}}),{key:l,first:null,c(){t=Be(),fe(n.$$.fragment),this.first=t},m(s,r){R(s,t,r),re(n,s,r),i=!0},p(s,r){e=s;const o={};r&4&&(o.key=e[3].key),r&4&&(o.duration=e[3].duration),r&4&&(o.liveRate=e[3].liveRate),n.$set(o)},i(s){i||(j(n.$$.fragment,s),i=!0)},o(s){P(n.$$.fragment,s),i=!1},d(s){s&&E(t),oe(n,s)}}}function Ls(l){let e,t,n=l[0]&&pl(l);return{c(){n&&n.c(),e=Be()},m(i,s){n&&n.m(i,s),R(i,e,s),t=!0},p(i,[s]){i[0]?n?(n.p(i,s),s&1&&j(n,1)):(n=pl(i),n.c(),j(n,1),n.m(e.parentNode,e)):n&&(Me(),P(n,1,1,()=>{n=null}),De())},i(i){t||(j(n),t=!0)},o(i){P(n),t=!1},d(i){n&&n.d(i),i&&E(e)}}}const vl=2e4;function Ms(l,e,t){let n=!1,i=[],s=[];return Ee(Xe(200,()=>{if(t(0,n=location.hash.indexOf("dev_stat")!==-1),n){t(1,i=[...Gn()].filter(u=>u[1]));const r=zn(),o=Date.now(),a=[],f=[];for(const u of r.values()){const m=xe(0,(u.timeUpdate+vl-o)/vl,1)*100;m||a.push(u.key),f.push({key:u.key,duration:u.duration,liveRate:m})}a.map(u=>r.delete(u)),t(2,s=f)}})),[n,i,s]}class Ds extends ve{constructor(e){super(),he(this,e,Ms,Ls,pe,{})}}function Ts(l){let e,t,n,i,s,r,o,a,f;return{c(){e=b("div"),t=b("div"),n=b("div"),i=A(),s=b("div"),r=A(),o=b("div"),a=A(),f=b("div"),w(n,"class","pos_abs s1 svelte-fxby3d"),w(s,"class","pos_abs s2 svelte-fxby3d"),w(o,"class","pos_abs s3 svelte-fxby3d"),w(f,"class","pos_abs s4 svelte-fxby3d"),w(t,"class","flex pos_rel ellipsis svelte-fxby3d"),H(t,"transform","scale("+l[1]+")"),w(e,"class","flex"),H(e,"height",l[0]+"px"),H(e,"width",l[2]+"px")},m(u,m){R(u,e,m),p(e,t),p(t,n),p(t,i),p(t,s),p(t,r),p(t,o),p(t,a),p(t,f)},p(u,[m]){m&2&&H(t,"transform","scale("+u[1]+")"),m&1&&H(e,"height",u[0]+"px"),m&4&&H(e,"width",u[2]+"px")},i:ae,o:ae,d(u){u&&E(e)}}}function Os(l,e,t){let n,i,{height:s=5}=e;return l.$$set=r=>{"height"in r&&t(0,s=r.height)},l.$$.update=()=>{l.$$.dirty&1&&t(2,n=s/.1625),l.$$.dirty&1&&t(1,i=s/13)},[s,i,n]}class Wt extends ve{constructor(e){super(),he(this,e,Os,Ts,pe,{height:0})}}function wl(l){let e,t,n,i;return t=new Wt({props:{height:6}}),{c(){e=b("div"),fe(t.$$.fragment),w(e,"class","flex pos_abs loading svelte-15wz55f")},m(s,r){R(s,e,r),re(t,e,null),i=!0},i(s){i||(j(t.$$.fragment,s),s&&Re(()=>{n||(n=Te(e,Ie,{},!0)),n.run(1)}),i=!0)},o(s){P(t.$$.fragment,s),s&&(n||(n=Te(e,Ie,{},!1)),n.run(0)),i=!1},d(s){s&&E(e),oe(t),s&&n&&n.end()}}}function Is(l){let e,t,n,i,s,r,o,a,f,u,m,_,d,c=l[0]&&wl();return{c(){e=b("div"),t=b("div"),n=A(),i=b("div"),i.textContent="offline",s=A(),r=b("div"),o=ne(`online\r
		`),a=b("div"),f=ne(l[2]),u=A(),c&&c.c(),w(t,"class","pos_abs h100 onlineProgressTrumb svelte-15wz55f"),H(t,"width",l[1]+"%"),w(i,"class","flex flex_cx flex_cy pos_abs w100 h100 onlineProgressTrackLabel label2 svelte-15wz55f"),Z(i,"hideR",l[1]>=1),w(a,"class","pos_abs onlineProgressTrumbLastTime svelte-15wz55f"),w(r,"class","flex flex_cx flex_cy pos_abs w100 h100 onlineProgressTrackLabel  svelte-15wz55f"),Z(r,"hideL",l[1]<1),w(e,"class","flex flex_cx flex_cy flex_grow_1 onlineProgressTrack pos_rel overhide unselect cursor_ptr svelte-15wz55f")},m(g,v){R(g,e,v),p(e,t),p(e,n),p(e,i),p(e,s),p(e,r),p(r,o),p(r,a),p(a,f),p(e,u),c&&c.m(e,null),m=!0,_||(d=ie(e,"click",l[8]),_=!0)},p(g,[v]){(!m||v&2)&&H(t,"width",g[1]+"%"),(!m||v&2)&&Z(i,"hideR",g[1]>=1),(!m||v&4)&&be(f,g[2]),(!m||v&2)&&Z(r,"hideL",g[1]<1),g[0]?c?v&1&&j(c,1):(c=wl(),c.c(),j(c,1),c.m(e,null)):c&&(Me(),P(c,1,1,()=>{c=null}),De())},i(g){m||(j(c),m=!0)},o(g){P(c),m=!1},d(g){g&&E(e),c&&c.d(),_=!1,d()}}}function Cs(l,e,t){let n,i,s,{endTime:r=0}=e,{intervalTime:o=1}=e,{loading:a=!1}=e;const f=Ue(0);Le(l,f,c=>t(7,s=c));let u=0;function m(){const c=Math.max(0,r-Date.now());t(1,u=Math.floor(xe(0,c/o,1)*100)),Ve(f,s=Math.ceil(c/1e3),s)}Ee(Xe(1e3,m));const _=c=>{const g=Math.floor(c%60);c/=60;const v=Math.floor(c%60);c/=60;const y=Math.floor(c),k=[];return(k.length||y)&&k.push(`${String(y).padStart(k.length?2:1,"0")}h`),(k.length||v)&&k.push(`${String(v).padStart(k.length?2:1,"0")}m`),(k.length||g)&&k.push(`${String(g).padStart(k.length?2:1,"0")}s`),k.join(" ")};function d(c){fn.call(this,l,c)}return l.$$set=c=>{"endTime"in c&&t(4,r=c.endTime),"intervalTime"in c&&t(5,o=c.intervalTime),"loading"in c&&t(0,a=c.loading)},l.$$.update=()=>{l.$$.dirty&128&&t(6,n=Math.ceil(s)),l.$$.dirty&64&&t(2,i=_(n))},[a,u,i,f,r,o,n,s,d]}class As extends ve{constructor(e){super(),he(this,e,Cs,Is,pe,{endTime:4,intervalTime:5,loading:0})}}function xs(l){let e;return{c(){e=ne("\xA0")},m(t,n){R(t,e,n)},p:ae,d(t){t&&E(e)}}}function js(l){let e,t=l[2].username+"",n;return{c(){e=ne("@"),n=ne(t)},m(i,s){R(i,e,s),R(i,n,s)},p(i,s){s&4&&t!==(t=i[2].username+"")&&be(n,t)},d(i){i&&E(e),i&&E(n)}}}function Es(l){var Q,K;let e,t,n,i,s=((Q=l[2].first_name)!=null?Q:"")+"",r,o,a,f,u,m=((K=l[2].last_name)!=null?K:"")+"",_,d,c,g,v,y,k,S,D,I,h,O,T,C,V;function N(X,q){return X[2].username?js:xs}let ee=N(l),z=ee(l);return I=new As({props:{intervalTime:l[1],endTime:l[0],loading:l[3]}}),I.$on("click",l[8]),{c(){e=b("div"),t=b("div"),n=b("div"),i=b("div"),r=ne(s),o=A(),a=b("div"),f=A(),u=b("div"),_=ne(m),d=ne("\xA0"),c=A(),g=b("div"),z.c(),v=A(),y=b("div"),y.innerHTML='<img src="assets/icons/logout.png" draggable="false" class="pos_abs w100 h100 svelte-1qt21qp"/>',k=A(),S=b("div"),D=A(),fe(I.$$.fragment),h=A(),O=b("div"),H(a,"width","8px"),w(n,"class","flex nowrap textOverEllipsis name svelte-1qt21qp"),w(g,"class","nowrap textOverEllipsis username svelte-1qt21qp"),w(y,"class","pos_abs btnLogout svelte-1qt21qp"),w(t,"class","flex flex_clm cursor_ptr pos_rel unselect operator svelte-1qt21qp"),H(S,"height","8px"),H(O,"height","8px"),w(e,"class","flex flex_clm cnt svelte-1qt21qp")},m(X,q){R(X,e,q),p(e,t),p(t,n),p(n,i),p(i,r),p(n,o),p(n,a),p(n,f),p(n,u),p(u,_),p(u,d),p(t,c),p(t,g),z.m(g,null),p(t,v),p(t,y),p(e,k),p(e,S),p(e,D),re(I,e,null),p(e,h),p(e,O),T=!0,C||(V=ie(y,"click",l[7]),C=!0)},p(X,[q]){var U,x;(!T||q&4)&&s!==(s=((U=X[2].first_name)!=null?U:"")+"")&&be(r,s),(!T||q&4)&&m!==(m=((x=X[2].last_name)!=null?x:"")+"")&&be(_,m),ee===(ee=N(X))&&z?z.p(X,q):(z.d(1),z=ee(X),z&&(z.c(),z.m(g,null)));const $={};q&2&&($.intervalTime=X[1]),q&1&&($.endTime=X[0]),q&8&&($.loading=X[3]),I.$set($)},i(X){T||(j(I.$$.fragment,X),T=!0)},o(X){P(I.$$.fragment,X),T=!1},d(X){X&&E(e),z.d(),oe(I),C=!1,V()}}}function Rs(l,e,t){let n,i,s,{app:r}=e;const{operatorSelf_r:o,operatorSelfLastOnlineInfo_r:a,operatorSelfLastOnlineInfoLoading_r:f,operatorSelfLastOnline_SetOnlineFlag:u}=r;Le(l,o,y=>t(2,i=y)),Le(l,a,y=>t(10,n=y)),Le(l,f,y=>t(3,s=y));const m=()=>hn(null);let _=0,d=1;const c=y=>{if(!y){t(0,_=0),t(1,d=1);return}t(0,_=+new Date(y.offline_at)),t(1,d=xe(1,(y.interval|0)*1e3,1e9))};let g=!1;const v=async()=>{var y;!((y=r.appConfig)!=null&&y.operatorSelf_CanSetOnline)||g||(g=!0,await u(!0),g=!1)};return l.$$set=y=>{"app"in y&&t(9,r=y.app)},l.$$.update=()=>{l.$$.dirty&1024&&c(n)},[_,d,i,s,o,a,f,m,v,r,n]}class Fs extends ve{constructor(e){super(),he(this,e,Rs,Es,pe,{app:9})}}const Ot=(l,e)=>{let t=null,n=null,i=!0;const s=()=>{if(!i)return;const o=l.parentNode;if(o){const a=o.getBoundingClientRect();(t!==a.width||n!==a.height)&&(t=a.width,n=a.height,l.style.width=`${t}px`,l.style.height=`${n}px`,e&&e.set(a))}setTimeout(s,10)};return s(),Mt("useAbsSizeFromParent"),{destroy:()=>{i=!1,Dt("useAbsSizeFromParent")}}},Ns=(l,e)=>{let t=null,n=null,i=null,s=null,r=!0;const o=()=>{if(!r)return;const f=l.getBoundingClientRect();(t!==f.width||n!==f.height||i!==f.x||s!==f.y)&&(t=f.width,n=f.height,i=f.x,s=f.y,e&&e.set(f)),setTimeout(o,10)};return o(),Mt("useWatchNodeBBox"),{destroy:()=>{r=!1,Dt("useWatchNodeBBox")}}};function Bs(l){let e,t,n,i,s,r,o,a,f,u,m,_,d,c,g,v,y;return{c(){e=b("div"),t=b("div"),n=b("div"),i=A(),s=b("div"),r=A(),o=b("div"),a=A(),f=b("div"),u=A(),m=b("div"),_=A(),d=b("div"),c=A(),g=b("div"),v=A(),y=b("div"),w(n,"class","svelte-1lltvmx"),w(s,"class","svelte-1lltvmx"),w(o,"class","svelte-1lltvmx"),w(f,"class","svelte-1lltvmx"),w(m,"class","svelte-1lltvmx"),w(d,"class","svelte-1lltvmx"),w(g,"class","svelte-1lltvmx"),w(y,"class","svelte-1lltvmx"),w(t,"class","lds-roller svelte-1lltvmx"),H(t,"transform","scale("+l[2]+")"),H(t,"--loadingItemColor",l[1]),w(e,"class","flex"),H(e,"height",l[0]+"px"),H(e,"width",l[0]+"px")},m(k,S){R(k,e,S),p(e,t),p(t,n),p(t,i),p(t,s),p(t,r),p(t,o),p(t,a),p(t,f),p(t,u),p(t,m),p(t,_),p(t,d),p(t,c),p(t,g),p(t,v),p(t,y)},p(k,[S]){S&4&&H(t,"transform","scale("+k[2]+")"),S&2&&H(t,"--loadingItemColor",k[1]),S&1&&H(e,"height",k[0]+"px"),S&1&&H(e,"width",k[0]+"px")},i:ae,o:ae,d(k){k&&E(e)}}}function Hs(l,e,t){let n,{size:i=80}=e,{color:s="#000"}=e;return l.$$set=r=>{"size"in r&&t(0,i=r.size),"color"in r&&t(1,s=r.color)},l.$$.update=()=>{l.$$.dirty&1&&t(2,n=i/80)},[i,s,n]}class vn extends ve{constructor(e){super(),he(this,e,Hs,Bs,pe,{size:0,color:1})}}function bl(l){let e,t,n,i;return t=new vn({props:{color:"#fff",size:"32"}}),{c(){e=b("div"),fe(t.$$.fragment),w(e,"class","pos_abs loading svelte-9eoyjy")},m(s,r){R(s,e,r),re(t,e,null),i=!0},i(s){i||(j(t.$$.fragment,s),s&&Re(()=>{n||(n=Te(e,Ie,{},!0)),n.run(1)}),i=!0)},o(s){P(t.$$.fragment,s),s&&(n||(n=Te(e,Ie,{},!1)),n.run(0)),i=!1},d(s){s&&E(e),oe(t),s&&n&&n.end()}}}function yl(l){let e,t,n,i;return t=new vn({props:{color:"#fff",size:"24"}}),{c(){e=b("div"),fe(t.$$.fragment),w(e,"class","pos_abs flex flex_cy h100 loading svelte-9eoyjy")},m(s,r){R(s,e,r),re(t,e,null),i=!0},i(s){i||(j(t.$$.fragment,s),s&&Re(()=>{n||(n=Te(e,Ie,{},!0)),n.run(1)}),i=!0)},o(s){P(t.$$.fragment,s),s&&(n||(n=Te(e,Ie,{},!1)),n.run(0)),i=!1},d(s){s&&E(e),oe(t),s&&n&&n.end()}}}function Gs(l){var D;let e,t,n,i,s,r,o,a=((D=l[0])!=null?D:0)+"",f,u,m,_,d,c,g,v,y,k=l[1]&&bl(),S=l[2]&&yl();return{c(){e=b("div"),t=b("div"),n=b("div"),n.textContent="New leads",i=A(),k&&k.c(),s=A(),r=b("div"),o=b("div"),f=ne(a),u=A(),m=b("div"),_=A(),d=b("div"),S&&S.c(),c=ne(`\r
		Get one`),w(n,"class","flex mainLabel svelte-9eoyjy"),w(o,"class","flex labelCountNum svelte-9eoyjy"),w(r,"class","flex flex_cx flex_cy labelCount svelte-9eoyjy"),w(t,"class","flex flex_cx flex_cy flex_clm header pos_rel w100 svelte-9eoyjy"),H(m,"height","4px"),w(d,"class","flex flex_cx flex_cy cursor_ptr noselect pos_rel bntMain svelte-9eoyjy"),Z(d,"disabled",!l[0]&&!l[2]&&!l[3]),Z(d,"btnLoading",l[2]),Z(d,"animationDone",l[3]==="done"),Z(d,"animationFail",l[3]==="fail"),w(e,"class","flex flex_clm wrapMain flex_grow_1 w100 unselect svelte-9eoyjy")},m(I,h){R(I,e,h),p(e,t),p(t,n),p(t,i),k&&k.m(t,null),p(t,s),p(t,r),p(r,o),p(o,f),p(e,u),p(e,m),p(e,_),p(e,d),S&&S.m(d,null),p(d,c),g=!0,v||(y=ie(d,"click",l[4]),v=!0)},p(I,[h]){var O;I[1]?k?h&2&&j(k,1):(k=bl(),k.c(),j(k,1),k.m(t,s)):k&&(Me(),P(k,1,1,()=>{k=null}),De()),(!g||h&1)&&a!==(a=((O=I[0])!=null?O:0)+"")&&be(f,a),I[2]?S?h&4&&j(S,1):(S=yl(),S.c(),j(S,1),S.m(d,c)):S&&(Me(),P(S,1,1,()=>{S=null}),De()),(!g||h&13)&&Z(d,"disabled",!I[0]&&!I[2]&&!I[3]),(!g||h&4)&&Z(d,"btnLoading",I[2]),(!g||h&8)&&Z(d,"animationDone",I[3]==="done"),(!g||h&8)&&Z(d,"animationFail",I[3]==="fail")},i(I){g||(j(k),j(S),g=!0)},o(I){P(k),P(S),g=!1},d(I){I&&E(e),k&&k.d(),S&&S.d(),v=!1,y()}}}function Ps(l,e,t){var u,m;let{app:n}=e,i=0,s=!0,r=!1,o=null;const a=mn(1e3,()=>t(3,o=null)),f=async()=>{if(r||!i)return;t(2,r=!0);const _=await n.api.lead_AssignOneLead();t(3,o=_?"done":"fail"),a(),t(2,r=!1)};return Ee(Xe(xe(100,((m=(u=n==null?void 0:n.appConfig)==null?void 0:u.updateIntervals)==null?void 0:m.new_leads_count)|0,36e5),async()=>{var _;t(0,i=((_=await n.api.lead_GetUnassignedLeadCount())==null?void 0:_.count)|0),t(1,s=!1)},!1)),l.$$set=_=>{"app"in _&&t(5,n=_.app)},[i,s,r,o,f,n]}class zs extends ve{constructor(e){super(),he(this,e,Ps,Gs,pe,{app:5})}}function Us(l){let e,t,n,i,s,r,o,a,f,u,m,_,d,c,g,v,y,k;return{c(){e=b("label"),t=b("input"),n=A(),i=He("svg"),s=He("symbol"),r=He("path"),o=He("defs"),a=He("mask"),f=He("use"),u=He("use"),m=He("path"),_=A(),d=He("svg"),c=He("path"),g=He("path"),v=He("path"),w(t,"type","checkbox"),w(t,"class","svelte-13drl8w"),w(r,"d","M5.22003 7.26C5.72003 7.76 7.57 9.7 8.67 11.45C12.2 6.05 15.65 3.5 19.19 1.69"),w(r,"fill","none"),w(r,"stroke-width","2.25"),w(r,"stroke-linecap","round"),w(r,"stroke-linejoin","round"),w(s,"id","tick-path"),w(s,"viewBox","0 0 21 18"),w(s,"xmlns","http://www.w3.org/2000/svg"),w(f,"class","tick mask svelte-13drl8w"),w(f,"href","#tick-path"),w(a,"id","tick"),w(u,"class","tick svelte-13drl8w"),w(u,"href","#tick-path"),w(u,"stroke","currentColor"),w(m,"fill","white"),w(m,"mask","url(#tick)"),w(m,"d","M18 9C18 10.4464 17.9036 11.8929 17.7589 13.1464C17.5179 15.6054 15.6054 17.5179 13.1625 17.7589C11.8929 17.9036 10.4464 18 9 18C7.55357 18 6.10714 17.9036 4.85357 17.7589C2.39464 17.5179 0.498214 15.6054 0.241071 13.1464C0.0964286 11.8929 0 10.4464 0 9C0 7.55357 0.0964286 6.10714 0.241071 4.8375C0.498214 2.39464 2.39464 0.482143 4.85357 0.241071C6.10714 0.0964286 7.55357 0 9 0C10.4464 0 11.8929 0.0964286 13.1625 0.241071C15.6054 0.482143 17.5179 2.39464 17.7589 4.8375C17.9036 6.10714 18 7.55357 18 9Z"),w(i,"viewBox","0 0 21 18"),w(i,"class","svelte-13drl8w"),w(c,"d","M5.88086 5.89441L9.53504 4.26746"),w(g,"d","M5.5274 8.78838L9.45391 9.55161"),w(v,"d","M3.49371 4.22065L5.55387 0.79198"),w(d,"class","lines svelte-13drl8w"),w(d,"viewBox","0 0 11 11"),w(e,"class","checkbox svelte-13drl8w")},m(S,D){R(S,e,D),p(e,t),t.checked=l[0],p(e,n),p(e,i),p(i,s),p(s,r),p(i,o),p(o,a),p(a,f),p(i,u),p(i,m),p(e,_),p(e,d),p(d,c),p(d,g),p(d,v),y||(k=ie(t,"change",l[1]),y=!0)},p(S,[D]){D&1&&(t.checked=S[0])},i:ae,o:ae,d(S){S&&E(e),y=!1,k()}}}function qs(l,e,t){let{checked:n=!1}=e;function i(){n=this.checked,t(0,n)}return l.$$set=s=>{"checked"in s&&t(0,n=s.checked)},[n,i]}class Ws extends ve{constructor(e){super(),he(this,e,qs,Us,pe,{checked:0})}}function kl(l){let e,t=l[13](l[4])+"",n;return{c(){e=b("div"),n=ne(t),w(e,"class","pos_abs flex flex_cx flex_cy lastTime svelte-n8zo8q")},m(i,s){R(i,e,s),p(e,n)},p(i,s){s&16&&t!==(t=i[13](i[4])+"")&&be(n,t)},d(i){i&&E(e)}}}function Sl(l){var i;let e,t=((i=l[3])==null?void 0:i.unread_messages_count)+"",n;return{c(){e=b("div"),n=ne(t),w(e,"class","pos_abs flex flex_cx flex_cy unreadMsgs svelte-n8zo8q")},m(s,r){R(s,e,r),p(e,n)},p(s,r){var o;r&8&&t!==(t=((o=s[3])==null?void 0:o.unread_messages_count)+"")&&be(n,t)},d(s){s&&E(e)}}}function Ys(l){var de,ge,J,F,G,W,_e,ye,Oe,Se,we;let e,t,n,i,s,r,o=((J=(ge=(de=l[3])==null?void 0:de.lead)==null?void 0:ge.first_name)!=null?J:"")+"",a,f,u,m,_,d=((W=(G=(F=l[3])==null?void 0:F.lead)==null?void 0:G.last_name)!=null?W:"")+"",c,g,v,y,k=((Oe=(ye=(_e=l[3])==null?void 0:_e.last_message)==null?void 0:ye.text)!=null?Oe:"")+"",S,D,I,h,O,T,C,V,N=((Se=l[5])==null?void 0:Se.title)+"",ee,z,Q,K,X,q,$,U=l[4]&&kl(l),x=((we=l[3])==null?void 0:we.unread_messages_count)&&Sl(l);return{c(){e=b("div"),t=b("div"),n=b("div"),i=b("div"),s=A(),r=b("div"),a=ne(o),f=A(),u=b("div"),m=A(),_=b("div"),c=ne(d),g=ne("\xA0"),v=A(),y=b("div"),S=ne(k),D=ne("\xA0"),I=A(),h=b("div"),O=b("div"),T=b("img"),V=A(),ee=ne(N),z=A(),Q=b("div"),K=A(),U&&U.c(),X=A(),x&&x.c(),H(i,"width","8px"),H(u,"width","8px"),w(n,"class","flex nowrap textOverEllipsis userFirstLastName pos_rel svelte-n8zo8q"),w(y,"class","nowrap textOverEllipsis lastMessage pos_rel svelte-n8zo8q"),Ke(T.src,C="assets/icons/status1.png")||w(T,"src",C),w(T,"draggable","false"),w(T,"class","pos_abs statusIcon svelte-n8zo8q"),w(O,"class","flex flex_cy leadStatus pos_rel svelte-n8zo8q"),H(O,"background",l[5].bgColor),H(O,"color",l[5].color),H(Q,"width","4px"),w(h,"class","flex"),w(t,"class","flex flex_clm cursor_ptr item flex_cx unselect pos_rel svelte-n8zo8q"),H(t,"height",l[0]+"px"),Z(t,"active",l[1]===l[7]),Z(t,"disabled",l[12](l[3])),w(e,"class","pos_abs w100 cntWrapper svelte-n8zo8q"),H(e,"transform","translate3d(0px, "+(l[6]+l[2])+"px, 0px)")},m(ce,M){R(ce,e,M),p(e,t),p(t,n),p(n,i),p(n,s),p(n,r),p(r,a),p(n,f),p(n,u),p(n,m),p(n,_),p(_,c),p(_,g),p(t,v),p(t,y),p(y,S),p(y,D),p(t,I),p(t,h),p(h,O),p(O,T),p(O,V),p(O,ee),p(h,z),p(h,Q),p(t,K),U&&U.m(t,null),p(t,X),x&&x.m(t,null),q||($=ie(t,"click",l[11]),q=!0)},p(ce,[M]){var L,B,Y,te,se,le,me,ke,ue,Ce,Ae;M&8&&o!==(o=((Y=(B=(L=ce[3])==null?void 0:L.lead)==null?void 0:B.first_name)!=null?Y:"")+"")&&be(a,o),M&8&&d!==(d=((le=(se=(te=ce[3])==null?void 0:te.lead)==null?void 0:se.last_name)!=null?le:"")+"")&&be(c,d),M&8&&k!==(k=((ue=(ke=(me=ce[3])==null?void 0:me.last_message)==null?void 0:ke.text)!=null?ue:"")+"")&&be(S,k),M&32&&N!==(N=((Ce=ce[5])==null?void 0:Ce.title)+"")&&be(ee,N),M&32&&H(O,"background",ce[5].bgColor),M&32&&H(O,"color",ce[5].color),ce[4]?U?U.p(ce,M):(U=kl(ce),U.c(),U.m(t,X)):U&&(U.d(1),U=null),(Ae=ce[3])!=null&&Ae.unread_messages_count?x?x.p(ce,M):(x=Sl(ce),x.c(),x.m(t,null)):x&&(x.d(1),x=null),M&1&&H(t,"height",ce[0]+"px"),M&130&&Z(t,"active",ce[1]===ce[7]),M&4104&&Z(t,"disabled",ce[12](ce[3])),M&68&&H(e,"transform","translate3d(0px, "+(ce[6]+ce[2])+"px, 0px)")},i:ae,o:ae,d(ce){ce&&E(e),U&&U.d(),x&&x.d(),q=!1,$()}}}function Js(l,e,t){let n,i,s,r,o,a,{app:f}=e;const{dialogMap_r:u,dialogActiveID_r:m,dialogActiveID_Set:_}=f;Le(l,u,h=>t(16,r=h)),Le(l,m,h=>t(7,a=h));let{height:d=54}=e,{dialog_id:c}=e,{y:g=0}=e,{scrollY:v=0}=e;const y=Ue(g);Le(l,y,h=>t(6,o=h));const k=h=>{n&&!S(n)&&_(n.id)},S=h=>{var O;return((O=h==null?void 0:h.lead)==null?void 0:O.status)==="DL"},D=h=>{if(!h)return"";const O=C=>String(C).padStart(2,"0"),T=new Date;return h=new Date(h),h.getYear()===T.getYear()&&h.getMonth()===T.getMonth()?h.getDate()===T.getDate()?`${O(h.getHours())}:${O(h.getMinutes())}`:`${O(h.getDate())}d ${O(h.getHours())}:${O(h.getMinutes())}`:`${O(h.getDate())}.${O(h.getMonth())}.${h.getFullYear()}`},I=h=>{var O,T,C;return(C=(O=h==null?void 0:h.last_message)==null?void 0:O.received_at)!=null?C:(T=h==null?void 0:h.lead)==null?void 0:T.date_joined};return l.$$set=h=>{"app"in h&&t(14,f=h.app),"height"in h&&t(0,d=h.height),"dialog_id"in h&&t(1,c=h.dialog_id),"y"in h&&t(15,g=h.y),"scrollY"in h&&t(2,v=h.scrollY)},l.$$.update=()=>{l.$$.dirty&32768&&Ve(y,o=g,o),l.$$.dirty&65538&&t(3,n=r[c]),l.$$.dirty&16392&&t(5,i=f.lead_GetStatusOrDefault(n==null?void 0:n.lead)),l.$$.dirty&8&&t(4,s=I(n))},[d,c,v,n,s,i,o,a,u,m,y,k,S,D,f,g,r]}class Vs extends ve{constructor(e){super(),he(this,e,Js,Ys,pe,{app:14,height:0,dialog_id:1,y:15,scrollY:2})}}function Ks(l){let e,t,n,i;return{c(){e=b("div"),t=b("div"),w(t,"class","pos_abs thumb w100 svelte-5ca5ia"),H(t,"height",l[1]+"px"),H(t,"transform","translate(0px, "+l[5](l[0],l[2],l[1])+"px)"),Z(t,"active",l[3]),w(e,"class","pos_rel h100 unselect line svelte-5ca5ia"),Z(e,"active",l[3])},m(s,r){R(s,e,r),p(e,t),n||(i=[ie(window,"mousemove",l[7]),ie(window,"mouseup",l[8]),ie(window,"blur",l[8]),ie(t,"mousedown",l[6]),at(Ns.call(null,e,l[4])),ie(e,"mousedown",l[9])],n=!0)},p(s,[r]){r&2&&H(t,"height",s[1]+"px"),r&7&&H(t,"transform","translate(0px, "+s[5](s[0],s[2],s[1])+"px)"),r&8&&Z(t,"active",s[3]),r&8&&Z(e,"active",s[3])},i:ae,o:ae,d(s){s&&E(e),n=!1,Fe(i)}}}function Xs(l,e,t){let n;const i=S=>xe(0,Array.isArray(S)?S[0]:S,1);let{value_in:s=0}=e,{value_out:r=i(s)}=e,{thumb_Height:o=20}=e,{thumb_HeightRate:a=null}=e;const f=Pe(null);Le(l,f,S=>t(2,n=S));const u=()=>n?n.height-o:1,m=S=>n?S*u():0,_=()=>{if(!n)return 1;if(a===null)return o;t(1,o=xe(.1,a,1)*n.height)};let d=null;const c=S=>{!n||t(3,d={y:S.clientY,value_out:r})},g=S=>{if(!n||!d)return;const D=S.clientY-d.y;if(n.height){const I=D/u();t(0,r=xe(0,d.value_out+I,1))}},v=S=>{t(3,d=null)},y=S=>{!n||d||(t(0,r=xe(0,(S.clientY-n.y-o/2)/u(),1)),t(3,d={y:S.clientY,value_out:r}))},k=()=>{if(!n)return 0;d||t(0,r=i(s))};return l.$$set=S=>{"value_in"in S&&t(10,s=S.value_in),"value_out"in S&&t(0,r=S.value_out),"thumb_Height"in S&&t(1,o=S.thumb_Height),"thumb_HeightRate"in S&&t(11,a=S.thumb_HeightRate)},l.$$.update=()=>{l.$$.dirty&2052&&_(),l.$$.dirty&1024&&k()},[r,o,n,d,f,m,c,g,v,y,s,a]}class wn extends ve{constructor(e){super(),he(this,e,Xs,Ks,pe,{value_in:10,value_out:0,thumb_Height:1,thumb_HeightRate:11})}}const{Map:Zs}=Nn;function Ll(l,e,t){const n=l.slice();return n[24]=e[t],n}function Ml(l,e){let t,n,i;return n=new Vs({props:{app:e[0],dialog_id:e[24].dialog_id,scrollY:-e[2],y:e[24].y}}),{key:l,first:null,c(){t=Be(),fe(n.$$.fragment),this.first=t},m(s,r){R(s,t,r),re(n,s,r),i=!0},p(s,r){e=s;const o={};r&1&&(o.app=e[0]),r&16&&(o.dialog_id=e[24].dialog_id),r&4&&(o.scrollY=-e[2]),r&16&&(o.y=e[24].y),n.$set(o)},i(s){i||(j(n.$$.fragment,s),i=!0)},o(s){P(n.$$.fragment,s),i=!1},d(s){s&&E(t),oe(n,s)}}}function Dl(l){let e,t,n,i;function s(o){l[14](o)}let r={value_in:l[5],thumb_HeightRate:l[6]};return l[1]!==void 0&&(r.value_out=l[1]),t=new wn({props:r}),Ne.push(()=>kt(t,"value_out",s)),{c(){e=b("div"),fe(t.$$.fragment),w(e,"class","pos_abs h100 dialogScroll svelte-1l0pdn")},m(o,a){R(o,e,a),re(t,e,null),i=!0},p(o,a){const f={};a&32&&(f.value_in=o[5]),a&64&&(f.thumb_HeightRate=o[6]),!n&&a&2&&(n=!0,f.value_out=o[1],yt(()=>n=!1)),t.$set(f)},i(o){i||(j(t.$$.fragment,o),i=!0)},o(o){P(t.$$.fragment,o),i=!1},d(o){o&&E(e),oe(t)}}}function Tl(l){let e,t,n,i,s;return{c(){e=b("div"),e.innerHTML='<img class="flex" draggable="false" style="filter: invert(1);" src="assets/icons/arrow-up.png"/>',w(e,"class","flex pos_abs cursor_ptr btnScrollUp svelte-1l0pdn")},m(r,o){R(r,e,o),n=!0,i||(s=ie(e,"click",l[15]),i=!0)},p:ae,i(r){n||(r&&Re(()=>{t||(t=Te(e,Ie,{},!0)),t.run(1)}),n=!0)},o(r){r&&(t||(t=Te(e,Ie,{},!1)),t.run(0)),n=!1},d(r){r&&E(e),r&&t&&t.end(),i=!1,s()}}}function Qs(l){let e,t,n=[],i=new Zs,s,r,o,a,f,u=l[4];const m=c=>c[24].dialog_id;for(let c=0;c<u.length;c+=1){let g=Ll(l,u,c),v=m(g);i.set(v,n[c]=Ml(v,g))}let _=l[6]<1&&Dl(l),d=l[6]<1&&l[7]&&Tl(l);return{c(){e=b("div"),t=b("div");for(let c=0;c<n.length;c+=1)n[c].c();s=A(),_&&_.c(),r=A(),d&&d.c(),w(t,"class","flex overhide pos_rel"),w(e,"class","flex flex_grow_1 pos_rel"),H(e,"--itemHeight",We+"px")},m(c,g){R(c,e,g),p(e,t);for(let v=0;v<n.length;v+=1)n[v].m(t,null);p(e,s),_&&_.m(e,null),p(e,r),d&&d.m(e,null),o=!0,a||(f=[at(Ot.call(null,t,l[8])),ie(e,"wheel",l[10],{passive:!0})],a=!0)},p(c,[g]){g&21&&(u=c[4],Me(),n=Je(n,g,m,1,c,u,i,t,tt,Ml,null,Ll),De()),c[6]<1?_?(_.p(c,g),g&64&&j(_,1)):(_=Dl(c),_.c(),j(_,1),_.m(e,r)):_&&(Me(),P(_,1,1,()=>{_=null}),De()),c[6]<1&&c[7]?d?(d.p(c,g),g&192&&j(d,1)):(d=Tl(c),d.c(),j(d,1),d.m(e,null)):d&&(Me(),P(d,1,1,()=>{d=null}),De())},i(c){if(!o){for(let g=0;g<u.length;g+=1)j(n[g]);j(_),j(d),o=!0}},o(c){for(let g=0;g<n.length;g+=1)P(n[g]);P(_),P(d),o=!1},d(c){c&&E(e);for(let g=0;g<n.length;g+=1)n[g].d();_&&_.d(),d&&d.d(),a=!1,Fe(f)}}}const We=54;function $s(l,e,t){let n,i,s=ae,r=()=>(s(),s=Ht(c,z=>t(13,i=z)),c),o;l.$$.on_destroy.push(()=>s());let{app:a}=e;const{dialogMap_SetDialogList:f}=a;let{filter:u={}}=e;const m=z=>{var Q,K;return[u.filterUnreadFirst?1:0,(Q=u.filterTag)!=null?Q:"",(K=u.filterStatus)!=null?K:""].join("/")};let _={},d=null,c=Pe(null);r();function g(){const z={...u},Q=m();_[Q]||(_[Q]=Yn({fLoad:K=>(K={unread_first:z.filterUnreadFirst?1:0,...K},z.filterTag&&(K.tag=z.filterTag),z.filterStatus&&(K.status=z.filterStatus),a.api.dialog_GetList(K)),updateInterval:500,isLoadEnd:!1,onUpdateItemList:f})),d!==_[Q]&&([...Object.values(_)].map(K=>K.pause()),d=_[Q],d.resume(),console.log({filterHash:Q}),r(t(3,c=d.getData_r())))}Ee(()=>[...Object.values(_)].map(z=>z.destroy()));let v=[];const y=Pe(null);Le(l,y,z=>t(12,n=z));let k=0,S=0,D=1,I=0,h=Ue(I,{duration:200});Le(l,h,z=>t(2,o=z));function O(){if(!n||!i)return;const z=Math.max(1,Math.floor(n.height)),Q=i.total*We,K=Q-z;t(6,D=Q?xe(0,z/Q,1):1),K<0?I=0:I=S*K,Ve(h,o=I,o)}let T=!1;function C(){if(!n||!i)return;const z=i,Q=Math.max(1,Math.floor(n.height)),K=Math.ceil(Q/We);i.total*We;let q=Math.max(0,Math.floor(o/We)-1);const $=K+2;q>z.total&&(q=Math.max(0,z.total-$)),d&&d.setRange(q,$);const U=[];for(let x=q,de=0;de<$&&x<z.total;de++,x++){const ge=z.list[x];U.push({index:x,item:ge,y:x*We})}t(4,v=[...new Map(U.filter(x=>x.item).map(x=>[x.item.id,x]))].map(([x,de])=>({dialog_id:de.item.id,y:de.y}))),t(7,T=q>1)}const V=z=>{if(!n||!i)return;const Q=i,K=Math.max(1,Math.floor(n.height)),q=Q.total*We-K;if(q<0)return;const $=z.deltaY>0?1:-1;t(5,k=[S+We/q*$])};function N(z){S=z,t(1,S)}const ee=()=>t(5,k=[0]);return l.$$set=z=>{"app"in z&&t(0,a=z.app),"filter"in z&&t(11,u=z.filter)},l.$$.update=()=>{l.$$.dirty&2048&&g(),l.$$.dirty&12290&&O(),l.$$.dirty&12292&&C()},[a,S,o,c,v,k,D,T,y,h,V,u,n,i,N,ee]}class ei extends ve{constructor(e){super(),he(this,e,$s,Qs,pe,{app:0,filter:11})}}function Ol(l,e,t){const n=l.slice();return n[6]=e[t],n}function Il(l){let e,t,n,i,s=[],r=new Map,o=l[0];const a=f=>f[6].id;for(let f=0;f<o.length;f+=1){let u=Ol(l,o,f),m=a(u);r.set(m,s[f]=Cl(m,u))}return{c(){e=b("div"),t=b("div"),t.textContent="Filter status",n=A(),i=b("div");for(let f=0;f<s.length;f+=1)s[f].c();w(t,"class","flex label svelte-1ovi0to"),w(i,"class","flex unselect"),w(e,"class","flex flex_clm unselect")},m(f,u){R(f,e,u),p(e,t),p(e,n),p(e,i);for(let m=0;m<s.length;m+=1)s[m].m(i,null)},p(f,u){u&3&&(o=f[0],s=Je(s,u,a,1,f,o,r,i,_n,Cl,null,Ol))},d(f){f&&E(e);for(let u=0;u<s.length;u+=1)s[u].d()}}}function Cl(l,e){let t,n=e[6].title+"",i,s,r;return{key:l,first:null,c(){var o,a,f,u;t=b("div"),i=ne(n),w(t,"class","flex flex_cx flex_cy nowrap cursor_ptr statusItem svelte-1ovi0to"),H(t,"background",(a=(o=e[6])==null?void 0:o.bgColor)!=null?a:"#000"),H(t,"color",(u=(f=e[6])==null?void 0:f.color)!=null?u:"#fff"),Z(t,"select",e[6]._select),this.first=t},m(o,a){R(o,t,a),p(t,i),s||(r=ie(t,"click",function(){Ye(e[1](e[6]))&&e[1](e[6]).apply(this,arguments)}),s=!0)},p(o,a){var f,u,m,_;e=o,a&1&&n!==(n=e[6].title+"")&&be(i,n),a&1&&H(t,"background",(u=(f=e[6])==null?void 0:f.bgColor)!=null?u:"#000"),a&1&&H(t,"color",(_=(m=e[6])==null?void 0:m.color)!=null?_:"#fff"),a&1&&Z(t,"select",e[6]._select)},d(o){o&&E(t),s=!1,r()}}}function ti(l){let e,t=l[0].length>1&&Il(l);return{c(){t&&t.c(),e=Be()},m(n,i){t&&t.m(n,i),R(n,e,i)},p(n,[i]){n[0].length>1?t?t.p(n,i):(t=Il(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ae,o:ae,d(n){t&&t.d(n),n&&E(e)}}}const Al="__ALL__";function li(l,e,t){var a,f;let{app:n}=e,{filterStatus:i=null}=e,s=[{title:"ALL",id:Al,color:"#000",bgColor:"#fff",_select:!0},...((f=(a=n==null?void 0:n.appConfig)==null?void 0:a.lead_StatusFilterList)!=null?f:[]).map(n.lead_GetStatusByID).map(u=>({...u,_select:!1}))];const r=()=>{var u,m;t(0,s),t(2,i=s.length?s[0]._select?null:(m=(u=s.find(_=>_._select))==null?void 0:u.id)!=null?m:null:null)},o=u=>{const m=!u._select;return m?(s.map(_=>_._select=!1),u._select=m,r()):u.id===Al?void 0:(t(0,s[0]._select=!0,s),u._select=m,r())};return r(),l.$$set=u=>{"app"in u&&t(3,n=u.app),"filterStatus"in u&&t(2,i=u.filterStatus)},[s,o,i,n]}class ni extends ve{constructor(e){super(),he(this,e,li,ti,pe,{app:3,filterStatus:2})}}function xl(l){let e,t,n,i,s,r,o,a,f;return{c(){e=b("img"),n=A(),i=b("div"),s=b("div"),s.innerHTML='<img class="w100 h100 svelte-1m8yuzj" draggable="false" src="assets/icons/download.png"/>',r=A(),o=b("div"),o.innerHTML='<img class="w100 h100 svelte-1m8yuzj" draggable="false" src="assets/icons/fullscreen.png"/>',w(e,"class","a_img svelte-1m8yuzj"),Ke(e.src,t=l[2].url)||w(e,"src",t),H(e,"max-height",l[4]+"px"),w(s,"class","flex cursor_ptr imgCtrlBtn svelte-1m8yuzj"),w(o,"class","flex cursor_ptr imgCtrlBtn svelte-1m8yuzj"),w(i,"class","flex pos_abs imgCtrlBtnGroup svelte-1m8yuzj")},m(u,m){R(u,e,m),R(u,n,m),R(u,i,m),p(i,s),p(i,r),p(i,o),a||(f=[ie(s,"click",function(){Ye(l[5](l[2]))&&l[5](l[2]).apply(this,arguments)}),ie(o,"click",function(){Ye(l[6](l[2]))&&l[6](l[2]).apply(this,arguments)})],a=!0)},p(u,m){l=u,m&4&&!Ke(e.src,t=l[2].url)&&w(e,"src",t),m&16&&H(e,"max-height",l[4]+"px")},d(u){u&&E(e),u&&E(n),u&&E(i),a=!1,Fe(f)}}}function jl(l){let e,t,n,i,s,r,o;return{c(){e=b("img"),n=A(),i=b("div"),s=b("div"),s.innerHTML='<img class="w100 h100 svelte-1m8yuzj" draggable="false" src="assets/icons/download.png"/>',w(e,"class","a_img fileIcon svelte-1m8yuzj"),Ke(e.src,t="assets/icons/folder.png")||w(e,"src",t),H(e,"max-height",l[4]+"px"),w(s,"class","flex cursor_ptr imgCtrlBtn svelte-1m8yuzj"),w(i,"class","flex pos_abs imgCtrlBtnGroup svelte-1m8yuzj")},m(a,f){R(a,e,f),R(a,n,f),R(a,i,f),p(i,s),r||(o=ie(s,"click",l[13]),r=!0)},p(a,f){f&16&&H(e,"max-height",a[4]+"px")},d(a){a&&E(e),a&&E(n),a&&E(i),r=!1,o()}}}function El(l){var i;let e,t=((i=l[0])==null?void 0:i.text)+"",n;return{c(){e=b("pre"),n=ne(t),w(e,"class","w100 text textPre svelte-1m8yuzj")},m(s,r){R(s,e,r),p(e,n)},p(s,r){var o;r&1&&t!==(t=((o=s[0])==null?void 0:o.text)+"")&&be(n,t)},d(s){s&&E(e)}}}function si(l){var m,_;let e,t,n,i,s,r=l[7]((m=l[0])==null?void 0:m.received_at)+"",o,a=l[2]&&xl(l),f=l[3]&&jl(l),u=((_=l[0])==null?void 0:_.text)&&El(l);return{c(){var d,c,g,v;e=b("div"),a&&a.c(),t=A(),f&&f.c(),n=A(),u&&u.c(),i=A(),s=b("div"),o=ne(r),w(s,"class","flex pos_abs unselect date svelte-1m8yuzj"),Z(s,"attachment_mode",l[2]&&!((d=l[0])!=null&&d.text)),w(e,"class","flex flex_clm overhide pos_abs chat_item svelte-1m8yuzj"),Z(e,"chat_item_other",(c=l[0])==null?void 0:c.incoming),Z(e,"chat_item_self",!((g=l[0])!=null&&g.incoming)),Z(e,"has_text",(v=l[0])==null?void 0:v.text)},m(d,c){R(d,e,c),a&&a.m(e,null),p(e,t),f&&f.m(e,null),p(e,n),u&&u.m(e,null),p(e,i),p(e,s),p(s,o),l[14](e)},p(d,[c]){var g,v,y,k,S,D;d[2]?a?a.p(d,c):(a=xl(d),a.c(),a.m(e,t)):a&&(a.d(1),a=null),d[3]?f?f.p(d,c):(f=jl(d),f.c(),f.m(e,n)):f&&(f.d(1),f=null),(g=d[0])!=null&&g.text?u?u.p(d,c):(u=El(d),u.c(),u.m(e,i)):u&&(u.d(1),u=null),c&1&&r!==(r=d[7]((v=d[0])==null?void 0:v.received_at)+"")&&be(o,r),c&5&&Z(s,"attachment_mode",d[2]&&!((y=d[0])!=null&&y.text)),c&1&&Z(e,"chat_item_other",(k=d[0])==null?void 0:k.incoming),c&1&&Z(e,"chat_item_self",!((S=d[0])!=null&&S.incoming)),c&1&&Z(e,"has_text",(D=d[0])==null?void 0:D.text)},i:ae,o:ae,d(d){d&&E(e),a&&a.d(),f&&f.d(),u&&u.d(),l[14](null)}}}function ii(l,e,t){let{app:n}=e,{bbox:i=null}=e,{message:s=null}=e,{render_Width:r=1}=e,{render_X:o=-r*2}=e,a=null,f=null,u=null,m=null,_=[],d=[],c=1;function g(h){var T;_=[],d=[],h&&(T=h.attachments)!=null&&T.length&&(_=h.attachments.filter(C=>C.file_type==="IM").map(C=>({url:C.url})),d=h.attachments.filter(C=>C.file_type==="DC").map(C=>({url:C.url})));const O=i.height*.7;i.width,t(4,c=O),t(2,u=_==null?void 0:_[0]),t(3,m=d==null?void 0:d[0])}function v(h){if(!h||!Array.isArray(h.attachments)){t(0,f=null);return}if(!f){t(0,f=h);return}if(f.text!==h.text||f.incoming!==h.incoming||f.received_at!==h.received_at||f.attachments.length!==h.attachments.length){t(0,f=h);return}if(!f.attachments.map((O,T)=>[O,h.attachments[T]]).every(([O,T])=>O.file_type===T.file_type&&O.url===T.url)){t(0,f=h);return}}const y=h=>O=>{h&&h.url&&Ft(h.url)},k=h=>O=>{h&&h.url&&n.events.emit("openOverlayImageView",h.url)},S=h=>{if(h===null)return"";const O=C=>String(C).padStart(2,"0"),T=new Date;return h=new Date(h),h.getYear()===T.getYear()&&h.getMonth()===T.getMonth()&&h.getDate()===T.getDate()?`${O(h.getHours())}:${O(h.getMinutes())}`:`${O(h.getDate())}.${O(h.getMonth())}.${h.getFullYear()} ${O(h.getHours())}:${O(h.getMinutes())}`},D=()=>pn(m.url);function I(h){Ne[h?"unshift":"push"](()=>{a=h,t(1,a)})}return l.$$set=h=>{"app"in h&&t(8,n=h.app),"bbox"in h&&t(9,i=h.bbox),"message"in h&&t(10,s=h.message),"render_Width"in h&&t(11,r=h.render_Width),"render_X"in h&&t(12,o=h.render_X)},l.$$.update=()=>{l.$$.dirty&1024&&v(s),l.$$.dirty&1&&g(f)},[f,a,u,m,c,y,k,S,n,i,s,r,o,D,I]}class ri extends ve{constructor(e){super(),he(this,e,ii,si,pe,{app:8,bbox:9,message:10,render_Width:11,render_X:12})}}function oi(l){let e;return{c(){e=b("div"),e.innerHTML=`<div class="svelte-j15bjw"></div> 
	<div class="svelte-j15bjw"></div> 
	<div class="svelte-j15bjw"></div>`,w(e,"class","lds-roller svelte-j15bjw")},m(t,n){R(t,e,n)},p:ae,i:ae,o:ae,d(t){t&&E(e)}}}class bn extends ve{constructor(e){super(),he(this,e,null,oi,pe,{})}}function Rl(l){let e,t=l[0]===">"?">":"",n;return{c(){e=b("div"),n=ne(t),w(e,"class","flex flex_cx flex_cy statusItemDlm svelte-1h7gd9r")},m(i,s){R(i,e,s),p(e,n)},p(i,s){s&1&&t!==(t=i[0]===">"?">":"")&&be(n,t)},d(i){i&&E(e)}}}function ai(l){var u,m,_,d;let e,t,n,i,s=((d=(u=l[1])==null?void 0:u.title)!=null?d:(m=l[1])!=null&&m.id?`#${(_=l[1])==null?void 0:_.id}`:"*UNK*")+"",r,o,a,f=l[0]&&Rl(l);return{c(){var c,g,v,y,k;e=b("div"),t=b("div"),f&&f.c(),n=A(),i=b("div"),r=ne(s),w(i,"class","flex flex_cx flex_cy nowrap statusItem svelte-1h7gd9r"),H(i,"background",(g=(c=l[1])==null?void 0:c.bgColor)!=null?g:"#000"),H(i,"color",(y=(v=l[1])==null?void 0:v.color)!=null?y:"#fff"),Z(i,"select",l[1].canSelect),w(t,"class","flex"),w(e,"class","flex flex_cy h100 overhide itemWrapper svelte-1h7gd9r"),H(e,"width",l[5]+"px"),Z(e,"overhide",l[5]<l[4]&&l[4]>0),Z(e,"cursor_ptr",(k=l[1])==null?void 0:k.canSelect)},m(c,g){R(c,e,g),p(e,t),f&&f.m(t,null),p(t,n),p(t,i),p(i,r),l[10](t),l[11](e),o||(a=ie(i,"click",l[9]),o=!0)},p(c,[g]){var v,y,k,S,D,I,h,O,T;c[0]?f?f.p(c,g):(f=Rl(c),f.c(),f.m(t,n)):f&&(f.d(1),f=null),g&2&&s!==(s=((S=(v=c[1])==null?void 0:v.title)!=null?S:(y=c[1])!=null&&y.id?`#${(k=c[1])==null?void 0:k.id}`:"*UNK*")+"")&&be(r,s),g&2&&H(i,"background",(I=(D=c[1])==null?void 0:D.bgColor)!=null?I:"#000"),g&2&&H(i,"color",(O=(h=c[1])==null?void 0:h.color)!=null?O:"#fff"),g&2&&Z(i,"select",c[1].canSelect),g&32&&H(e,"width",c[5]+"px"),g&48&&Z(e,"overhide",c[5]<c[4]&&c[4]>0),g&2&&Z(e,"cursor_ptr",(T=c[1])==null?void 0:T.canSelect)},i:ae,o:ae,d(c){c&&E(e),f&&f.d(),l[10](null),l[11](null),o=!1,a()}}}function fi(l,e,t){let n,{beforeDlm:i=!1}=e,{hide:s=!1}=e,{status:r={}}=e;const o=an();let a,f,u=0;const m=Ue(0,{duration:200});Le(l,m,v=>t(5,n=v));const _=()=>{a&&f&&m.set(s?0:u)};Ut(()=>{a&&f&&(t(4,u=f.offsetWidth),_())});const d=()=>r.canSelect&&o("click",r);function c(v){Ne[v?"unshift":"push"](()=>{f=v,t(3,f)})}function g(v){Ne[v?"unshift":"push"](()=>{a=v,t(2,a)})}return l.$$set=v=>{"beforeDlm"in v&&t(0,i=v.beforeDlm),"hide"in v&&t(8,s=v.hide),"status"in v&&t(1,r=v.status)},l.$$.update=()=>{l.$$.dirty&256&&_()},[i,r,a,f,u,n,o,m,s,d,c,g]}class ci extends ve{constructor(e){super(),he(this,e,fi,ai,pe,{beforeDlm:0,hide:8,status:1})}}function Fl(l,e,t){const n=l.slice();return n[8]=e[t],n[10]=t,n}function Nl(l,e){var s;let t,n,i;return n=new ci({props:{beforeDlm:(s=e[8].status)==null?void 0:s.beforeDlm,status:e[8].status,hide:e[8].hide}}),n.$on("click",e[3]),{key:l,first:null,c(){t=Be(),fe(n.$$.fragment),this.first=t},m(r,o){R(r,t,o),re(n,r,o),i=!0},p(r,o){var f;e=r;const a={};o&1&&(a.beforeDlm=(f=e[8].status)==null?void 0:f.beforeDlm),o&1&&(a.status=e[8].status),o&1&&(a.hide=e[8].hide),n.$set(a)},i(r){i||(j(n.$$.fragment,r),i=!0)},o(r){P(n.$$.fragment,r),i=!1},d(r){r&&E(t),oe(n,r)}}}function ui(l){let e,t=[],n=new Map,i,s=l[0];const r=o=>o[8].rID;for(let o=0;o<s.length;o+=1){let a=Fl(l,s,o),f=r(a);n.set(f,t[o]=Nl(f,a))}return{c(){e=b("div");for(let o=0;o<t.length;o+=1)t[o].c();w(e,"class","flex h100")},m(o,a){R(o,e,a);for(let f=0;f<t.length;f+=1)t[f].m(e,null);i=!0},p(o,[a]){a&1&&(s=o[0],Me(),t=Je(t,a,r,1,o,s,n,e,tt,Nl,null,Fl),De())},i(o){if(!i){for(let a=0;a<s.length;a+=1)j(t[a]);i=!0}},o(o){for(let a=0;a<t.length;a+=1)P(t[a]);i=!1},d(o){o&&E(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function di(l,e,t){let{statusList:n=[]}=e,{statusSelectList:i=[]}=e,s=[],r=1;Ee(Xe(1e3,()=>{const f=Date.now();t(0,s=s.filter(u=>!u.hide||u.hide<=f))}));const o=()=>{const f=[...n];let u=-1;const m=r++;for(;f.length;){const _=f.shift(),d=s.findIndex(c=>{var g,v;return((g=c==null?void 0:c.status)==null?void 0:g.id)===(_==null?void 0:_.id)&&((v=c==null?void 0:c.status)==null?void 0:v.beforeDlm)===(_==null?void 0:_.beforeDlm)});if(d>u)u=d,t(0,s[d].seq=m,s),t(0,s[d].status=_,s);else{const c={rID:r++,seq:m,status:_,hide:!1};s.splice(u+1,0,c),u++}}s.filter(_=>_.seq===m).map(_=>_.hide=!1),s.filter(_=>_.seq!==m).map(_=>_.hide=Date.now()+1e3),t(0,s)};function a(f){fn.call(this,l,f)}return l.$$set=f=>{"statusList"in f&&t(1,n=f.statusList),"statusSelectList"in f&&t(2,i=f.statusSelectList)},l.$$.update=()=>{l.$$.dirty&2&&o()},[s,n,i,a]}class _i extends ve{constructor(e){super(),he(this,e,di,ui,pe,{statusList:1,statusSelectList:2})}}function Bl(l){var d;let e,t,n,i,s,r,o,a,f,u,m;o=new _i({props:{statusList:l[7]((d=l[0])==null?void 0:d.lead,l[2])}}),o.$on("click",l[12]);let _=l[1]&&Hl();return{c(){e=b("div"),t=b("div"),n=A(),i=b("img"),r=A(),fe(o.$$.fragment),a=A(),_&&_.c(),w(t,"class","pos_abs w100 h100 overhide bg svelte-socr2e"),Ke(i.src,s="assets/icons/status1.png")||w(i,"src",s),w(i,"draggable","false"),w(i,"class","pos_abs statusIcon svelte-socr2e"),w(e,"class","flex flex_cx flex_cy unselect statusCnt pos_rel svelte-socr2e"),Z(e,"loading",l[1])},m(c,g){R(c,e,g),p(e,t),p(e,n),p(e,i),p(e,r),re(o,e,null),p(e,a),_&&_.m(e,null),l[13](e),f=!0,u||(m=[ie(e,"mouseenter",l[14]),ie(e,"mouseleave",l[15]),ie(e,"click",l[16])],u=!0)},p(c,g){var y;const v={};g&5&&(v.statusList=c[7]((y=c[0])==null?void 0:y.lead,c[2])),o.$set(v),c[1]?_?g&2&&j(_,1):(_=Hl(),_.c(),j(_,1),_.m(e,null)):_&&(Me(),P(_,1,1,()=>{_=null}),De()),(!f||g&2)&&Z(e,"loading",c[1])},i(c){f||(j(o.$$.fragment,c),j(_),f=!0)},o(c){P(o.$$.fragment,c),P(_),f=!1},d(c){c&&E(e),oe(o),_&&_.d(),l[13](null),u=!1,Fe(m)}}}function Hl(l){let e,t,n,i;return t=new Wt({props:{height:"6"}}),{c(){e=b("div"),fe(t.$$.fragment),w(e,"class","flex pos_abs flex_cy h100 loadingInd svelte-socr2e"),H(e,"filter","invert(0)")},m(s,r){R(s,e,r),re(t,e,null),i=!0},i(s){i||(j(t.$$.fragment,s),s&&Re(()=>{n||(n=Te(e,Ie,{},!0)),n.run(1)}),i=!0)},o(s){P(t.$$.fragment,s),s&&(n||(n=Te(e,Ie,{},!1)),n.run(0)),i=!1},d(s){s&&E(e),oe(t),s&&n&&n.end()}}}function mi(l){let e,t,n,i,s=l[0]&&l[0].lead&&Bl(l);return{c(){s&&s.c(),e=Be()},m(r,o){s&&s.m(r,o),R(r,e,o),t=!0,n||(i=[ie(window,"mousedown",l[5]),ie(window,"blur",l[5])],n=!0)},p(r,[o]){r[0]&&r[0].lead?s?(s.p(r,o),o&1&&j(s,1)):(s=Bl(r),s.c(),j(s,1),s.m(e.parentNode,e)):s&&(Me(),P(s,1,1,()=>{s=null}),De())},i(r){t||(j(s),t=!0)},o(r){P(s),t=!1},d(r){s&&s.d(r),r&&E(e),n=!1,Fe(i)}}}function pi(l,e,t){let n,i,s,{app:r}=e;const{dialogMap_r:o,dialogMap_SetDialog:a}=r;Le(l,o,N=>t(11,s=N));let{dialog_id:f}=e,u=!1,m=!1,_=!1,d;const c=()=>!(!n||!(n!=null&&n.lead)||u||_);let g;const v=N=>{if(N!=null&&N.target){let ee=N.target;for(;ee;){if(ee===g)return;ee=ee.parentNode}}_||t(2,m=!1)},y=()=>{d&&d(),t(2,m=!1),_=!1},k=(N,ee)=>async z=>{var K,X;if(!c())return;_=!0;const Q=ee.id;if(ee.protectionModal){const q=(X=(K=r.moduleMgr)==null?void 0:K.modal)==null?void 0:X.createModal("cancel/continue",{...ee.protectionModal,position:{target:g,stick:"bottom"}});if(q&&(d=q.abort,!await q.result))return y()}if(t(1,u=!0),N){const q=await r.api.lead_SetStatus(N.lead.tg_id,Q);q&&N&&N.lead&&N.lead.tg_id===q.tg_id&&(N.lead=q,a(N))}t(1,u=!1),y()},S=N=>{var ee,z,Q,K;try{const X=r.lead_GetStatusID(N);return(r.lead_GetStatusByID(X)?(z=(ee=r==null?void 0:r.appConfig)==null?void 0:ee.lead_StatusJumpMap)==null?void 0:z[X]:(K=(Q=r==null?void 0:r.appConfig)==null?void 0:Q.lead_StatusNextListForUnkStatus)!=null?K:[]).map(r==null?void 0:r.lead_GetStatusByID).filter(Boolean)}catch{}return[]},D=N=>r.lead_GetStatusHistory(N).map((ee,z)=>({...ee,beforeDlm:z!==0})),I=(N,ee=!1)=>{const z=D(N).map((K,X)=>({...K,beforeDlm:X!==0?">":!1})),Q=ee?S(N).map((K,X)=>({...K,beforeDlm:X===0?">":!0,canSelect:!0})):[];return[...z,...Q]};Ee(y);const h=N=>k(n,N.detail)();function O(N){Ne[N?"unshift":"push"](()=>{g=N,t(3,g)})}const T=()=>t(2,m=!0),C=()=>v(),V=()=>t(2,m=!0);return l.$$set=N=>{"app"in N&&t(8,r=N.app),"dialog_id"in N&&t(9,f=N.dialog_id)},l.$$.update=()=>{var N;l.$$.dirty&2560&&t(0,n=s[f]),l.$$.dirty&1&&t(10,i=(N=n==null?void 0:n.lead)==null?void 0:N.status),l.$$.dirty&1&&I(n==null?void 0:n.lead),l.$$.dirty&1536&&y()},[n,u,m,g,o,v,k,I,r,f,i,s,h,O,T,C,V]}class gi extends ve{constructor(e){super(),he(this,e,pi,mi,pe,{app:8,dialog_id:9})}}function Gl(l){var C,V,N,ee,z,Q,K,X,q,$;let e,t,n,i,s=((N=(V=(C=l[2])==null?void 0:C.lead)==null?void 0:V.first_name)!=null?N:"")+"",r,o,a,f,u,m=((Q=(z=(ee=l[2])==null?void 0:ee.lead)==null?void 0:z.last_name)!=null?Q:"")+"",_,d,c,g,v,y,k,S,D,I,h,O=((X=(K=l[2])==null?void 0:K.lead)==null?void 0:X.username)&&Pl(l),T=(($=(q=l[2])==null?void 0:q.lead)==null?void 0:$.ref_link)&&zl(l);return S=new gi({props:{app:l[0],dialog_id:l[2].id}}),{c(){e=b("div"),t=b("div"),n=A(),i=b("div"),r=ne(s),o=A(),a=b("div"),f=A(),u=b("div"),_=ne(m),d=ne("\xA0"),c=A(),g=b("div"),O&&O.c(),v=A(),T&&T.c(),y=A(),k=b("div"),fe(S.$$.fragment),D=A(),I=b("div"),H(t,"width","8px"),H(a,"width","8px"),w(e,"class","flex nowrap textOverEllipsis userFirstLastName pos_rel svelte-qywc37"),w(g,"class","nowrap textOverEllipsis username svelte-qywc37"),w(k,"class","flex"),H(I,"height","4px")},m(U,x){R(U,e,x),p(e,t),p(e,n),p(e,i),p(i,r),p(e,o),p(e,a),p(e,f),p(e,u),p(u,_),p(u,d),R(U,c,x),R(U,g,x),O&&O.m(g,null),R(U,v,x),T&&T.m(U,x),R(U,y,x),R(U,k,x),re(S,k,null),R(U,D,x),R(U,I,x),h=!0},p(U,x){var ge,J,F,G,W,_e,ye,Oe,Se,we;(!h||x&4)&&s!==(s=((F=(J=(ge=U[2])==null?void 0:ge.lead)==null?void 0:J.first_name)!=null?F:"")+"")&&be(r,s),(!h||x&4)&&m!==(m=((_e=(W=(G=U[2])==null?void 0:G.lead)==null?void 0:W.last_name)!=null?_e:"")+"")&&be(_,m),(Oe=(ye=U[2])==null?void 0:ye.lead)!=null&&Oe.username?O?O.p(U,x):(O=Pl(U),O.c(),O.m(g,null)):O&&(O.d(1),O=null),(we=(Se=U[2])==null?void 0:Se.lead)!=null&&we.ref_link?T?T.p(U,x):(T=zl(U),T.c(),T.m(y.parentNode,y)):T&&(T.d(1),T=null);const de={};x&1&&(de.app=U[0]),x&4&&(de.dialog_id=U[2].id),S.$set(de)},i(U){h||(j(S.$$.fragment,U),h=!0)},o(U){P(S.$$.fragment,U),h=!1},d(U){U&&E(e),U&&E(c),U&&E(g),O&&O.d(),U&&E(v),T&&T.d(U),U&&E(y),U&&E(k),oe(S),U&&E(D),U&&E(I)}}}function Pl(l){let e,t=l[2].lead.username+"",n;return{c(){e=ne("@"),n=ne(t)},m(i,s){R(i,e,s),R(i,n,s)},p(i,s){s&4&&t!==(t=i[2].lead.username+"")&&be(n,t)},d(i){i&&E(e),i&&E(n)}}}function zl(l){var m,_;let e,t,n,i,s=((_=(m=l[2])==null?void 0:m.lead)==null?void 0:_.ref_link)+"",r,o,a,f,u;return{c(){e=b("div"),t=b("div"),t.innerHTML=`Ref link
						<img src="assets/icons/copy-clipboard.png" class="refLinkIcon svelte-qywc37" style="width: 14px; height: 14px; filter: invert(1);"/>`,n=A(),i=b("div"),r=ne(s),o=A(),a=b("div"),w(t,"class","flex flex_cy h100 refLinkLabel svelte-qywc37"),w(i,"class","flex flex_cy h100 overhide textOverEllipsis nowrap refLinkContent svelte-qywc37"),w(e,"class","flex flex_cy nowrap refLink overhide textOverEllipsis cursor_ptr unselect svelte-qywc37"),H(a,"height","4px")},m(d,c){R(d,e,c),p(e,t),p(e,n),p(e,i),p(i,r),R(d,o,c),R(d,a,c),f||(u=ie(e,"click",l[6]),f=!0)},p(d,c){var g,v;c&4&&s!==(s=((v=(g=d[2])==null?void 0:g.lead)==null?void 0:v.ref_link)+"")&&be(r,s)},d(d){d&&E(e),d&&E(o),d&&E(a),f=!1,u()}}}function Ul(l){let e,t,n,i;return t=new bn({}),{c(){e=b("div"),fe(t.$$.fragment),w(e,"class","pos_abs loading svelte-qywc37")},m(s,r){R(s,e,r),re(t,e,null),i=!0},i(s){i||(j(t.$$.fragment,s),s&&Re(()=>{n||(n=Te(e,Ie,{},!0)),n.run(1)}),i=!0)},o(s){P(t.$$.fragment,s),s&&(n||(n=Te(e,Ie,{},!1)),n.run(0)),i=!1},d(s){s&&E(e),oe(t),s&&n&&n.end()}}}function hi(l){let e,t,n,i,s=l[2]&&Gl(l),r=l[1]&&Ul();return{c(){e=b("div"),t=b("div"),s&&s.c(),n=A(),r&&r.c(),w(t,"class","flex flex_clm flex_cx flex_grow_1"),w(e,"class","flex flex_cy header pos_rel svelte-qywc37")},m(o,a){R(o,e,a),p(e,t),s&&s.m(t,null),p(e,n),r&&r.m(e,null),i=!0},p(o,[a]){o[2]?s?(s.p(o,a),a&4&&j(s,1)):(s=Gl(o),s.c(),j(s,1),s.m(t,null)):s&&(Me(),P(s,1,1,()=>{s=null}),De()),o[1]?r?a&2&&j(r,1):(r=Ul(),r.c(),j(r,1),r.m(e,null)):r&&(Me(),P(r,1,1,()=>{r=null}),De())},i(o){i||(j(s),j(r),i=!0)},o(o){P(s),P(r),i=!1},d(o){o&&E(e),s&&s.d(),r&&r.d()}}}function vi(l,e,t){let n,i,{app:s}=e;const{dialogMap_r:r}=s;Le(l,r,u=>t(5,i=u));let{dialog_id:o=null}=e,{loading:a=!1}=e;const f=()=>{var u;return Jn((u=n==null?void 0:n.lead)==null?void 0:u.ref_link)};return l.$$set=u=>{"app"in u&&t(0,s=u.app),"dialog_id"in u&&t(4,o=u.dialog_id),"loading"in u&&t(1,a=u.loading)},l.$$.update=()=>{l.$$.dirty&48&&t(2,n=i[o])},[s,a,n,r,o,i,f]}class wi extends ve{constructor(e){super(),he(this,e,vi,hi,pe,{app:0,dialog_id:4,loading:1})}}function ql(l,e,t){const n=l.slice();return n[36]=e[t],n}function Wl(l,e){let t,n,i;return n=new ri({props:{app:e[0],bbox:e[9],message:e[36],render_Width:e[8]}}),{key:l,first:null,c(){t=Be(),fe(n.$$.fragment),this.first=t},m(s,r){R(s,t,r),re(n,s,r),i=!0},p(s,r){e=s;const o={};r[0]&1&&(o.app=e[0]),r[0]&512&&(o.bbox=e[9]),r[0]&4&&(o.message=e[36]),r[0]&256&&(o.render_Width=e[8]),n.$set(o)},i(s){i||(j(n.$$.fragment,s),i=!0)},o(s){P(n.$$.fragment,s),i=!1},d(s){s&&E(t),oe(n,s)}}}function bi(l){let e,t,n,i,s,r,o,a=[],f=new Map,u,m,_,d,c,g,v,y,k,S;t=new wi({props:{app:l[0],dialog_id:l[1],loading:l[3]}});let D=l[2];const I=T=>T[36].index;for(let T=0;T<D.length;T+=1){let C=ql(l,D,T),V=I(C);f.set(V,a[T]=Wl(V,C))}function h(T){l[17](T)}let O={value_in:l[4]};return l[5]!==void 0&&(O.value_out=l[5]),_=new wn({props:O}),Ne.push(()=>kt(_,"value_out",h)),{c(){e=b("div"),fe(t.$$.fragment),n=A(),i=b("div"),s=b("div"),r=b("div"),o=b("div");for(let T=0;T<a.length;T+=1)a[T].c();u=A(),m=b("div"),fe(_.$$.fragment),c=A(),g=b("div"),v=b("textarea"),w(o,"class","pos_rel w100 h100"),w(m,"class","pos_abs h100 chatScroll svelte-1khz9us"),w(r,"class","pos_rel w100 h100"),w(s,"class","flex pos_abs overhide"),w(i,"class","flex flex_grow_1 pos_rel overhide"),w(v,"class","flex flex_grow_1 chat_input_textarea svelte-1khz9us"),w(g,"class","flex chat_input svelte-1khz9us"),w(e,"class","flex flex_clm flex_grow_1 overhide cnt svelte-1khz9us")},m(T,C){R(T,e,C),re(t,e,null),p(e,n),p(e,i),p(i,s),p(s,r),p(r,o);for(let V=0;V<a.length;V+=1)a[V].m(o,null);l[16](o),p(r,u),p(r,m),re(_,m,null),p(e,c),p(e,g),p(g,v),Zt(v,l[7]),y=!0,k||(S=[ie(r,"wheel",l[13],{passive:!0}),at(Ot.call(null,s,l[11])),ie(v,"input",l[18]),ie(v,"keyup",l[12]),ie(v,"keydown",l[12])],k=!0)},p(T,C){const V={};C[0]&1&&(V.app=T[0]),C[0]&2&&(V.dialog_id=T[1]),C[0]&8&&(V.loading=T[3]),t.$set(V),C[0]&773&&(D=T[2],Me(),a=Je(a,C,I,1,T,D,f,o,tt,Wl,null,ql),De());const N={};C[0]&16&&(N.value_in=T[4]),!d&&C[0]&32&&(d=!0,N.value_out=T[5],yt(()=>d=!1)),_.$set(N),C[0]&128&&Zt(v,T[7])},i(T){if(!y){j(t.$$.fragment,T);for(let C=0;C<D.length;C+=1)j(a[C]);j(_.$$.fragment,T),y=!0}},o(T){P(t.$$.fragment,T);for(let C=0;C<a.length;C+=1)P(a[C]);P(_.$$.fragment,T),y=!1},d(T){T&&E(e),oe(t);for(let C=0;C<a.length;C+=1)a[C].d();l[16](null),oe(_),k=!1,Fe(S)}}}const Yl=10,_t=4;function yi(l,e,t){let n,i,s,{app:r}=e;const{dialogMap_r:o}=r;Le(l,o,x=>t(15,i=x));let{dialog_id:a=null}=e,f=[],u=[],m=new Set,_=0,d=0,c=1,g=1,v=null;const y=Pe(null);Le(l,y,x=>t(9,s=x)),new Date().toJSON();let k=-1;async function S(x,de=0,ge=20){const J=await r.api.message_GetList({dialog_id:x,offset:de,limit:ge});if(!!J&&n&&n.id===x){for(_=J.count;f.length<_;){const G=f.length;f.push({id:k--,index:G,_isFakeMsg:!0})}const F=J.results.map(G=>{var W;return(W=G==null?void 0:G.attachments)!=null&&W.length&&G.attachments.map(_e=>{var ye,Oe,Se,we,ce,M,L,B;if((Oe=(ye=r==null?void 0:r.appConfig)==null?void 0:ye.api)!=null&&Oe.attachments_OverwriteApiHostProtocol)try{const Y=new URL(_e.url);Y.protocol=(ce=(we=(Se=r==null?void 0:r.appConfig)==null?void 0:Se.api)==null?void 0:we.protocol)!=null?ce:location.protocol,Y.host=(B=(L=(M=r==null?void 0:r.appConfig)==null?void 0:M.api)==null?void 0:L.host)!=null?B:location.host,_e.url=String(Y)}catch{}}),G});F.map((G,W)=>G.index=de+W),F.map(G=>f[G.index]=G)}}let D="";const I=async x=>{if(x.which===13&&!x.shiftKey&&!x.ctrlKey&&(x.preventDefault(),t(7,D=D.trim()),D)){const de=D;t(7,D=""),n&&await r.api.message_Create(n.id,de)}};function h(){f=[],t(2,u=[]),m=new Set,_=0,console.log("clear all")}let O=null,T=null;async function C(x){if(!x){if(!O)return;O=null,h();return}T!==x.id&&(O=x,T=x.id,h(),f=[],t(2,u=[]),_=0,t(3,d++,d),await S(x.id),_&&await S(x.id,Math.max(_-20,0),20),await r.api.dialog_SetReadFlagAllMessages(x.id),t(3,d--,d))}let V=1,N=!0;function ee(){if(N&&requestAnimationFrame(ee),!s||!v||!f.length)return;s.width;const x=s.height,de=s.width-Yl*2,ge=Yl;t(8,V=de-Math.max(120,Math.floor(de*.1)));const J=1+g*(f.length-1);let F=Math.floor(J),G=J-F;F>=f.length&&(F=f.length-1,G=1);const W=[],_e=[];let ye=null;t(2,u=[]);for(let Se=F-100,we=0,ce=!0;Se<F+100;Se++)Se<0||Se>=f.length||(f[Se]._isFakeMsg&&m.add(Se),u[we]!==f[Se]&&(ce&&(ce=!1,u.splice(we,1e9)),t(2,u[we]=f[Se],u),t(2,u)),t(2,u[we]._drawIndex=we,u),Se<F&&W.push(u[we]),Se>F&&_e.push(u[we]),Se===F&&(ye=u[we]),we++);const Oe=[...v.children];if(Oe.length===u.length){Oe.map((L,B)=>{const Y=u[B];if(!Y||L._remove)return;const te=L.getBoundingClientRect();L._bbox=te;const se=Math.floor(ge+(Y.incoming?0:Math.max(100,s.width*.05)));L.__cacheWidth!==V&&(L.__cacheWidth=V,L.style.maxWidth=V+"px"),L.__cacheLeft!==se&&(L.__cacheLeft=se,L.style.left=se+"px")});const Se=(L,B,Y=1)=>(L.__cacheTop!==B&&(L.__cacheTop=B,L.style.transform=`translate3d(0px, ${B}px, 0px)`),B+(L._bbox.height+_t)*Y);let we=0,ce=0;const M=Oe[ye._drawIndex];if(M){const L=M;we=x+_t-(L._bbox.height+_t)*G,ce=we,we=Se(L,we,1)}_e.map((L,B)=>{const Y=Oe[L._drawIndex];we=Se(Y,we,1)}),we=ce,W.reverse().map((L,B)=>{const Y=Oe[L._drawIndex];we-=Y._bbox.height+_t,Se(Y,we,0)})}}requestAnimationFrame(ee),Ee(()=>N=!1);async function z(){if(m.size){const x=[...m].sort((J,F)=>J-F);m.clear();const de=[];let ge={offset:null,limit:0};for(const J of x){if(ge.offset!==null){if(ge.limit<=500&&ge.offset+ge.limit===J){ge.limit++;continue}de.push(ge)}ge={offset:J,limit:1}}ge.offset!==null&&de.push(ge),n&&(t(3,d++,d),await Promise.all(de.map(J=>S(n.id,J.offset,J.limit))),t(3,d--,d))}N&&setTimeout(z,500)}z();async function Q(){n&&await r.api.dialog_SetReadFlagAllMessages(n.id),N&&setTimeout(Q,5e3)}Q();async function K(){n&&await S(n.id,_,20),N&&setTimeout(K,500)}K();const X=x=>{t(4,c=f.length?g+Math.sign(x.deltaY)/(f.length-1):0)};function q(x){Ne[x?"unshift":"push"](()=>{v=x,t(6,v)})}function $(x){g=x,t(5,g)}function U(){D=this.value,t(7,D)}return l.$$set=x=>{"app"in x&&t(0,r=x.app),"dialog_id"in x&&t(1,a=x.dialog_id)},l.$$.update=()=>{l.$$.dirty[0]&32770&&t(14,n=i[a]),l.$$.dirty[0]&16384&&C(n)},[r,a,u,d,c,g,v,D,V,s,o,y,I,X,n,i,q,$,U]}class ki extends ve{constructor(e){super(),he(this,e,yi,bi,pe,{app:0,dialog_id:1},null,[-1,-1])}}function Jl(l){let e,t;return e=new Wt({props:{height:"6"}}),{c(){fe(e.$$.fragment)},m(n,i){re(e,n,i),t=!0},i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){P(e.$$.fragment,n),t=!1},d(n){oe(e,n)}}}function Si(l){let e,t,n,i,s,r,o,a,f,u,m,_,d,c,g,v,y,k,S,D,I,h,O,T,C,V,N,ee,z,Q,K,X,q,$=l[3]&&Jl();function U(J){l[9](J)}let x={};l[2]!==void 0&&(x.checked=l[2]),k=new Ws({props:x}),Ne.push(()=>kt(k,"checked",U));function de(J){l[10](J)}let ge={app:l[0]};return l[1]!==void 0&&(ge.filterStatus=l[1]),O=new ni({props:ge}),Ne.push(()=>kt(O,"filterStatus",de)),ee=new ei({props:{app:l[0],filter:{filterTag:Vl,filterStatus:l[1],filterUnreadFirst:l[2]}}}),Q=new ki({props:{app:l[0],dialog_id:l[5]}}),{c(){e=b("div"),t=b("div"),n=b("div"),i=A(),s=b("div"),r=b("div"),o=b("div"),o.innerHTML=`Download report csv
					<div class="flex cursor_ptr imgCtrlBtn svelte-1xf5cbg"><img class="w100 h100 svelte-1xf5cbg" draggable="false" src="assets/icons/download.png"/></div>`,a=A(),f=b("div"),u=A(),$&&$.c(),m=A(),_=b("div"),d=A(),c=b("label"),g=ne(`First unread \r
				`),v=b("div"),y=A(),fe(k.$$.fragment),D=A(),I=b("div"),h=A(),fe(O.$$.fragment),C=A(),V=b("div"),N=A(),fe(ee.$$.fragment),z=A(),fe(Q.$$.fragment),H(n,"height","2px"),w(o,"class","flex flex_cy downloadReportLabel svelte-1xf5cbg"),Z(o,"downloadReportDisabled",l[3]),Z(o,"animationDone",l[4]==="done"),Z(o,"animationFail",l[4]==="fail"),H(f,"width","8px"),w(r,"class","flex flex_cy cursor_ptr unselect downloadDialogs svelte-1xf5cbg"),H(_,"height","2px"),H(v,"width","4px"),w(c,"class","flex flex_cy cursor_ptr unselect firstUnread svelte-1xf5cbg"),H(I,"height","2px"),w(s,"class","flex flex_clm flex_cx header pos_rel svelte-1xf5cbg"),H(V,"min-height","20px"),w(t,"class","flex flex_clm list svelte-1xf5cbg"),w(e,"class","flex flex_grow_1")},m(J,F){R(J,e,F),p(e,t),p(t,n),p(t,i),p(t,s),p(s,r),p(r,o),p(r,a),p(r,f),p(r,u),$&&$.m(r,null),p(s,m),p(s,_),p(s,d),p(s,c),p(c,g),p(c,v),p(c,y),re(k,c,null),p(s,D),p(s,I),p(s,h),re(O,s,null),p(t,C),p(t,V),p(t,N),re(ee,t,null),p(e,z),re(Q,e,null),K=!0,X||(q=ie(r,"click",l[8]),X=!0)},p(J,[F]){(!K||F&8)&&Z(o,"downloadReportDisabled",J[3]),(!K||F&16)&&Z(o,"animationDone",J[4]==="done"),(!K||F&16)&&Z(o,"animationFail",J[4]==="fail"),J[3]?$?F&8&&j($,1):($=Jl(),$.c(),j($,1),$.m(r,null)):$&&(Me(),P($,1,1,()=>{$=null}),De());const G={};!S&&F&4&&(S=!0,G.checked=J[2],yt(()=>S=!1)),k.$set(G);const W={};F&1&&(W.app=J[0]),!T&&F&2&&(T=!0,W.filterStatus=J[1],yt(()=>T=!1)),O.$set(W);const _e={};F&1&&(_e.app=J[0]),F&6&&(_e.filter={filterTag:Vl,filterStatus:J[1],filterUnreadFirst:J[2]}),ee.$set(_e);const ye={};F&1&&(ye.app=J[0]),F&32&&(ye.dialog_id=J[5]),Q.$set(ye)},i(J){K||(j($),j(k.$$.fragment,J),j(O.$$.fragment,J),j(ee.$$.fragment,J),j(Q.$$.fragment,J),K=!0)},o(J){P($),P(k.$$.fragment,J),P(O.$$.fragment,J),P(ee.$$.fragment,J),P(Q.$$.fragment,J),K=!1},d(J){J&&E(e),$&&$.d(),oe(k),oe(O),oe(ee),oe(Q),X=!1,q()}}}let Vl=null;function Li(l,e,t){let n,i,{app:s}=e;const{dialogActiveID_r:r}=s;Le(l,r,y=>t(5,i=y));let o=null,a=1,f=!1,u=null;const m=mn(1e3,()=>t(4,u=null)),_=s.operatorSelf_r;Le(l,_,y=>t(11,n=y));const d=()=>{var y;return"dialog_report "+((y=n==null?void 0:n.username)!=null?y:"UNK_USER")+"-"+gn(new Date)+".csv"},c=async y=>{var k;if(!f){t(3,f=!0);try{const S=await s.api.dialog_DownloadReport();S?(Zn(URL.createObjectURL(S.blob),(k=S.filename)!=null?k:d()),t(4,u="done")):t(4,u="fail")}catch{t(4,u="fail")}m(),t(3,f=!1)}};function g(y){a=y,t(2,a)}function v(y){o=y,t(1,o)}return l.$$set=y=>{"app"in y&&t(0,s=y.app)},[s,o,a,f,u,i,r,_,c,g,v]}class Mi extends ve{constructor(e){super(),he(this,e,Li,Si,pe,{app:0})}}function Di(l){let e,t,n,i,s,r,o,a,f,u,m,_,d,c,g,v;return{c(){e=b("div"),t=b("div"),n=b("div"),i=b("img"),r=A(),o=b("div"),a=b("div"),a.innerHTML='<img class="w100 h100 svelte-d45see" draggable="false" src="assets/icons/rotate.png"/>',f=A(),u=b("div"),u.innerHTML='<img class="w100 h100 svelte-d45see" draggable="false" src="assets/icons/download.png"/>',m=A(),_=b("div"),_.innerHTML='<img class="w100 h100 svelte-d45see" draggable="false" src="assets/icons/close.png"/>',w(i,"class","img svelte-d45see"),w(i,"draggable","false"),Ke(i.src,s=l[0])||w(i,"src",s),H(i,"transform","rotate("+l[3]+"deg)"),w(n,"class","pos_abs flex flex_cx flex_cy pad svelte-d45see"),H(n,"width",l[5]+"px"),H(n,"height",l[4]+"px"),w(t,"class","pos_abs flex flex_cx flex_cy pos_abs w100 h100 "),H(t,"transform","translate("+l[1]+"px, "+l[2]+"px)"),w(a,"class","flex cursor_ptr imgCtrlBtn svelte-d45see"),w(u,"class","flex cursor_ptr imgCtrlBtn svelte-d45see"),w(_,"class","flex cursor_ptr imgCtrlBtn svelte-d45see"),w(o,"class","flex pos_abs imgCtrlBtnGroup svelte-d45see"),w(e,"class","pos_abs w100 h100 unselect cnt layer_bg svelte-d45see")},m(y,k){R(y,e,k),p(e,t),p(t,n),p(n,i),p(e,r),p(e,o),p(o,a),p(o,f),p(o,u),p(o,m),p(o,_),c=!0,g||(v=[ie(window,"mousemove",l[14]),ie(window,"mouseup",l[13]),ie(window,"blur",l[13]),ie(window,"keydown",l[16]),ie(i,"mousedown",l[12]),at(Ot.call(null,t,l[6])),ie(a,"click",l[10]),ie(u,"click",function(){Ye(Ft(l[0]))&&Ft(l[0]).apply(this,arguments)}),ie(_,"click",l[15]),ie(e,"wheel",l[11])],g=!0)},p(y,[k]){l=y,(!c||k&1&&!Ke(i.src,s=l[0]))&&w(i,"src",s),(!c||k&8)&&H(i,"transform","rotate("+l[3]+"deg)"),(!c||k&32)&&H(n,"width",l[5]+"px"),(!c||k&16)&&H(n,"height",l[4]+"px"),(!c||k&6)&&H(t,"transform","translate("+l[1]+"px, "+l[2]+"px)")},i(y){c||(Re(()=>{d||(d=Te(e,Ie,{duration:100},!0)),d.run(1)}),c=!0)},o(y){d||(d=Te(e,Ie,{duration:100},!1)),d.run(0),c=!1},d(y){y&&E(e),y&&d&&d.end(),g=!1,Fe(v)}}}function Ti(l,e,t){let n,i,s,r,{url:o=null}=e;const a=an(),f=Pe(null);Le(l,f,C=>t(18,n=C));const u=Ue(0);Le(l,u,C=>t(3,i=C));const m=Ue(0);Le(l,m,C=>t(5,r=C));const _=Ue(0);Le(l,_,C=>t(4,s=C));let d=0,c=0,g={rotate:0,scale:1,whInverse:!1};const v=()=>{if(!n||!g)return;const C=g.whInverse?n.height:n.width,V=g.whInverse?n.width:n.height;Ve(m,r=C*g.scale,r),Ve(_,s=V*g.scale,s),Ve(u,i=g.rotate,i)},y=()=>{!n||!g||(t(17,g.rotate+=90,g),t(17,g.whInverse=!g.whInverse,g),t(17,g))},k=C=>{t(17,g.scale=xe(.1,g.scale+Math.sign(C.deltaY)*.1,10),g)};let S=null;const D=C=>S=[C.clientX,C.clientY,d,c],I=C=>S=null,h=C=>{!S||t(1,[d,c]=[C.clientX,C.clientY].map((V,N)=>V-S[N]+S[N+2]),d,t(2,c))},O=C=>a("close"),T=C=>C.which===27&&O();return l.$$set=C=>{"url"in C&&t(0,o=C.url)},l.$$.update=()=>{l.$$.dirty&393216&&v()},[o,d,c,i,s,r,f,u,m,_,y,k,D,I,h,O,T,g,n]}class Oi extends ve{constructor(e){super(),he(this,e,Ti,Di,pe,{url:0})}}function Kl(l){let e=l[0],t,n,i=Xl(l);return{c(){i.c(),t=Be()},m(s,r){i.m(s,r),R(s,t,r),n=!0},p(s,r){r&1&&pe(e,e=s[0])?(Me(),P(i,1,1,ae),De(),i=Xl(s),i.c(),j(i,1),i.m(t.parentNode,t)):i.p(s,r)},i(s){n||(j(i),n=!0)},o(s){P(i),n=!1},d(s){s&&E(t),i.d(s)}}}function Xl(l){let e,t;return e=new Oi({props:{url:l[1]}}),e.$on("close",l[3]),{c(){fe(e.$$.fragment)},m(n,i){re(e,n,i),t=!0},p(n,i){const s={};i&2&&(s.url=n[1]),e.$set(s)},i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){P(e.$$.fragment,n),t=!1},d(n){oe(e,n)}}}function Ii(l){let e,t,n=l[1]&&Kl(l);return{c(){n&&n.c(),e=Be()},m(i,s){n&&n.m(i,s),R(i,e,s),t=!0},p(i,[s]){i[1]?n?(n.p(i,s),s&2&&j(n,1)):(n=Kl(i),n.c(),j(n,1),n.m(e.parentNode,e)):n&&(Me(),P(n,1,1,()=>{n=null}),De())},i(i){t||(j(n),t=!0)},o(i){P(n),t=!1},d(i){n&&n.d(i),i&&E(e)}}}function Ci(l,e,t){let n=1,i=null,{events:s}=e;Ee(s.on("openOverlayImageView",o=>{t(0,n++,n),t(1,i=o)}));const r=()=>t(1,i=null);return l.$$set=o=>{"events"in o&&t(2,s=o.events)},[n,i,s,r]}class Ai extends ve{constructor(e){super(),he(this,e,Ci,Ii,pe,{events:2})}}function xi(l){let e,t,n,i,s,r,o,a,f,u,m,_=ji;return i=new Fs({props:{app:l[0]}}),r=new zs({props:{app:l[0]}}),a=new Mi({props:{app:l[0]}}),u=new Ai({props:{events:l[0].events}}),{c(){e=b("div"),t=A(),n=b("div"),fe(i.$$.fragment),s=A(),fe(r.$$.fragment),o=A(),fe(a.$$.fragment),f=A(),fe(u.$$.fragment),w(n,"class","flex flex_clm flex_grow_1 leftBlock svelte-ufyhtq"),w(e,"class","flex w100 h100 pos_rel")},m(d,c){R(d,e,c),p(e,t),p(e,n),re(i,n,null),p(n,s),re(r,n,null),p(e,o),re(a,e,null),p(e,f),re(u,e,null),m=!0},p(d,[c]){},i(d){m||(j(_),j(i.$$.fragment,d),j(r.$$.fragment,d),j(a.$$.fragment,d),j(u.$$.fragment,d),m=!0)},o(d){P(_),P(i.$$.fragment,d),P(r.$$.fragment,d),P(a.$$.fragment,d),P(u.$$.fragment,d),m=!1},d(d){d&&E(e),oe(i),oe(r),oe(a),oe(u)}}}const ji=!1;function Ei(l,e,t){let{operatorSelf:n}=e,{config:i}=e,{notifyEvents:s}=e,{moduleMgr:r}=e,{createApi:o}=e;const a=o(n.username),f=ts(n,i,a,r);return Ee(f.destroy),l.$$set=u=>{"operatorSelf"in u&&t(1,n=u.operatorSelf),"config"in u&&t(2,i=u.config),"notifyEvents"in u&&t(3,s=u.notifyEvents),"moduleMgr"in u&&t(4,r=u.moduleMgr),"createApi"in u&&t(5,o=u.createApi)},[f,n,i,s,r,o]}class Ri extends ve{constructor(e){super(),he(this,e,Ei,xi,pe,{operatorSelf:1,config:2,notifyEvents:3,moduleMgr:4,createApi:5})}}function Zl(l,e,t){const n=l.slice();return n[6]=e[t],n}function Fi(l){let e,t,n=l[0],i=[];for(let r=0;r<n.length;r+=1)i[r]=$l(Zl(l,n,r));const s=r=>P(i[r],1,1,()=>{i[r]=null});return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=Be()},m(r,o){for(let a=0;a<i.length;a+=1)i[a].m(r,o);R(r,e,o),t=!0},p(r,o){if(o&5){n=r[0];let a;for(a=0;a<n.length;a+=1){const f=Zl(r,n,a);i[a]?(i[a].p(f,o),j(i[a],1)):(i[a]=$l(f),i[a].c(),j(i[a],1),i[a].m(e.parentNode,e))}for(Me(),a=n.length;a<i.length;a+=1)s(a);De()}},i(r){if(!t){for(let o=0;o<n.length;o+=1)j(i[o]);t=!0}},o(r){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)P(i[o]);t=!1},d(r){Pt(i,r),r&&E(e)}}}function Ni(l){let e,t,n,i,s;return i=new bn({}),{c(){e=b("div"),t=b("div"),n=A(),fe(i.$$.fragment),H(t,"height","20px"),w(e,"class","flex flex_clm flex_grow_1 flex_cy")},m(r,o){R(r,e,o),p(e,t),p(e,n),re(i,e,null),s=!0},p:ae,i(r){s||(j(i.$$.fragment,r),s=!0)},o(r){P(i.$$.fragment,r),s=!1},d(r){r&&E(e),oe(i)}}}function Ql(l){let e,t,n=l[6].username+"",i;return{c(){e=b("div"),t=ne("@"),i=ne(n),w(e,"class","nowrap textOverEllipsis")},m(s,r){R(s,e,r),p(e,t),p(e,i)},p(s,r){r&1&&n!==(n=s[6].username+"")&&be(i,n)},d(s){s&&E(e)}}}function $l(l){var S,D;let e,t,n,i=((S=l[6].first_name)!=null?S:"")+"",s,r,o,a,f,u=((D=l[6].last_name)!=null?D:"")+"",m,_,d,c,g,v,y,k=l[6].username&&Ql(l);return{c(){e=b("div"),t=b("div"),n=b("div"),s=ne(i),r=A(),o=b("div"),a=A(),f=b("div"),m=ne(u),_=A(),k&&k.c(),d=A(),H(o,"width","8px"),w(t,"class","flex nowrap textOverEllipsis"),w(e,"class","flex flex_clm cursor_ptr item unselect svelte-1n771m2")},m(I,h){R(I,e,h),p(e,t),p(t,n),p(n,s),p(t,r),p(t,o),p(t,a),p(t,f),p(f,m),p(e,_),k&&k.m(e,null),p(e,d),g=!0,v||(y=ie(e,"click",function(){Ye(l[2](l[6]))&&l[2](l[6]).apply(this,arguments)}),v=!0)},p(I,h){var O,T;l=I,(!g||h&1)&&i!==(i=((O=l[6].first_name)!=null?O:"")+"")&&be(s,i),(!g||h&1)&&u!==(u=((T=l[6].last_name)!=null?T:"")+"")&&be(m,u),l[6].username?k?k.p(l,h):(k=Ql(l),k.c(),k.m(e,d)):k&&(k.d(1),k=null)},i(I){g||(I&&Re(()=>{c||(c=Te(e,Ie,{},!0)),c.run(1)}),g=!0)},o(I){I&&(c||(c=Te(e,Ie,{},!1)),c.run(0)),g=!1},d(I){I&&E(e),k&&k.d(),I&&c&&c.end(),v=!1,y()}}}function Bi(l){let e,t,n,i;const s=[Ni,Fi],r=[];function o(a,f){return a[1]?0:1}return t=o(l),n=r[t]=s[t](l),{c(){e=b("div"),n.c(),w(e,"class","flex list flex_grow_1 svelte-1n771m2")},m(a,f){R(a,e,f),r[t].m(e,null),i=!0},p(a,[f]){let u=t;t=o(a),t===u?r[t].p(a,f):(Me(),P(r[u],1,1,()=>{r[u]=null}),De(),n=r[t],n?n.p(a,f):(n=r[t]=s[t](a),n.c()),j(n,1),n.m(e,null))},i(a){i||(j(n),i=!0)},o(a){P(n),i=!1},d(a){a&&E(e),r[t].d()}}}function Hi(l,e,t){let{api:n}=e,i=[],s=!1;const r=async()=>{var f,u;t(1,s=!0),t(0,i=(u=(f=await n.operator_GetList())==null?void 0:f.results)!=null?u:[]),t(1,s=!1)};let o=!1;const a=f=>u=>{o||(hn(f),o=!0)};return r(),l.$$set=f=>{"api"in f&&t(3,n=f.api)},[i,s,a,n]}class Gi extends ve{constructor(e){super(),he(this,e,Hi,Bi,pe,{api:3})}}const Pi=l=>typeof l=="number"&&String(l|0)===String(l);class yn extends Error{}const Ge=async(l,e=null)=>{try{return await l()}catch{}return e},Yt=l=>async e=>{if(await Ge(()=>e.response.status===l))return e;throw new Error(`Invalid response status, expected ${l}`)},en=Yt(200),zi=Yt(201),Ui=Yt(204),qi=async l=>{if(await Ge(()=>Pi(l.result.count)&&Array.isArray(l.result.results)))return l;throw new Error("Invalid result, expected list container")},mt=async l=>{if(await Ge(()=>l.result.detail==="Authentication credentials were not provided.")===!0)throw new yn("Not authorized");return l},pt=async l=>({...l,result:l.response.status===204?null:await l.response.json()}),Wi=(l,e)=>{var a,f,u;const t=(a=l==null?void 0:l.protocol)!=null?a:location.protocol,n=(f=l==null?void 0:l.host)!=null?f:location.host,i=(u=l==null?void 0:l.path_base)!=null?u:"/",s=`${t}//${n}/${i}`,r=new Set(["POST","PATCH","PUT"]),o={...e!=null?e:{},"content-type":"application/json"};return(m,_,d)=>{const c=m.toUpperCase().trim(),g=_!=null?_:"",v=d!=null?d:{},y=new URL(s);c==="GET"&&Object.entries(v).map(([S,D])=>y.searchParams.append(S,D)),y.pathname=[y.pathname,g].join("/").split("/").filter(Boolean).concat(" ").filter(Boolean).join("/").trim();const k=r.has(c)?JSON.stringify(v):null;return new Request(y,{method:c,headers:o,body:k})}},Yi=(l,e,t)=>{var v,y,k,S;const n=Wi(l,e.operator?{"x-username":e.operator}:{}),i=(v=e.onerror)!=null?v:$e,s=(y=e.onnotify)!=null?y:$e,r=(k=e.ontimestat)!=null?k:$e,o=(S=e.onNotAuthorizedError)!=null?S:$e,a=t!=null?t:(D,I)=>I(),f=async([D,I,h],O)=>{const T=$t();let C=null,V=null,N={},ee=null,z=!1;try{N.request=C=n(D,I,h),N.response=V=await a({request:C,method:D,path:I,options:h},()=>fetch(C));for(const q of O)N=await q(N)}catch(q){ee=q,z=!0}const K=$t()-T;await Ge(()=>{ee instanceof yn&&o()});const X=[];return X.push(...await Ge(async()=>{const q=new URL(C.url);return[{type:"normal",chunks:[{color:"#fff",text:C.method},{color:"#000",text:`${q.pathname}${String(q.searchParams)?"?"+q.searchParams:""}`},{color:"#f00",text:await Ge(()=>V.status,"")}]},{type:"mini",text:`${q.protocol}//${q.host}`},{type:"mini",text:`Time: ${K.toFixed(2)}ms`}]},[`${D} ${I}`])),X.push(await Ge(()=>C.body?"Body: "+JSON.stringify(h).slice(0,100):"")),X.push(await Ge(()=>N.result.detail?`Detail: ${N.result.detail}`:"")),X.push(Qn(ee)),z?i(X):s(X),r({method:D,path:I},K),!z&&N.hasOwnProperty("result")?N.result:null},u=[pt,mt],m=[pt,mt,zi],_=[pt,mt,en],d=[pt,mt,Ui],c=[..._,qi],g={};return g.message_GetList=D=>f(["GET","messages",D],c),g.message_Create=(D,I)=>f(["POST","messages",{dialog:D,text:I,is_read:!0}],m),g.dialog_GetList=D=>f(["GET","dialogs",D],c),g.dialog_SetTags=(D,I)=>f(["PATCH",`dialogs/${D}`,{tag:I}],_),g.dialog_SetReadFlagAllMessages=D=>f(["POST",`dialogs/${D}/read`,{}],d),g.dialog_DownloadReport=()=>f(["GET","dialogs/download_report",{}],[en,async D=>await Ge(async()=>{const I=h=>{const O=h.split(/;(.+)/)[1].split(/=(.+)/)[1];return O.toLowerCase().startsWith("utf-8''")?decodeURIComponent(O.replace("utf-8''","")):O.replace(/['"]/g,"")};return D.result={filename:await Ge(()=>I(D.response.headers.get("content-disposition"))),blob:await D.response.blob()},D})]),g.lead_GetUnassignedList=D=>f(["GET","leads/unassigned",D],c),g.lead_AssignOperatorSelft=D=>f(["POST",`leads/${D}/assign`,{}],_),g.lead_SetStatus=(D,I)=>f(["PATCH",`leads/${D}`,{status:I}],_),g.lead_GetUnassignedLeadCount=()=>f(["GET","leads/count_free",{}],_),g.lead_AssignOneLead=()=>f(["POST","leads/get_one",{}],[...u,async D=>await Ge(()=>{var I;return D.result=(I={200:!0,400:!1}[D.response.status])!=null?I:null,D})]),g.operatorSelf_GetOnlineInfo=()=>f(["GET","online",{}],_),g.operatorSelf_SetOnlineFlag=D=>f(["PUT","online",{online:!!D}],_),g.operator_GetList=D=>f(["GET","operators",D],c),g},Ji=()=>{const l=()=>!0,e=M=>new Promise(L=>setTimeout(L,M)),t=(M,L)=>e(M+Math.round(Math.random()*(L-M))),n=(M,L,B)=>Math.min(B,Math.max(M,L)),i=(M=0)=>new Date(Date.now()+(M!=null?M:0)).toJSON(),s=(M,L)=>{var le;const B=Math.max(0,(L==null?void 0:L.offset)|0),Y=n(1,((le=L==null?void 0:L.limit)!=null?le:20)|0,1e6),te=M.length,se=M.slice(B,B+Y);return{count:te,results:se}};let r=1;const o=M=>(M!=null?M:[]).map(L=>({...L,id:r++}));let a=1;const f=[],u={},m=M=>{var L;return(L=u[M])!=null?L:null},_=()=>f,d=M=>{var B,Y,te;const L={operator_id:a++,username:(B=M.username)!=null?B:null,first_name:(Y=M.first_name)!=null?Y:null,last_name:(te=M.last_name)!=null?te:null};return f.push(L),u[L.username]=L,G(L.username),L};let c=123123124;const g=[],v={},y=M=>{var L;return(L=v[M])!=null?L:null},k=()=>g.filter(M=>!M.hasOperator).sort((M,L)=>M._date_joined_msec-L._date_joined_msec),S=()=>({count:g.filter(M=>!M.hasOperator).length}),D=M=>{var Y,te,se;const L=c++,B={tg_id:L,username:(Y=M.username)!=null?Y:null,first_name:(te=M.first_name)!=null?te:null,last_name:(se=M.last_name)!=null?se:null,date_joined:i(M.timeDelta),esub:null,pub_id:null,refcode:null,subpub:null,hasOperator:!1,status:"NW",is_fail:!1,ref_link:`https://ref.global.com/getRef?tg_id=${L}`};return B._date_joined_msec=+new Date(B.date_joined),g.push(B),v[B.tg_id]=B,B},I=(M,L)=>{const B=y(L);return!B||!m(M)||B.hasOperator?!1:(z(M,L),B.hasOperator=!0,B.status="IW",!0)},h=M=>{const L=k();let B=!1;return L.length&&(B=I(M,L[0].tg_id)),B?{status:"lead connected",__status:200}:{status:"error: there is no free leads",__status:400}},O=(M,L,B)=>{const Y=y(L);return Y?(B.status&&(B.status==="FL"?Y.is_fail=!0:Y.status=B.status),Y):null};let T=1;const C=[],V={},N=M=>{var L;return(L=V[M])!=null?L:null},ee=(M,L=[])=>{M.tag||(M.tag=[],M._tagSearch=new Set);const B=o(L);M.tag.splice(0,1e9),M._tagSearch.clear(),B.map(Y=>{M.tag.push(Y),M._tagSearch.add(Y.title)})},z=(M,L)=>{const B=y(L);if(!B||!m(M))return null;const te={id:T++,lead_id:L,lead:B,operator:M,unread_messages_count:0,last_message:null};return ee(te),C.push(te),V[te.id]=te,B.hasOperator=!0,te},Q=(M,L,B)=>{const Y=N(L);return Y?(B.tag&&ee(Y,B.tag),Y):null},K=(M,L,B)=>{const Y=N(L);return Y?(de(M,{dialog_id:+L}).map(se=>se.is_read=!1),Y.unread_messages_count=0,!0):null},X=(M,L={})=>{const B=ue=>ue.last_message?ue.last_message._received_at_msec:ue.lead?ue.lead._date_joined_msec:0,Y=(ue,Ce)=>Ce-ue,te=(ue,Ce)=>{let Ae=Y(B(ue),B(Ce));return Ae===0&&(Ae=Y(ue.id,Ce.id)),Ae},se=L.status?new Set(L.status.split(",")):null,le=C.filter(ue=>ue.operator===M).filter(L.tag?ue=>ue._tagSearch.has(L.tag):l).filter(se?ue=>se.has(ue.lead.status):l).filter(ue=>{var Ce;return((Ce=ue==null?void 0:ue.lead)==null?void 0:Ce.status)!=="DL"});let me=[],ke=[];return L.unread_first?(me=le.filter(ue=>ue.unread_messages_count!==0),ke=le.filter(ue=>ue.unread_messages_count===0)):me=le,me.sort(te),ke.sort(te),me.concat(ke)};let q=1;const $=[],U={},x=(M,L={})=>{var le,me,ke;const B=+L.dialog,Y=L.text,te=N(B);if(!te)return null;const se={id:q++,dialog:B,text:Y,is_read:(le=L.is_read)!=null?le:!0,incoming:(me=L.incoming)!=null?me:!1,attachments:(ke=L.attachments)!=null?ke:[],received_at:i(L.timeDelta)};return se._received_at_msec=+new Date(se.received_at),$.push(se),U[se.id]=se,te.last_message=se,se.is_read||te.unread_messages_count++,se},de=(M,L={})=>$.filter(L.dialog_id?B=>B.dialog===L.dialog_id:l),ge=5*60*1e3,J={},F=M=>{var L;return(L=J[M])!=null?L:null},G=(M,L={})=>{const Y={online:!!L.online,offline_at:i(ge),interval:Math.round(ge/1e3)};return J[M]=Y,Y},W=["1.jpg","2.jpg","3.jpg","4.jpg","5.jpg","6.jpg","7.jpg","8.webp","9.webp","10.png","11.png","13.png","12.webp"],_e=`\u0414\u0430, \u043C\u0451\u0440\u0442\u0432.
\u0411\u0435\u0434\u0441\u0442\u0432\u0438\u0435, \u0443\u0433\u0440\u043E\u0436\u0430\u044E\u0449\u0435\u0435 \u0436\u0438\u0437\u043D\u0438 \u0434\u0435\u0432\u0443\u0448\u043A\u0438, \u0438\u0441\u0447\u0435\u0437\u043B\u043E, \u0441\u043B\u043E\u0432\u043D\u043E \u044D\u0442\u043E \u0431\u044B\u043B\u0430 \u043A\u0430\u043A\u0430\u044F-\u0442\u043E \u0448\u0443\u0442\u043A\u0430. \u041D\u043E \u043E\u043D\u0430 \u043D\u0435 \u043C\u043E\u0433\u043B\u0430 \u0440\u0430\u0434\u043E\u0432\u0430\u0442\u044C\u0441\u044F, \u0432\u0435\u0434\u044C \u0421\u043C\u0435\u0440\u0442\u044C \u0441\u043C\u0435\u043D\u0438\u043B\u0430 \u0441\u0432\u043E\u044E \u0444\u043E\u0440\u043C\u0443 \u0438 \u043F\u0440\u043E\u044F\u0432\u0438\u043B\u0430\u0441\u044C \u0432 \u0431\u043E\u043B\u0435\u0435 \u044F\u0432\u043D\u043E\u043C \u0432\u0438\u0434\u0435.
\u041F\u043E\u0434 \u0432\u0437\u0433\u043B\u044F\u0434\u043E\u043C \u043D\u0430\u043F\u0443\u0433\u0430\u043D\u043D\u043E\u0439 \u0434\u0435\u0432\u0443\u0448\u043A\u0438 \u0421\u043C\u0435\u0440\u0442\u044C \u0434\u0432\u0438\u043D\u0443\u043B\u0430\u0441\u044C \u0432 \u0435\u0451 \u0441\u0442\u043E\u0440\u043E\u043D\u0443. \u0422\u044C\u043C\u0430 \u043F\u0435\u0440\u0435\u0434 \u043D\u0435\u0439 \u043D\u0430\u0447\u0430\u043B\u0430 \u0441\u0433\u0443\u0449\u0430\u0442\u044C\u0441\u044F.
\u0422\u044C\u043C\u0430... \u043E\u043D\u0430 \u0441\u0435\u0439\u0447\u0430\u0441 \u043C\u0435\u043D\u044F \u043F\u0440\u043E\u0433\u043B\u043E\u0442\u0438\u0442, \u2014 \u043F\u043E\u0434\u0443\u043C\u0430\u043B\u0430 \u0434\u0435\u0432\u0443\u0448\u043A\u0430 \u0438 \u0435\u0449\u0451 \u043A\u0440\u0435\u043F\u0447\u0435 \u043E\u0431\u043D\u044F\u043B\u0430 \u0441\u0435\u0441\u0442\u0440\u0451\u043D\u043A\u0443. \u041E\u043D\u0430 \u0443\u0436\u0435 \u0434\u0430\u0436\u0435 \u0438 \u043D\u0435 \u0434\u0443\u043C\u0430\u043B\u0430 \u0431\u0435\u0436\u0430\u0442\u044C. \u0411\u0443\u0434\u044C \u043F\u0440\u043E\u0442\u0438\u0432\u043D\u0438\u043A \u0447\u0435\u043B\u043E\u0432\u0435\u043A\u043E\u043C, \u043E\u043D\u0430 \u0431\u044B \u0435\u0449\u0435 \u043C\u043E\u0433\u043B\u0430 \u043D\u0430 \u0447\u0442\u043E-\u0442\u043E \u043D\u0430\u0434\u0435\u044F\u0442\u044C\u0441\u044F. \u041D\u043E \u043D\u0435\u0447\u0442\u043E, \u0432\u043E\u0437\u0432\u044B\u0448\u0430\u044E\u0449\u0435\u0435\u0441\u044F \u043F\u0435\u0440\u0435\u0434 \u043D\u0435\u0439, \u0441 \u043B\u0435\u0433\u043A\u043E\u0441\u0442\u044C\u044E \u0440\u0430\u0437\u0432\u0435\u044F\u043B\u043E \u0442\u0430\u043A\u0438\u0435 \u043C\u044B\u0441\u043B\u0438. \u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0445\u043E\u0442\u044F \u0431\u044B \u0434\u0430\u0440\u0443\u0439 \u043C\u043D\u0435 \u0431\u0435\u0437\u0431\u043E\u043B\u0435\u0437\u043D\u0435\u043D\u043D\u0443\u044E \u0441\u043C\u0435\u0440\u0442\u044C.
\u041E\u043D\u0430 \u043C\u043E\u0433\u043B\u0430 \u043B\u0438\u0448\u044C \u043C\u043E\u043B\u0438\u0442\u044C\u0441\u044F.
\u041C\u0430\u043B\u044B\u0448\u043A\u0430 \u0443\u0446\u0435\u043F\u0438\u043B\u0430\u0441\u044C \u0437\u0430 \u0435\u0451 \u0442\u0430\u043B\u0438\u044E, \u0434\u0440\u043E\u0436\u0430 \u043E\u0442 \u0443\u0436\u0430\u0441\u0430. \u0421\u043F\u0430\u0441\u0442\u0438 \u0441\u0435\u0441\u0442\u0440\u0451\u043D\u043A\u0443... \u043D\u043E \u044D\u0442\u043E \u043D\u0435\u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E. \u041E\u043D\u0430 \u043C\u043E\u0433\u043B\u0430 \u043B\u0438\u0448\u044C \u0438\u0437\u0432\u0438\u043D\u0438\u0442\u044C\u0441\u044F \u0437\u0430 \u0441\u0432\u043E\u0451 \u0431\u0435\u0441\u0441\u0438\u043B\u0438\u0435. \u0421\u0435\u0441\u0442\u0440\u0451\u043D\u043A\u0430, \u0442\u044B \u043D\u0435 \u0431\u0443\u0434\u0435\u0448\u044C \u043E\u0434\u0438\u043D\u043E\u043A\u0430, \u044F \u043F\u043E\u0439\u0434\u0443 \u0441 \u0442\u043E\u0431\u043E\u0439.
\u0418 \u0442\u043E\u0433\u0434\u0430...`;let ye=1;const Oe=(M=null,L=null)=>(M=M!=null?M:Math.random()*W.length|0,L=L!=null?L:L=["IM","DC"][Math.random()*2|0],{file:ye++,file_type:L,url:`assets/img-test/${W[M]}`});(async()=>{const M=(te,se)=>{const le=se/te;let me=-(se+le);return()=>(me+=le,me)};let L=1;const B=(te=0)=>{let se=Math.random()<.5,le=Math.random()<.5,me=Math.random()<.5;!se&&!le&&!me&&(se=!0),se=le=me=!0;const ke=(L++).toString(36);return D({username:se?`test_lead_${ke}`:null,first_name:le?`F${ke}`:null,last_name:me?`L${ke}`:null,timeDelta:te})},Y=(te,se,le=0)=>{x(te,{dialog:se,text:`\u041F\u0440\u0438\u0432\u0435\u0442 @${te}. \u042F \u043D\u043E\u0432\u044B\u0439 \u043B\u0438\u0434, \u0432\u043E\u0442.`,is_read:!1,incoming:!0,timeDelta:le});for(let me=0;me<Math.round(Math.random()*W.length);me++){const ke=Oe(me);x(te,{dialog:se,text:`${ke.file_type==="IM"?"\u041A\u0430\u0440\u0442\u0438\u043D\u043A\u0430":"\u0424\u0430\u0439\u043B"} ${me+1}.`,is_read:!1,incoming:!0,attachments:[ke],timeDelta:le+me*1e3})}};for(let te=0;te<10;te++){const le=[10,100,1e3,5e3,7e3,1e4,1e4,1e5,2,3,5,7,8,10][te],me=`op_test_${te}`;d({username:me,first_name:"OpNumDlgs",last_name:le+""});let ke=0;const ue=M(le,6e4*le);for(let Ce=0;Ce<le;Ce++){const Ae=ue(),Ze=B(Ae),qe=z(me,Ze.tg_id);Math.random()<.5&&ke++<5&&Y(me,qe.id,Ae)}}for(;;)await t(1e3,1e4),B()})();const we=(M,L,B)=>{const Y=le=>{le&&G(B)},te=async le=>{await t(1e3,1e4);const me=L.text.match(/without_text/i),ke=L.text.match(/long_text/i),ue=L.text.match(/allimg|allfile/i),Ce=me?"":ke?_e:`\u042D\u0445\u043E \u043E\u0442\u0432\u0435\u0442 \u0434\u043B\u044F @${B}.
"${L.text}"`;if(ue){const Ze=L.text.match(/allimg/i)?"IM":"DC";for(let qe=0;qe<W.length;qe++)x(B,{dialog:L.dialog,text:Ce,is_read:!1,incoming:!0,attachments:[Oe(qe,Ze)]});return}const Ae=[];L.text.match(/img/i)?Ae.push(Oe(null,"IM")):L.text.match(/file/i)&&Ae.push(Oe(null,"DC")),x(B,{dialog:L.dialog,text:Ce,is_read:!1,incoming:!0,attachments:Ae})},se=le=>{var me;return(me=le==null?void 0:le.__status)!=null?me:200};M("GET","operators",200,()=>s(_(),L)),M("GET","online",200,()=>F(B)),M("PUT","online",200,()=>G(B,L)),M("GET","leads/unassigned",200,()=>s(k(),L)),M("GET","leads/count_free",200,()=>S()),M("POST","leads/get_one",se,()=>h(B)),M("POST",/^leads\/(\d+)\/assign$/,200,le=>I(B,le),[Y]),M("PATCH",/^leads\/(\d+)$/,200,le=>O(B,le,L),[Y]),M("GET","dialogs",200,()=>s(X(B,L),L)),M("POST",/^dialogs\/(\d+)\/read$/,204,le=>K(B,le)),M("PATCH",/^dialogs\/(\d+)$/,200,le=>Q(B,le,L),[Y]),M("GET","messages",200,()=>s(de(B,L),L)),M("POST","messages",201,()=>x(B,L),[Y,te])},ce=M=>{var Ae,Ze,qe,Jt,Vt;const L=((Ae=M==null?void 0:M.method)!=null?Ae:"").toUpperCase().trim(),B=((Ze=M==null?void 0:M.path)!=null?Ze:"").split("/").map(je=>je.trim()).filter(Boolean).join("/"),Y=Object.fromEntries(Object.entries((qe=M==null?void 0:M.headers)!=null?qe:{}).map(je=>[je[0].toLowerCase(),je[1]])),te=(Jt=M==null?void 0:M.options)!=null?Jt:{},se=(Vt=Y["x-username"])!=null?Vt:null,le=[];we((je,ft,kn,Sn,Ln=[])=>le.push({method:je,pathPattern:ft,cb:Sn,status:kn,mwList:Ln}),te,se);const ke=le.map(je=>{if(je.method===L){if(je.pathPattern instanceof RegExp){const ft=B.match(je.pathPattern);return ft?{...je,args:ft.slice(1)}:!1}return je.pathPattern===B?{...je,args:[]}:!1}}).filter(Boolean)[0];if(!ke)return null;const ue=ke.cb(...ke.args);return ke.mwList&&ke.mwList.map(je=>je(ue,se,te)),{status:typeof ke.status=="function"?ke.status(ue):ke.status,result:ue}};try{self.addEventListener("message",({data:{rpcID:M,data:L}})=>{let B,Y;try{B=ce(L)}catch(te){Y=te.message}self.postMessage({rpcID:M,result:B,error:Y})})}catch{}return{request:ce}},Vi=()=>{const l=`( ${Ji.toString()} )()`,e=new Blob([l],{type:"text/javascript"}),t=new Worker(window.URL.createObjectURL(e));let n=1;const i={};return t.addEventListener("message",({data:{rpcID:o,result:a,error:f}})=>{const u=i[o];delete i[o],f&&u.reject(new Error(f)),u.resolve(a)}),{request:o=>{const a=n++,f=i[a]=Tt();return t.postMessage({rpcID:a,data:o}),f.promise},destroy:()=>t.terminate()}};function Ki(l){let e,t,n,i,s;return t=new Ri({props:{operatorSelf:l[0],config:l[3],notifyEvents:l[1],moduleMgr:l[2],createApi:l[4]}}),{c(){e=b("div"),fe(t.$$.fragment),w(e,"class","pos_rel flex")},m(r,o){R(r,e,o),re(t,e,null),n=!0,i||(s=at(Ot.call(null,e)),i=!0)},p(r,o){const a={};o&1&&(a.operatorSelf=r[0]),t.$set(a)},i(r){n||(j(t.$$.fragment,r),n=!0)},o(r){P(t.$$.fragment,r),n=!1},d(r){r&&E(e),oe(t),i=!1,s()}}}function Xi(l){let e,t,n,i,s;return e=new ss({props:{select:"operators"}}),i=new Gi({props:{api:l[5]}}),{c(){fe(e.$$.fragment),t=A(),n=b("div"),fe(i.$$.fragment),w(n,"class","flex")},m(r,o){re(e,r,o),R(r,t,o),R(r,n,o),re(i,n,null),s=!0},p:ae,i(r){s||(j(e.$$.fragment,r),j(i.$$.fragment,r),s=!0)},o(r){P(e.$$.fragment,r),P(i.$$.fragment,r),s=!1},d(r){oe(e,r),r&&E(t),r&&E(n),oe(i)}}}function Zi(l){let e,t,n,i,s,r,o,a,f,u;const m=[Xi,Ki],_=[];function d(c,g){return c[0]?1:0}return t=d(l),n=_[t]=m[t](l),s=new bs({props:{modules:l[2]}}),o=new Ds({}),f=new us({props:{events:l[1]}}),{c(){e=b("main"),n.c(),i=A(),fe(s.$$.fragment),r=A(),fe(o.$$.fragment),a=A(),fe(f.$$.fragment),w(e,"class","flex flex_clm flex_grow_1 pos_rel overhide svelte-l8w6xt")},m(c,g){R(c,e,g),_[t].m(e,null),p(e,i),re(s,e,null),p(e,r),re(o,e,null),p(e,a),re(f,e,null),u=!0},p(c,[g]){let v=t;t=d(c),t===v?_[t].p(c,g):(Me(),P(_[v],1,1,()=>{_[v]=null}),De(),n=_[t],n?n.p(c,g):(n=_[t]=m[t](c),n.c()),j(n,1),n.m(e,i))},i(c){u||(j(n),j(s.$$.fragment,c),j(o.$$.fragment,c),j(f.$$.fragment,c),u=!0)},o(c){P(n),P(s.$$.fragment,c),P(o.$$.fragment,c),P(f.$$.fragment,c),u=!1},d(c){c&&E(e),_[t].d(),oe(s),oe(o),oe(f)}}}function Qi(l,e,t){let n;Le(l,Lt,m=>t(0,n=m));const i=qt(),s=Xn(),r=()=>{const m=window==null?void 0:window.g_Config;m||alert(`Fatal error
Config not found`);const _=m!=null?m:{};return[...vt()].map(([c,g])=>{var y;const v=c.match(/^overwrite\-config\-([^]*)$/);if(v){try{g=JSON.parse(g)}catch(D){console.log("Invalid k value error: "+D.message);return}const k=v[1].split(".");let S=_;for(;k.length>=2;){const D=k.shift();S=S[D]=(y=S[D])!=null?y:{}}k.length===1&&(S[k[0]]=g)}}),_},o=m=>{var g,v;const _=((g=m.testMode)!=null?g:!0)&&!vt().has("real-api");let d=()=>null,c=m.api;if(_){const[y,k]=((v=vt().get("ping"))!=null?v:"").split(",").concat(200,300).filter(Boolean).map(D=>xe(0,D|0,6e4)).slice(0,2).sort((D,I)=>D-I);console.log({pingMin:y,pingMax:k});const S=Vi();Ee(S.destroy),c={protocol:"https:",host:"test.mode.dev",path_base:"api/"},d=()=>async({method:D,path:I,options:h,request:O})=>{await ot(y+(k-y)*Math.random()|0);const T=Object.fromEntries([...O.headers]),{status:C,result:V}=await S.request({method:D,path:I,options:h,headers:T});return{status:C,json:()=>V}}}return(y=null)=>Yi(c,{onerror:k=>i.emit("error",k),onnotify:k=>i.emit("debug",k),onNotAuthorizedError:()=>Ve(Lt,n=null,n),ontimestat:(k,S)=>Pn(`${k.method} ${k.path}`,S),operator:y},d())},a=r(),f=o(a),u=f();return[n,i,s,a,f,u]}class $i extends ve{constructor(e){super(),he(this,e,Qi,Zi,pe,{})}}new $i({target:document.getElementById("app")});
