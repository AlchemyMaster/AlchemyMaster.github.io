(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerpolicy&&(c.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?c.credentials="include":s.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(s){if(s.ep)return;s.ep=!0;const c=n(s);fetch(s.href,c)}})();function D(){}const Ie=t=>t;function ze(t){return t()}function ke(){return Object.create(null)}function R(t){t.forEach(ze)}function ee(t){return typeof t=="function"}function Y(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function We(t){return Object.keys(t).length===0}function Je(t,...e){if(t==null)return D;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function _e(t,e,n){t.$$.on_destroy.push(Je(e,n))}function we(t){return t&&ee(t.destroy)?t.destroy:D}const Fe=typeof window<"u";let Ke=Fe?()=>window.performance.now():()=>Date.now(),be=Fe?t=>requestAnimationFrame(t):D;const Q=new Set;function Ge(t){Q.forEach(e=>{e.c(t)||(Q.delete(e),e.f())}),Q.size!==0&&be(Ge)}function Xe(t){let e;return Q.size===0&&be(Ge),{promise:new Promise(n=>{Q.add(e={c:t,f:n})}),abort(){Q.delete(e)}}}function m(t,e){t.appendChild(e)}function Ze(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Qe(t,e){return m(t.head||t,e),e.sheet}function T(t,e,n){t.insertBefore(e,n||null)}function A(t){t.parentNode.removeChild(t)}function ye(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function w(t){return document.createElement(t)}function C(t){return document.createTextNode(t)}function E(){return C(" ")}function Ve(){return C("")}function B(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function $(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function et(t){return Array.from(t.childNodes)}function N(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function xe(t,e){t.value=e==null?"":e}function q(t,e,n,l){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,l?"important":"")}function M(t,e,n){t.classList[n?"add":"remove"](e)}function tt(t,e,{bubbles:n=!1,cancelable:l=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,n,l,e),s}const fe=new Map;let ue=0;function nt(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function lt(t){const e={style_element:w("style"),rules:{}};return fe.set(t,e),e}function Le(t,e,n,l,s,c,i,r=0){const o=16.666/l;let a=`{
`;for(let y=0;y<=1;y+=o){const g=e+(n-e)*c(y);a+=y*100+`%{${i(g,1-g)}}
`}const f=a+`100% {${i(n,1-n)}}
}`,u=`__svelte_${nt(f)}_${r}`,d=Ze(t),{style_element:p,rules:_}=fe.get(d)||lt(d);if(!_[u]){const y=Qe(d,p);_[u]=!0,y.insertRule(`@keyframes ${u} ${f}`,y.cssRules.length)}const h=t.style.animation||"";return t.style.animation=`${h?`${h}, `:""}${u} ${l}ms linear ${s}ms 1 both`,ue+=1,u}function st(t,e){const n=(t.style.animation||"").split(", "),l=n.filter(e?c=>c.indexOf(e)<0:c=>c.indexOf("__svelte")===-1),s=n.length-l.length;s&&(t.style.animation=l.join(", "),ue-=s,ue||it())}function it(){be(()=>{ue||(fe.forEach(t=>{const{style_element:e}=t;A(e)}),fe.clear())})}let se;function le(t){se=t}function rt(){if(!se)throw new Error("Function called outside component initialization");return se}function ot(t){rt().$$.on_destroy.push(t)}const ne=[],de=[],ae=[],he=[],at=Promise.resolve();let ve=!1;function ct(){ve||(ve=!0,at.then(Re))}function I(t){ae.push(t)}function ft(t){he.push(t)}const me=new Set;let oe=0;function Re(){const t=se;do{for(;oe<ne.length;){const e=ne[oe];oe++,le(e),ut(e.$$)}for(le(null),ne.length=0,oe=0;de.length;)de.pop()();for(let e=0;e<ae.length;e+=1){const n=ae[e];me.has(n)||(me.add(n),n())}ae.length=0}while(ne.length);for(;he.length;)he.pop()();ve=!1,me.clear(),le(t)}function ut(t){if(t.fragment!==null){t.update(),R(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(I)}}let te;function dt(){return te||(te=Promise.resolve(),te.then(()=>{te=null})),te}function pe(t,e,n){t.dispatchEvent(tt(`${e?"intro":"outro"}${n}`))}const ce=new Set;let P;function W(){P={r:0,c:[],p:P}}function J(){P.r||R(P.c),P=P.p}function O(t,e){t&&t.i&&(ce.delete(t),t.i(e))}function j(t,e,n,l){if(t&&t.o){if(ce.has(t))return;ce.add(t),P.c.push(()=>{ce.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}const _t={duration:0};function z(t,e,n,l){let s=e(t,n),c=l?0:1,i=null,r=null,o=null;function a(){o&&st(t,o)}function f(d,p){const _=d.b-c;return p*=Math.abs(_),{a:c,b:d.b,d:_,duration:p,start:d.start,end:d.start+p,group:d.group}}function u(d){const{delay:p=0,duration:_=300,easing:h=Ie,tick:y=D,css:g}=s||_t,v={start:Ke()+p,b:d};d||(v.group=P,P.r+=1),i||r?r=v:(g&&(a(),o=Le(t,c,d,_,p,h,g)),d&&y(0,1),i=f(v,_),I(()=>pe(t,d,"start")),Xe(k=>{if(r&&k>r.start&&(i=f(r,_),r=null,pe(t,i.b,"start"),g&&(a(),o=Le(t,c,i.b,i.duration,0,h,s.css))),i){if(k>=i.end)y(c=i.b,1-c),pe(t,i.b,"end"),r||(i.b?a():--i.group.r||R(i.group.c)),i=null;else if(k>=i.start){const L=k-i.start;c=i.a+i.d*h(L/i.duration),y(c,1-c)}}return!!(i||r)}))}return{run(d){ee(s)?dt().then(()=>{s=s(),u(d)}):u(d)},end(){a(),i=r=null}}}function mt(t,e){j(t,1,1,()=>{e.delete(t.key)})}function pt(t,e,n,l,s,c,i,r,o,a,f,u){let d=t.length,p=c.length,_=d;const h={};for(;_--;)h[t[_].key]=_;const y=[],g=new Map,v=new Map;for(_=p;_--;){const b=u(s,c,_),S=n(b);let H=i.get(S);H?l&&H.p(b,e):(H=a(S,b),H.c()),g.set(S,y[_]=H),S in h&&v.set(S,Math.abs(_-h[S]))}const k=new Set,L=new Set;function x(b){O(b,1),b.m(r,f),i.set(b.key,b),f=b.first,p--}for(;d&&p;){const b=y[p-1],S=t[d-1],H=b.key,re=S.key;b===S?(f=b.first,d--,p--):g.has(re)?!i.has(H)||k.has(H)?x(b):L.has(re)?d--:v.get(H)>v.get(re)?(L.add(H),x(b)):(k.add(re),d--):(o(S,i),d--)}for(;d--;){const b=t[d];g.has(b.key)||o(b,i)}for(;p;)x(y[p-1]);return y}function gt(t,e,n){const l=t.$$.props[e];l!==void 0&&(t.$$.bound[l]=n,n(t.$$.ctx[l]))}function U(t){t&&t.c()}function F(t,e,n,l){const{fragment:s,on_mount:c,on_destroy:i,after_update:r}=t.$$;s&&s.m(e,n),l||I(()=>{const o=c.map(ze).filter(ee);i?i.push(...o):R(o),t.$$.on_mount=[]}),r.forEach(I)}function G(t,e){const n=t.$$;n.fragment!==null&&(R(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ht(t,e){t.$$.dirty[0]===-1&&(ne.push(t),ct(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function K(t,e,n,l,s,c,i,r=[-1]){const o=se;le(t);const a=t.$$={fragment:null,ctx:null,props:c,update:D,not_equal:s,bound:ke(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(o?o.$$.context:[])),callbacks:ke(),dirty:r,skip_bound:!1,root:e.target||o.$$.root};i&&i(a.root);let f=!1;if(a.ctx=n?n(t,e.props||{},(u,d,...p)=>{const _=p.length?p[0]:d;return a.ctx&&s(a.ctx[u],a.ctx[u]=_)&&(!a.skip_bound&&a.bound[u]&&a.bound[u](_),f&&ht(t,u)),d}):[],a.update(),f=!0,R(a.before_update),a.fragment=l?l(a.ctx):!1,e.target){if(e.hydrate){const u=et(e.target);a.fragment&&a.fragment.l(u),u.forEach(A)}else a.fragment&&a.fragment.c();e.intro&&O(t.$$.fragment),F(t,e.target,e.anchor,e.customElement),Re()}le(o)}class X{$destroy(){G(this,1),this.$destroy=D}$on(e,n){const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const s=l.indexOf(n);s!==-1&&l.splice(s,1)}}$set(e){this.$$set&&!We(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function vt(t){const e=t-1;return e*e*e+1}function V(t,{delay:e=0,duration:n=400,easing:l=Ie}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:l,css:c=>`opacity: ${c*s}`}}function Ee(t,{delay:e=0,duration:n=400,easing:l=vt}={}){const s=getComputedStyle(t),c=+s.opacity,i=parseFloat(s.height),r=parseFloat(s.paddingTop),o=parseFloat(s.paddingBottom),a=parseFloat(s.marginTop),f=parseFloat(s.marginBottom),u=parseFloat(s.borderTopWidth),d=parseFloat(s.borderBottomWidth);return{delay:e,duration:n,easing:l,css:p=>`overflow: hidden;opacity: ${Math.min(p*20,1)*c};height: ${p*i}px;padding-top: ${p*r}px;padding-bottom: ${p*o}px;margin-top: ${p*a}px;margin-bottom: ${p*f}px;border-top-width: ${p*u}px;border-bottom-width: ${p*d}px;`}}const Z=[];function wt(t,e=D){let n;const l=new Set;function s(r){if(Y(t,r)&&(t=r,n)){const o=!Z.length;for(const a of l)a[1](),Z.push(a,t);if(o){for(let a=0;a<Z.length;a+=2)Z[a][0](Z[a+1]);Z.length=0}}}function c(r){s(r(t))}function i(r,o=D){const a=[r,o];return l.add(a),l.size===1&&(n=e(s)||D),r(t),()=>{l.delete(a),l.size===0&&(n(),n=null)}}return{set:s,update:c,subscribe:i}}const ie=wt(null),bt=t=>{ie.set(t),g_Api.setHeader("x-username",t.username)};function Oe(t){let e,n,l;return{c(){e=w("div"),e.textContent="Operators",$(e,"class","item cursor_ptr svelte-1980tew"),M(e,"active",t[0]==="operators"),M(e,"disabled",t[1].has("operators"))},m(s,c){T(s,e,c),n||(l=B(e,"click",t[3]("operators")),n=!0)},p(s,c){c&1&&M(e,"active",s[0]==="operators"),c&2&&M(e,"disabled",s[1].has("operators"))},d(s){s&&A(e),n=!1,l()}}}function Ae(t){let e,n,l,s,c;return{c(){e=w("div"),e.textContent="New leads",n=E(),l=w("div"),l.textContent="My leads",$(e,"class","item cursor_ptr svelte-1980tew"),M(e,"active",t[0]==="_newLeads"),M(e,"disabled",t[1].has("newLeads")),$(l,"class","item cursor_ptr svelte-1980tew"),M(l,"active",t[0]==="_myLeads"),M(l,"disabled",t[1].has("myLeads"))},m(i,r){T(i,e,r),T(i,n,r),T(i,l,r),s||(c=[B(e,"click",t[3]("newLeads")),B(l,"click",t[3]("myLeads"))],s=!0)},p(i,r){r&1&&M(e,"active",i[0]==="_newLeads"),r&2&&M(e,"disabled",i[1].has("newLeads")),r&1&&M(l,"active",i[0]==="_myLeads"),r&2&&M(l,"disabled",i[1].has("myLeads"))},d(i){i&&A(e),i&&A(n),i&&A(l),s=!1,R(c)}}}function Se(t){let e,n=t[2].username+"",l,s,c;return{c(){e=w("div"),l=C(n),$(e,"class","item cursor_ptr notHover nowrap textOverEllipsis svelte-1980tew"),q(e,"max-width","200px")},m(i,r){T(i,e,r),m(e,l),c=!0},p(i,r){(!c||r&4)&&n!==(n=i[2].username+"")&&N(l,n)},i(i){c||(I(()=>{s||(s=z(e,V,{},!0)),s.run(1)}),c=!0)},o(i){s||(s=z(e,V,{},!1)),s.run(0),c=!1},d(i){i&&A(e),i&&s&&s.end()}}}function yt(t){let e,n,l,s,c,i,r=!t[2]&&Oe(t),o=t[2]&&Ae(t),a=t[2]&&Se(t);return{c(){e=w("div"),r&&r.c(),n=E(),o&&o.c(),l=E(),s=w("div"),c=E(),a&&a.c(),$(s,"class","flex flex_grow_1"),$(e,"class","flex flex_cy w100 list unselect svelte-1980tew")},m(f,u){T(f,e,u),r&&r.m(e,null),m(e,n),o&&o.m(e,null),m(e,l),m(e,s),m(e,c),a&&a.m(e,null),i=!0},p(f,[u]){f[2]?r&&(r.d(1),r=null):r?r.p(f,u):(r=Oe(f),r.c(),r.m(e,n)),f[2]?o?o.p(f,u):(o=Ae(f),o.c(),o.m(e,l)):o&&(o.d(1),o=null),f[2]?a?(a.p(f,u),u&4&&O(a,1)):(a=Se(f),a.c(),O(a,1),a.m(e,null)):a&&(W(),j(a,1,1,()=>{a=null}),J())},i(f){i||(O(a),i=!0)},o(f){j(a),i=!1},d(f){f&&A(e),r&&r.d(),o&&o.d(),a&&a.d()}}}function $t(t,e,n){let l;_e(t,ie,r=>n(2,l=r));let{select:s=""}=e,{disabled:c=new Set}=e;c.add("newLeads"),c.add("myLeads");const i=r=>o=>{c.has(r)||n(0,s=r)};return t.$$set=r=>{"select"in r&&n(0,s=r.select),"disabled"in r&&n(1,c=r.disabled)},[s,c,l,i]}class kt extends X{constructor(e){super(),K(this,e,$t,yt,Y,{select:0,disabled:1})}}function xt(t){let e;return{c(){e=w("div"),e.innerHTML=`<div class="svelte-j15bjw"></div> 
	<div class="svelte-j15bjw"></div> 
	<div class="svelte-j15bjw"></div>`,$(e,"class","lds-roller svelte-j15bjw")},m(n,l){T(n,e,l)},p:D,i:D,o:D,d(n){n&&A(e)}}}class Ye extends X{constructor(e){super(),K(this,e,null,xt,Y,{})}}function Te(t,e,n){const l=t.slice();return l[5]=e[n],l}function Lt(t){let e,n,l=t[0],s=[];for(let i=0;i<l.length;i+=1)s[i]=je(Te(t,l,i));const c=i=>j(s[i],1,1,()=>{s[i]=null});return{c(){for(let i=0;i<s.length;i+=1)s[i].c();e=Ve()},m(i,r){for(let o=0;o<s.length;o+=1)s[o].m(i,r);T(i,e,r),n=!0},p(i,r){if(r&5){l=i[0];let o;for(o=0;o<l.length;o+=1){const a=Te(i,l,o);s[o]?(s[o].p(a,r),O(s[o],1)):(s[o]=je(a),s[o].c(),O(s[o],1),s[o].m(e.parentNode,e))}for(W(),o=l.length;o<s.length;o+=1)c(o);J()}},i(i){if(!n){for(let r=0;r<l.length;r+=1)O(s[r]);n=!0}},o(i){s=s.filter(Boolean);for(let r=0;r<s.length;r+=1)j(s[r]);n=!1},d(i){ye(s,i),i&&A(e)}}}function Et(t){let e,n,l,s,c;return s=new Ye({}),{c(){e=w("div"),n=w("div"),l=E(),U(s.$$.fragment),q(n,"height","20px"),$(e,"class","flex flex_clm flex_grow_1 flex_cy")},m(i,r){T(i,e,r),m(e,n),m(e,l),F(s,e,null),c=!0},p:D,i(i){c||(O(s.$$.fragment,i),c=!0)},o(i){j(s.$$.fragment,i),c=!1},d(i){i&&A(e),G(s)}}}function je(t){let e,n,l=t[5].username+"",s,c,i,r,o=t[5].first_name+"",a,f,u,d,p,_=t[5].last_name+"",h,y,g,v,k,L;return{c(){e=w("div"),n=w("div"),s=C(l),c=E(),i=w("div"),r=w("div"),a=C(o),f=E(),u=w("div"),d=E(),p=w("div"),h=C(_),y=E(),$(n,"class","nowrap textOverEllipsis"),q(u,"width","8px"),$(i,"class","flex nowrap textOverEllipsis"),$(e,"class","flex flex_clm cursor_ptr item unselect svelte-1n771m2")},m(x,b){T(x,e,b),m(e,n),m(n,s),m(e,c),m(e,i),m(i,r),m(r,a),m(i,f),m(i,u),m(i,d),m(i,p),m(p,h),m(e,y),v=!0,k||(L=B(e,"click",function(){ee(t[2](t[5]))&&t[2](t[5]).apply(this,arguments)}),k=!0)},p(x,b){t=x,(!v||b&1)&&l!==(l=t[5].username+"")&&N(s,l),(!v||b&1)&&o!==(o=t[5].first_name+"")&&N(a,o),(!v||b&1)&&_!==(_=t[5].last_name+"")&&N(h,_)},i(x){v||(x&&I(()=>{g||(g=z(e,V,{},!0)),g.run(1)}),v=!0)},o(x){x&&(g||(g=z(e,V,{},!1)),g.run(0)),v=!1},d(x){x&&A(e),x&&g&&g.end(),k=!1,L()}}}function Ot(t){let e,n,l,s;const c=[Et,Lt],i=[];function r(o,a){return o[1]?0:1}return n=r(t),l=i[n]=c[n](t),{c(){e=w("div"),l.c(),$(e,"class","flex list flex_grow_1 svelte-1n771m2")},m(o,a){T(o,e,a),i[n].m(e,null),s=!0},p(o,[a]){let f=n;n=r(o),n===f?i[n].p(o,a):(W(),j(i[f],1,1,()=>{i[f]=null}),J(),l=i[n],l?l.p(o,a):(l=i[n]=c[n](o),l.c()),O(l,1),l.m(e,null))},i(o){s||(O(l),s=!0)},o(o){j(l),s=!1},d(o){o&&A(e),i[n].d()}}}function At(t,e,n){let l=[],s=!1;const c=async()=>{n(1,s=!0);const o=await g_Api("GET","operators");n(0,l=o.results),n(1,s=!1)};let i=!1;const r=o=>a=>{i||(bt(o),i=!0)};return c(),[l,s,r]}class St extends X{constructor(e){super(),K(this,e,At,Ot,Y,{})}}const Ue=t=>new Promise(e=>setTimeout(e,t)),$e=t=>{let e=null,n=null,l=!0;const s=()=>{l&&setTimeout(s,10);const i=t.parentNode;if(i){const r=i.getBoundingClientRect();(e!==r.width||n!==r.height)&&(e=r.width,n=r.height,t.style.width=`${e}px`,t.style.height=`${n}px`,console.log("upd"))}};return s(),{destroy:()=>l=!1}};function Me(t,e,n){const l=t.slice();return l[12]=e[n],l}function Tt(t){let e,n,l=[],s=new Map,c,i,r,o=t[1];const a=f=>f[12].tg_id;for(let f=0;f<o.length;f+=1){let u=Me(t,o,f),d=a(u);s.set(d,l[f]=De(d,u))}return{c(){e=w("div"),n=w("div");for(let f=0;f<l.length;f+=1)l[f].c();$(n,"class","flex list svelte-1qu5g5g"),$(e,"class","pos_abs"),q(e,"overflow","auto")},m(f,u){T(f,e,u),m(e,n);for(let d=0;d<l.length;d+=1)l[d].m(n,null);t[5](e),c=!0,i||(r=we($e.call(null,e)),i=!0)},p(f,u){u&10&&(o=f[1],W(),l=pt(l,u,a,1,f,o,s,n,mt,De,null,Me),J())},i(f){if(!c){for(let u=0;u<o.length;u+=1)O(l[u]);c=!0}},o(f){for(let u=0;u<l.length;u+=1)j(l[u]);c=!1},d(f){f&&A(e);for(let u=0;u<l.length;u+=1)l[u].d();t[5](null),i=!1,r()}}}function jt(t){let e,n,l,s,c;return s=new Ye({}),{c(){e=w("div"),n=w("div"),l=E(),U(s.$$.fragment),q(n,"height","20px"),$(e,"class","flex flex_clm flex_grow_1 flex_cy")},m(i,r){T(i,e,r),m(e,n),m(e,l),F(s,e,null),c=!0},p:D,i(i){c||(O(s.$$.fragment,i),c=!0)},o(i){j(s.$$.fragment,i),c=!1},d(i){i&&A(e),G(s)}}}function De(t,e){let n,l,s=e[12].username+"",c,i,r,o,a=e[12].first_name+"",f,u,d,p,_,h=e[12].last_name+"",y,g,v,k,L,x;return{key:t,first:null,c(){n=w("div"),l=w("div"),c=C(s),i=E(),r=w("div"),o=w("div"),f=C(a),u=E(),d=w("div"),p=E(),_=w("div"),y=C(h),g=E(),$(l,"class","nowrap textOverEllipsis"),q(d,"width","8px"),$(r,"class","flex nowrap textOverEllipsis"),$(n,"class","flex flex_clm cursor_ptr item unselect pos_abs svelte-1qu5g5g"),q(n,"left",e[12].x+"px"),q(n,"top",e[12].y+"px"),this.first=n},m(b,S){T(b,n,S),m(n,l),m(l,c),m(n,i),m(n,r),m(r,o),m(o,f),m(r,u),m(r,d),m(r,p),m(r,_),m(_,y),m(n,g),k=!0,L||(x=B(n,"click",function(){ee(e[3](e[12]))&&e[3](e[12]).apply(this,arguments)}),L=!0)},p(b,S){e=b,(!k||S&2)&&s!==(s=e[12].username+"")&&N(c,s),(!k||S&2)&&a!==(a=e[12].first_name+"")&&N(f,a),(!k||S&2)&&h!==(h=e[12].last_name+"")&&N(y,h),(!k||S&2)&&q(n,"left",e[12].x+"px"),(!k||S&2)&&q(n,"top",e[12].y+"px")},i(b){k||(b&&I(()=>{v||(v=z(n,V,{},!0)),v.run(1)}),k=!0)},o(b){b&&(v||(v=z(n,V,{},!1)),v.run(0)),k=!1},d(b){b&&A(n),b&&v&&v.end(),L=!1,x()}}}function Mt(t){let e,n,l,s,c,i;const r=[jt,Tt],o=[];function a(f,u){return f[2]?0:1}return n=a(t),l=o[n]=r[n](t),{c(){e=w("div"),l.c(),s=E(),c=w("div"),c.innerHTML=`<div style="background: #f00;" class="svelte-1qu5g5g">1</div> 
		<div class="svelte-1qu5g5g">2</div> 
		<div class="svelte-1qu5g5g">3</div> 
		<div class="svelte-1qu5g5g">4</div> 
		<div class="svelte-1qu5g5g">...</div> 
		<div class="svelte-1qu5g5g">100</div> 
		<div class="svelte-1qu5g5g">101</div> 
		<div class="svelte-1qu5g5g">102</div> 
		<div class="svelte-1qu5g5g">103</div>`,$(c,"class","pag pos_abs flex flex_clm svelte-1qu5g5g"),$(e,"class","flex cnt h100 pos_rel svelte-1qu5g5g")},m(f,u){T(f,e,u),o[n].m(e,null),m(e,s),m(e,c),i=!0},p(f,[u]){let d=n;n=a(f),n===d?o[n].p(f,u):(W(),j(o[d],1,1,()=>{o[d]=null}),J(),l=o[n],l?l.p(f,u):(l=o[n]=r[n](f),l.c()),O(l,1),l.m(e,s))},i(f){i||(O(l),i=!0)},o(f){j(l),i=!1},d(f){f&&A(e),o[n].d()}}}const Dt=160,qt=50,ge=0;async function qe(){return(await g_Api("GET","leads/unassigned",{page:1})).results.map(t=>({...t,date_joined:+new Date(t.date_joined)})).sort((t,e)=>e.date_joined-t.date_joined)}function Ct(t,e,n){let l;_e(t,ie,h=>n(8,l=h));let s=[],c=[],i=null;function r(){if(!i)return;const h=i.getBoundingClientRect(),y=Dt+ge*2,g=qt+ge*2,v=Math.max(1,Math.floor(h.width/y)),k=(h.width-v*y)/2,L=ge;console.log({ccx:v},h.width,y,Math.floor(h.width/y)),n(1,c=s.map((x,b)=>{const S={...x};return S.x=b%v*y+k,S.y=L+Math.floor(b/v)*g,S})),console.log(c)}let o=!1;async function a(){n(2,o=!0),n(4,s=await qe()),n(2,o=!1),u()}let f=!0;async function u(){for(;f;){await Ue(1e3);const h=new Set(s.map(L=>L.tg_id)),y=await qe(),g=new Set(y.map(L=>L.tg_id)),v=y.filter(L=>!h.has(L.tg_id));s.filter(L=>g.has(L.tg_id)).length===s.length&&v.size===0||n(4,s=[...s.filter(L=>g.has(L.tg_id)),...v].sort((L,x)=>x.date_joined-L.date_joined))}}ot(()=>f=!1);let d=!1;const p=h=>async y=>{if(!l||d)return;d=!0;const g=await g_Api("POST","lead/setOperator",{lead_id:h.tg_id,username:l.username});console.log({result:g}),d=!1};a();function _(h){de[h?"unshift":"push"](()=>{i=h,n(0,i)})}return t.$$.update=()=>{t.$$.dirty&17&&r()},[i,c,o,p,s,_]}class Nt extends X{constructor(e){super(),K(this,e,Ct,Mt,Y,{})}}function Ce(t,e,n){const l=t.slice();return l[5]=e[n],l}function Ne(t){let e;return{c(){e=w("div"),e.textContent="stan18k",$(e,"class","username svelte-oz08h")},m(n,l){T(n,e,l)},d(n){n&&A(e)}}}function He(t){let e,n,l,s,c=t[5].text+"",i,r,o=t[5].incoming&&Ne();return{c(){e=w("div"),o&&o.c(),n=E(),l=w("div"),s=w("pre"),i=C(c),r=E(),q(s,"padding","0px"),q(s,"margin","0px"),$(l,"class","flex"),$(e,"class","flex flex_clm chat_item svelte-oz08h"),M(e,"chat_item_other",t[5].incoming),M(e,"chat_item_self",!t[5].incoming)},m(a,f){T(a,e,f),o&&o.m(e,null),m(e,n),m(e,l),m(l,s),m(s,i),m(e,r)},p(a,f){a[5].incoming?o||(o=Ne(),o.c(),o.m(e,n)):o&&(o.d(1),o=null),f&1&&c!==(c=a[5].text+"")&&N(i,c),f&1&&M(e,"chat_item_other",a[5].incoming),f&1&&M(e,"chat_item_self",!a[5].incoming)},d(a){a&&A(e),o&&o.d()}}}function Ht(t){let e,n,l,s,c,i,r,o,a,f=t[0],u=[];for(let d=0;d<f.length;d+=1)u[d]=He(Ce(t,f,d));return{c(){e=w("div"),n=w("div"),l=w("div"),s=w("div");for(let d=0;d<u.length;d+=1)u[d].c();c=E(),i=w("div"),r=w("textarea"),$(s,"class","flex flex_clm flex_grow_1"),$(l,"class","flex pos_abs "),q(l,"overflow","auto"),$(n,"class","flex flex_grow_1 pos_rel overhide"),$(r,"class","flex flex_grow_1 chat_input_textarea svelte-oz08h"),$(i,"class","flex chat_input svelte-oz08h"),$(e,"class","flex flex_clm flex_grow_1")},m(d,p){T(d,e,p),m(e,n),m(n,l),m(l,s);for(let _=0;_<u.length;_+=1)u[_].m(s,null);m(e,c),m(e,i),m(i,r),xe(r,t[1]),o||(a=[we($e.call(null,l)),B(r,"input",t[3]),B(r,"keyup",t[2])],o=!0)},p(d,[p]){if(p&1){f=d[0];let _;for(_=0;_<f.length;_+=1){const h=Ce(d,f,_);u[_]?u[_].p(h,p):(u[_]=He(h),u[_].c(),u[_].m(s,null))}for(;_<u.length;_+=1)u[_].d(1);u.length=f.length}p&2&&xe(r,d[1])},i:D,o:D,d(d){d&&A(e),ye(u,d),o=!1,R(a)}}}function Pt(t,e,n){let l=[];const s={id:1,text:"",received_at:new Date().toJSON(),is_read:!0,incoming:!0,dialog:1};for(let o=0;o<10;o++){const a={...s};a.id=o+1,a.text="Text...",a.incoming=Math.random()<.5,l.push(a)}let c="";const i=o=>{if(o.which===13){console.log(c);const a={...s};a.id=2,a.text=c,a.incoming=!1,l.push(a),n(0,l),n(1,c="")}};function r(){c=this.value,n(1,c)}return[l,c,i,r]}class Bt extends X{constructor(e){super(),K(this,e,Pt,Ht,Y,{})}}function Pe(t,e,n){const l=t.slice();return l[9]=e[n],l}function Be(t){let e,n,l=t[9].lead.username+"",s,c,i,r,o=t[9].lead.first_name+"",a,f,u,d,p,_=t[9].lead.last_name+"",h,y,g,v,k,L;return{c(){e=w("div"),n=w("div"),s=C(l),c=E(),i=w("div"),r=w("div"),a=C(o),f=E(),u=w("div"),d=E(),p=w("div"),h=C(_),y=E(),$(n,"class","nowrap textOverEllipsis"),q(u,"width","8px"),$(i,"class","flex nowrap textOverEllipsis userAttr svelte-1mnl9e4"),$(e,"class","flex flex_clm cursor_ptr item unselect svelte-1mnl9e4")},m(x,b){T(x,e,b),m(e,n),m(n,s),m(e,c),m(e,i),m(i,r),m(r,a),m(i,f),m(i,u),m(i,d),m(i,p),m(p,h),m(e,y),v=!0,k||(L=B(e,"click",function(){ee(t[1](t[9]))&&t[1](t[9]).apply(this,arguments)}),k=!0)},p(x,b){t=x,(!v||b&1)&&l!==(l=t[9].lead.username+"")&&N(s,l),(!v||b&1)&&o!==(o=t[9].lead.first_name+"")&&N(a,o),(!v||b&1)&&_!==(_=t[9].lead.last_name+"")&&N(h,_)},i(x){v||(x&&I(()=>{g||(g=z(e,Ee,{},!0)),g.run(1)}),v=!0)},o(x){x&&(g||(g=z(e,Ee,{},!1)),g.run(0)),v=!1},d(x){x&&A(e),x&&g&&g.end(),k=!1,L()}}}function It(t){let e,n,l,s,c,i=t[0],r=[];for(let a=0;a<i.length;a+=1)r[a]=Be(Pe(t,i,a));const o=a=>j(r[a],1,1,()=>{r[a]=null});return s=new Bt({}),{c(){e=w("div"),n=w("div");for(let a=0;a<r.length;a+=1)r[a].c();l=E(),U(s.$$.fragment),$(n,"class","flex flex_clm list svelte-1mnl9e4"),$(e,"class","flex flex_grow_1 ")},m(a,f){T(a,e,f),m(e,n);for(let u=0;u<r.length;u+=1)r[u].m(n,null);m(e,l),F(s,e,null),c=!0},p(a,[f]){if(f&3){i=a[0];let u;for(u=0;u<i.length;u+=1){const d=Pe(a,i,u);r[u]?(r[u].p(d,f),O(r[u],1)):(r[u]=Be(d),r[u].c(),O(r[u],1),r[u].m(n,null))}for(W(),u=i.length;u<r.length;u+=1)o(u);J()}},i(a){if(!c){for(let f=0;f<i.length;f+=1)O(r[f]);O(s.$$.fragment,a),c=!0}},o(a){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)j(r[f]);j(s.$$.fragment,a),c=!1},d(a){a&&A(e),ye(r,a),G(s)}}}function zt(t,e,n){let l;_e(t,ie,a=>n(4,l=a));let s=[];const c={id:1,text:"",received_at:new Date().toJSON(),is_read:!0,incoming:!0,dialog:1};for(let a=0;a<10;a++){const f={...c};f.id=a+1,f.text="Text...",f.incoming=Math.random()<.5}const i=a=>f=>{};async function r(){!l||(n(0,s=await g_Api("GET","dialog/getDialogList",{username:l.username})),console.log(s))}r();async function o(){for(;;){const a=await g_Api("GET","dialog/getDialogList",{username:l.username});console.log(a),n(0,s=a),await Ue(1e3)}}return o(),[s,i]}class Ft extends X{constructor(e){super(),K(this,e,zt,It,Y,{})}}function Gt(t){let e,n,l,s,c,i,r;return n=new Nt({}),s=new Ft({}),{c(){e=w("div"),U(n.$$.fragment),l=E(),U(s.$$.fragment),$(e,"class","pos_abs content flex svelte-116f09r"),M(e,"contentHideL__",t[1]!=="newLeads")},m(o,a){T(o,e,a),F(n,e,null),m(e,l),F(s,e,null),c=!0,i||(r=we($e.call(null,e)),i=!0)},p(o,a){(!c||a&2)&&M(e,"contentHideL__",o[1]!=="newLeads")},i(o){c||(O(n.$$.fragment,o),O(s.$$.fragment,o),c=!0)},o(o){j(n.$$.fragment,o),j(s.$$.fragment,o),c=!1},d(o){o&&A(e),G(n),G(s),i=!1,r()}}}function Rt(t){let e,n;return e=new St({}),{c(){U(e.$$.fragment)},m(l,s){F(e,l,s),n=!0},p:D,i(l){n||(O(e.$$.fragment,l),n=!0)},o(l){j(e.$$.fragment,l),n=!1},d(l){G(e,l)}}}function Yt(t){let e,n,l,s,c,i,r,o;function a(_){t[2](_)}let f={};t[1]!==void 0&&(f.select=t[1]),n=new kt({props:f}),de.push(()=>gt(n,"select",a));const u=[Rt,Gt],d=[];function p(_,h){return _[0]?1:0}return i=p(t),r=d[i]=u[i](t),{c(){e=w("main"),U(n.$$.fragment),s=E(),c=w("div"),r.c(),$(c,"class","flex flex_grow_1 pos_rel overhide"),$(e,"class","flex flex_clm svelte-116f09r")},m(_,h){T(_,e,h),F(n,e,null),m(e,s),m(e,c),d[i].m(c,null),o=!0},p(_,[h]){const y={};!l&&h&2&&(l=!0,y.select=_[1],ft(()=>l=!1)),n.$set(y);let g=i;i=p(_),i===g?d[i].p(_,h):(W(),j(d[g],1,1,()=>{d[g]=null}),J(),r=d[i],r?r.p(_,h):(r=d[i]=u[i](_),r.c()),O(r,1),r.m(c,null))},i(_){o||(O(n.$$.fragment,_),O(r),o=!0)},o(_){j(n.$$.fragment,_),j(r),o=!1},d(_){_&&A(e),G(n),d[i].d()}}}function Ut(){const t=()=>0,e={id:1};let n=0;const l={tg_id:123123124,username:"123124123",first_name:"test",last_name:"ewr",date_joined:"2022-10-27T13:48:51.054781Z",esub:"123123",pub_id:"2312",refcode:"123123",subpub:"23123"};let s=[];const c=f=>s.find(u=>u.tg_id===f),i=()=>{const f={...l};f.tg_id+=n,f.first_name+=" "+n,f.last_name+=" "+n,f.date_joined=new Date().toJSON(),f.username=[f.first_name,f.last_name].map(u=>u.trim()).filter(Boolean).join(" ").replace(/\s/g,"_"),n++,s.push(f)},r={};Array(10).fill().map(i),setInterval(()=>{i()},2400),setInterval(()=>{s[s.length*Math.random()|0].hasOperator=!0},3e3);const o={},a=async(f,u,d={})=>{var h,y;{if(f==="GET"&&u==="operators_")return await t(),{results:[{username:"stan18k",first_name:"Stanislav",last_name:"Kulakov"},{username:"dmodev",first_name:"Demon",last_name:"Dev"},{username:"idandrey",first_name:"Andrey",last_name:""},{username:"eveascigarettesnbeer",first_name:"YEHA",last_name:""},{username:"eveascigarettesnbeer ".repeat(1e3),first_name:"YEHA",last_name:""},{username:"eveascigarettesnbeer",first_name:"YEHA",last_name:""},{username:"eveascigarettesnbeer",first_name:"YEHA",last_name:""},{username:"eveascigarettesnbeer",first_name:"YEHA",last_name:""},{username:"eveascigarettesnbeer",first_name:"YEHA",last_name:""},{username:"eveascigarettesnbeer ".repeat(1e3),first_name:"YEHA ".repeat(1e3),last_name:"D sf  ".repeat(1e3)}]};if(f==="GET"&&u==="leads/unassigned")return await t(),{results:s.filter(g=>!g.hasOperator)};if(f==="POST"&&u==="lead/setOperator"){const{lead_id:g,username:v}=d;await t();const k=c(g);if(!k||k.hasOperator)return!1;k.hasOperator=!0,e.id++;const L={...e,lead_id:g,operator:v};return r[v]=(h=r[v])!=null?h:[],r[v].push(L),!0}if(f==="GET"&&u==="dialog/getDialogList"){const g=(y=r[d.username])!=null?y:[];return g.map(v=>v.lead=c(v.lead_id)),g}}const p="https://92.255.108.70/",_=new URL(p);return f==="GET"&&Object.entries(d).map(([g,v])=>_.searchParams.append(g,v)),_.pathname=u,await(await fetch(_,{method:f,headers:o})).json()};return a.setHeader=(f,u)=>o[f]=u,a}function Wt(t,e,n){let l;_e(t,ie,r=>n(0,l=r));let s="operators";function c(r){r&&n(1,s="newLeads")}globalThis.g_Api=Ut();function i(r){s=r,n(1,s)}return t.$$.update=()=>{t.$$.dirty&1&&c(l)},[l,s,i]}class Jt extends X{constructor(e){super(),K(this,e,Wt,Yt,Y,{})}}new Jt({target:document.getElementById("app")});
