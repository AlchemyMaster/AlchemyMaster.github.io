(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();window.g_Config={API_URL:"http://92.255.108.70/api/",updateIntervals:{new_leads:500,my_leads:500,dialog:500},pinnedTags:[{title:"new",color:"#fff",background_color:"#0175ed"},{title:"work",color:"#fff",background_color:"#ff9800"},{title:"done",color:"#fff",background_color:"#4caf50"},{title:"fail",color:"#fff",background_color:"#e91e63"}]};function Q(){}const Yt=l=>l;function Rt(l){return l()}function rt(){return Object.create(null)}function be(l){l.forEach(Rt)}function Me(l){return typeof l=="function"}function de(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}function el(l){return Object.keys(l).length===0}function tl(l,...e){if(l==null)return Q;const t=l.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function ve(l,e,t){l.$$.on_destroy.push(tl(e,t))}function Ue(l){return l&&Me(l.destroy)?l.destroy:Q}const Gt=typeof window<"u";let ll=Gt?()=>window.performance.now():()=>Date.now(),lt=Gt?l=>requestAnimationFrame(l):Q;const Ae=new Set;function Wt(l){Ae.forEach(e=>{e.c(l)||(Ae.delete(e),e.f())}),Ae.size!==0&&lt(Wt)}function nl(l){let e;return Ae.size===0&&lt(Wt),{promise:new Promise(t=>{Ae.add(e={c:l,f:t})}),abort(){Ae.delete(e)}}}function h(l,e){l.appendChild(e)}function il(l){if(!l)return document;const e=l.getRootNode?l.getRootNode():l.ownerDocument;return e&&e.host?e:l.ownerDocument}function sl(l,e){return h(l.head||l,e),e.sheet}function I(l,e,t){l.insertBefore(e,t||null)}function x(l){l.parentNode.removeChild(l)}function Ut(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function k(l){return document.createElement(l)}function F(l){return document.createTextNode(l)}function N(){return F(" ")}function ze(){return F("")}function ee(l,e,t,n){return l.addEventListener(e,t,n),()=>l.removeEventListener(e,t,n)}function S(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function rl(l){return Array.from(l.childNodes)}function X(l,e){e=""+e,l.wholeText!==e&&(l.data=e)}function ot(l,e){l.value=e==null?"":e}function $(l,e,t,n){t===null?l.style.removeProperty(e):l.style.setProperty(e,t,n?"important":"")}function K(l,e,t){l.classList[t?"add":"remove"](e)}function ol(l,e,{bubbles:t=!1,cancelable:n=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(l,t,n,e),i}const Re=new Map;let Ge=0;function al(l){let e=5381,t=l.length;for(;t--;)e=(e<<5)-e^l.charCodeAt(t);return e>>>0}function fl(l){const e={style_element:k("style"),rules:{}};return Re.set(l,e),e}function at(l,e,t,n,i,s,r,o=0){const a=16.666/n;let f=`{
`;for(let w=0;w<=1;w+=a){const d=e+(t-e)*s(w);f+=w*100+`%{${r(d,1-d)}}
`}const u=f+`100% {${r(t,1-t)}}
}`,p=`__svelte_${al(u)}_${o}`,_=il(l),{style_element:b,rules:v}=Re.get(_)||fl(_);if(!v[p]){const w=sl(_,b);v[p]=!0,w.insertRule(`@keyframes ${p} ${u}`,w.cssRules.length)}const m=l.style.animation||"";return l.style.animation=`${m?`${m}, `:""}${p} ${n}ms linear ${i}ms 1 both`,Ge+=1,p}function cl(l,e){const t=(l.style.animation||"").split(", "),n=t.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),i=t.length-n.length;i&&(l.style.animation=n.join(", "),Ge-=i,Ge||ul())}function ul(){lt(()=>{Ge||(Re.forEach(l=>{const{style_element:e}=l;x(e)}),Re.clear())})}let Ie;function Ce(l){Ie=l}function dl(){if(!Ie)throw new Error("Function called outside component initialization");return Ie}function qt(l){dl().$$.on_destroy.push(l)}const xe=[],ke=[],Fe=[],Qe=[],_l=Promise.resolve();let Ve=!1;function gl(){Ve||(Ve=!0,_l.then(Jt))}function pe(l){Fe.push(l)}function Xt(l){Qe.push(l)}const Xe=new Set;let $e=0;function Jt(){const l=Ie;do{for(;$e<xe.length;){const e=xe[$e];$e++,Ce(e),ml(e.$$)}for(Ce(null),xe.length=0,$e=0;ke.length;)ke.pop()();for(let e=0;e<Fe.length;e+=1){const t=Fe[e];Xe.has(t)||(Xe.add(t),t())}Fe.length=0}while(xe.length);for(;Qe.length;)Qe.pop()();Ve=!1,Xe.clear(),Ce(l)}function ml(l){if(l.fragment!==null){l.update(),be(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(pe)}}let Ee;function pl(){return Ee||(Ee=Promise.resolve(),Ee.then(()=>{Ee=null})),Ee}function Je(l,e,t){l.dispatchEvent(ol(`${e?"intro":"outro"}${t}`))}const Ye=new Set;let he;function ne(){he={r:0,c:[],p:he}}function ie(){he.r||be(he.c),he=he.p}function O(l,e){l&&l.i&&(Ye.delete(l),l.i(e))}function P(l,e,t,n){if(l&&l.o){if(Ye.has(l))return;Ye.add(l),he.c.push(()=>{Ye.delete(l),n&&(t&&l.d(1),n())}),l.o(e)}else n&&n()}const hl={duration:0};function ue(l,e,t,n){let i=e(l,t),s=n?0:1,r=null,o=null,a=null;function f(){a&&cl(l,a)}function u(_,b){const v=_.b-s;return b*=Math.abs(v),{a:s,b:_.b,d:v,duration:b,start:_.start,end:_.start+b,group:_.group}}function p(_){const{delay:b=0,duration:v=300,easing:m=Yt,tick:w=Q,css:d}=i||hl,c={start:ll()+b,b:_};_||(c.group=he,he.r+=1),r||o?o=c:(d&&(f(),a=at(l,s,_,v,b,m,d)),_&&w(0,1),r=u(c,v),pe(()=>Je(l,_,"start")),nl(g=>{if(o&&g>o.start&&(r=u(o,v),o=null,Je(l,r.b,"start"),d&&(f(),a=at(l,s,r.b,r.duration,0,m,i.css))),r){if(g>=r.end)w(s=r.b,1-s),Je(l,r.b,"end"),o||(r.b?f():--r.group.r||be(r.group.c)),r=null;else if(g>=r.start){const y=g-r.start;s=r.a+r.d*m(y/r.duration),w(s,1-s)}}return!!(r||o)}))}return{run(_){Me(i)?pl().then(()=>{i=i(),p(_)}):p(_)},end(){f(),r=o=null}}}const vl=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Kt(l,e){l.d(1),e.delete(l.key)}function nt(l,e){P(l,1,1,()=>{e.delete(l.key)})}function Ne(l,e,t,n,i,s,r,o,a,f,u,p){let _=l.length,b=s.length,v=_;const m={};for(;v--;)m[l[v].key]=v;const w=[],d=new Map,c=new Map;for(v=b;v--;){const A=p(i,s,v),C=t(A);let T=r.get(C);T?n&&T.p(A,e):(T=f(C,A),T.c()),d.set(C,w[v]=T),C in m&&c.set(C,Math.abs(v-m[C]))}const g=new Set,y=new Set;function M(A){O(A,1),A.m(o,u),r.set(A.key,A),u=A.first,b--}for(;_&&b;){const A=w[b-1],C=l[_-1],T=A.key,L=C.key;A===C?(u=A.first,_--,b--):d.has(L)?!r.has(T)||g.has(T)?M(A):y.has(L)?_--:c.get(T)>c.get(L)?(y.add(T),M(A)):(g.add(L),_--):(a(C,r),_--)}for(;_--;){const A=l[_];d.has(A.key)||a(A,r)}for(;b;)M(w[b-1]);return w}function Zt(l,e,t){const n=l.$$.props[e];n!==void 0&&(l.$$.bound[n]=t,t(l.$$.ctx[n]))}function oe(l){l&&l.c()}function se(l,e,t,n){const{fragment:i,on_mount:s,on_destroy:r,after_update:o}=l.$$;i&&i.m(e,t),n||pe(()=>{const a=s.map(Rt).filter(Me);r?r.push(...a):be(a),l.$$.on_mount=[]}),o.forEach(pe)}function re(l,e){const t=l.$$;t.fragment!==null&&(be(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function bl(l,e){l.$$.dirty[0]===-1&&(xe.push(l),gl(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function ge(l,e,t,n,i,s,r,o=[-1]){const a=Ie;Ce(l);const f=l.$$={fragment:null,ctx:null,props:s,update:Q,not_equal:i,bound:rt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:rt(),dirty:o,skip_bound:!1,root:e.target||a.$$.root};r&&r(f.root);let u=!1;if(f.ctx=t?t(l,e.props||{},(p,_,...b)=>{const v=b.length?b[0]:_;return f.ctx&&i(f.ctx[p],f.ctx[p]=v)&&(!f.skip_bound&&f.bound[p]&&f.bound[p](v),u&&bl(l,p)),_}):[],f.update(),u=!0,be(f.before_update),f.fragment=n?n(f.ctx):!1,e.target){if(e.hydrate){const p=rl(e.target);f.fragment&&f.fragment.l(p),p.forEach(x)}else f.fragment&&f.fragment.c();e.intro&&O(l.$$.fragment),se(l,e.target,e.anchor,e.customElement),Jt()}Ce(a)}class me{$destroy(){re(this,1),this.$destroy=Q}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const i=n.indexOf(t);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!el(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function wl(l){const e=l-1;return e*e*e+1}function ye(l,{delay:e=0,duration:t=400,easing:n=Yt}={}){const i=+getComputedStyle(l).opacity;return{delay:e,duration:t,easing:n,css:s=>`opacity: ${s*i}`}}function We(l,{delay:e=0,duration:t=400,easing:n=wl}={}){const i=getComputedStyle(l),s=+i.opacity,r=parseFloat(i.height),o=parseFloat(i.paddingTop),a=parseFloat(i.paddingBottom),f=parseFloat(i.marginTop),u=parseFloat(i.marginBottom),p=parseFloat(i.borderTopWidth),_=parseFloat(i.borderBottomWidth);return{delay:e,duration:t,easing:n,css:b=>`overflow: hidden;opacity: ${Math.min(b*20,1)*s};height: ${b*r}px;padding-top: ${b*o}px;padding-bottom: ${b*a}px;margin-top: ${b*f}px;margin-bottom: ${b*u}px;border-top-width: ${b*p}px;border-bottom-width: ${b*_}px;`}}const Te=[];function Pe(l,e=Q){let t;const n=new Set;function i(o){if(de(l,o)&&(l=o,t)){const a=!Te.length;for(const f of n)f[1](),Te.push(f,l);if(a){for(let f=0;f<Te.length;f+=2)Te[f][0](Te[f+1]);Te.length=0}}}function s(o){i(o(l))}function r(o,a=Q){const f=[o,a];return n.add(f),n.size===1&&(t=e(i)||Q),o(l),()=>{n.delete(f),n.size===0&&(t(),t=null)}}return{set:i,update:s,subscribe:r}}const qe=Pe(null),kl=l=>{qe.set(l),g_Api.setHeader("x-username",l.username)},it=(l,e)=>{const{subscribe:t,set:n,update:i}=Pe(l);return[{subscribe:t},s=>{n(s),e&&e(s)}]},et={},yl=Pe(et),Ll=l=>{et[l.id]=l,yl.set(et)},tt={},[Qt,Ml]=it(tt),Sl=l=>{l.length&&(l.map(e=>tt[e.id]=e),Ml(tt))},[Tl,Al]=it(null),[Dl,Ol]=it(null,l=>{Al(l?l.id|0:null)});function ft(l){let e,t,n;return{c(){e=k("div"),e.textContent="Operators",S(e,"class","item cursor_ptr svelte-vbcb9r"),K(e,"active",l[0]==="operators"),K(e,"disabled",l[1].has("operators"))},m(i,s){I(i,e,s),t||(n=ee(e,"click",l[3]("operators")),t=!0)},p(i,s){s&1&&K(e,"active",i[0]==="operators"),s&2&&K(e,"disabled",i[1].has("operators"))},d(i){i&&x(e),t=!1,n()}}}function ct(l){let e,t=l[2].username+"",n,i,s;return{c(){e=k("div"),n=F(t),S(e,"class","item cursor_ptr notHover nowrap textOverEllipsis svelte-vbcb9r"),$(e,"max-width","200px")},m(r,o){I(r,e,o),h(e,n),s=!0},p(r,o){(!s||o&4)&&t!==(t=r[2].username+"")&&X(n,t)},i(r){s||(pe(()=>{i||(i=ue(e,ye,{},!0)),i.run(1)}),s=!0)},o(r){i||(i=ue(e,ye,{},!1)),i.run(0),s=!1},d(r){r&&x(e),r&&i&&i.end()}}}function El(l){let e,t,n,i,s,r,o=!l[2]&&ft(l),a=l[2]&&0,f=l[2]&&ct(l);return{c(){e=k("div"),o&&o.c(),t=N(),a&&a.c(),n=N(),i=k("div"),s=N(),f&&f.c(),S(i,"class","flex flex_grow_1"),S(e,"class","flex flex_cy w100 list unselect svelte-vbcb9r")},m(u,p){I(u,e,p),o&&o.m(e,null),h(e,t),a&&a.m(e,null),h(e,n),h(e,i),h(e,s),f&&f.m(e,null),r=!0},p(u,[p]){u[2]?o&&(o.d(1),o=null):o?o.p(u,p):(o=ft(u),o.c(),o.m(e,t)),u[2],a&&(a.d(1),a=null),u[2]?f?(f.p(u,p),p&4&&O(f,1)):(f=ct(u),f.c(),O(f,1),f.m(e,null)):f&&(ne(),P(f,1,1,()=>{f=null}),ie())},i(u){r||(O(f),r=!0)},o(u){P(f),r=!1},d(u){u&&x(e),o&&o.d(),a&&a.d(),f&&f.d()}}}function xl(l,e,t){let n;ve(l,qe,o=>t(2,n=o));let{select:i=""}=e,{disabled:s=new Set}=e;s.add("newLeads"),s.add("myLeads");const r=o=>a=>{s.has(o)||t(0,i=o)};return l.$$set=o=>{"select"in o&&t(0,i=o.select),"disabled"in o&&t(1,s=o.disabled)},[i,s,n,r]}class Cl extends me{constructor(e){super(),ge(this,e,xl,El,de,{select:0,disabled:1})}}function Il(l){let e;return{c(){e=k("div"),e.innerHTML=`<div class="svelte-j15bjw"></div> 
	<div class="svelte-j15bjw"></div> 
	<div class="svelte-j15bjw"></div>`,S(e,"class","lds-roller svelte-j15bjw")},m(t,n){I(t,e,n)},p:Q,i:Q,o:Q,d(t){t&&x(e)}}}class je extends me{constructor(e){super(),ge(this,e,null,Il,de,{})}}function ut(l,e,t){const n=l.slice();return n[5]=e[t],n}function zl(l){let e,t,n=l[0],i=[];for(let r=0;r<n.length;r+=1)i[r]=_t(ut(l,n,r));const s=r=>P(i[r],1,1,()=>{i[r]=null});return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=ze()},m(r,o){for(let a=0;a<i.length;a+=1)i[a].m(r,o);I(r,e,o),t=!0},p(r,o){if(o&5){n=r[0];let a;for(a=0;a<n.length;a+=1){const f=ut(r,n,a);i[a]?(i[a].p(f,o),O(i[a],1)):(i[a]=_t(f),i[a].c(),O(i[a],1),i[a].m(e.parentNode,e))}for(ne(),a=n.length;a<i.length;a+=1)s(a);ie()}},i(r){if(!t){for(let o=0;o<n.length;o+=1)O(i[o]);t=!0}},o(r){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)P(i[o]);t=!1},d(r){Ut(i,r),r&&x(e)}}}function Nl(l){let e,t,n,i,s;return i=new je({}),{c(){e=k("div"),t=k("div"),n=N(),oe(i.$$.fragment),$(t,"height","20px"),S(e,"class","flex flex_clm flex_grow_1 flex_cy")},m(r,o){I(r,e,o),h(e,t),h(e,n),se(i,e,null),s=!0},p:Q,i(r){s||(O(i.$$.fragment,r),s=!0)},o(r){P(i.$$.fragment,r),s=!1},d(r){r&&x(e),re(i)}}}function dt(l){let e,t,n=l[5].username+"",i;return{c(){e=k("div"),t=F("@"),i=F(n),S(e,"class","nowrap textOverEllipsis")},m(s,r){I(s,e,r),h(e,t),h(e,i)},p(s,r){r&1&&n!==(n=s[5].username+"")&&X(i,n)},d(s){s&&x(e)}}}function _t(l){var g,y;let e,t,n,i=((g=l[5].first_name)!=null?g:"")+"",s,r,o,a,f,u=((y=l[5].last_name)!=null?y:"")+"",p,_,b,v,m,w,d,c=l[5].username&&dt(l);return{c(){e=k("div"),t=k("div"),n=k("div"),s=F(i),r=N(),o=k("div"),a=N(),f=k("div"),p=F(u),_=N(),c&&c.c(),b=N(),$(o,"width","8px"),S(t,"class","flex nowrap textOverEllipsis"),S(e,"class","flex flex_clm cursor_ptr item unselect svelte-1n771m2")},m(M,A){I(M,e,A),h(e,t),h(t,n),h(n,s),h(t,r),h(t,o),h(t,a),h(t,f),h(f,p),h(e,_),c&&c.m(e,null),h(e,b),m=!0,w||(d=ee(e,"click",function(){Me(l[2](l[5]))&&l[2](l[5]).apply(this,arguments)}),w=!0)},p(M,A){var C,T;l=M,(!m||A&1)&&i!==(i=((C=l[5].first_name)!=null?C:"")+"")&&X(s,i),(!m||A&1)&&u!==(u=((T=l[5].last_name)!=null?T:"")+"")&&X(p,u),l[5].username?c?c.p(l,A):(c=dt(l),c.c(),c.m(e,b)):c&&(c.d(1),c=null)},i(M){m||(M&&pe(()=>{v||(v=ue(e,ye,{},!0)),v.run(1)}),m=!0)},o(M){M&&(v||(v=ue(e,ye,{},!1)),v.run(0)),m=!1},d(M){M&&x(e),c&&c.d(),M&&v&&v.end(),w=!1,d()}}}function Pl(l){let e,t,n,i;const s=[Nl,zl],r=[];function o(a,f){return a[1]?0:1}return t=o(l),n=r[t]=s[t](l),{c(){e=k("div"),n.c(),S(e,"class","flex list flex_grow_1 svelte-1n771m2")},m(a,f){I(a,e,f),r[t].m(e,null),i=!0},p(a,[f]){let u=t;t=o(a),t===u?r[t].p(a,f):(ne(),P(r[u],1,1,()=>{r[u]=null}),ie(),n=r[t],n?n.p(a,f):(n=r[t]=s[t](a),n.c()),O(n,1),n.m(e,null))},i(a){i||(O(n),i=!0)},o(a){P(n),i=!1},d(a){a&&x(e),r[t].d()}}}function jl(l,e,t){let n=[],i=!1;const s=async()=>{t(1,i=!0);const a=await g_Api("GET","operators");t(0,n=a.results),t(1,i=!1)};let r=!1;const o=a=>f=>{r||(kl(a),r=!0)};return s(),[n,i,o]}class Hl extends me{constructor(e){super(),ge(this,e,jl,Pl,de,{})}}const Vt=l=>new Promise(e=>setTimeout(e,l)),Ke=(l,e,t)=>Math.min(t,Math.max(l,e)),st=(l,e)=>{let t=null,n=null,i=!0;const s=()=>{i&&setTimeout(s,10);const o=l.parentNode;if(o){const a=o.getBoundingClientRect();(t!==a.width||n!==a.height)&&(t=a.width,n=a.height,l.style.width=`${t}px`,l.style.height=`${n}px`,e&&e.set(a))}};return s(),{destroy:()=>i=!1}},$l=(l,e)=>{let t=null,n=null,i=null,s=null,r=!0;const o=()=>{r&&setTimeout(o,10);const f=l.getBoundingClientRect();(t!==f.width||n!==f.height||i!==f.x||s!==f.y)&&(t=f.width,n=f.height,i=f.x,s=f.y,e&&e.set(f))};return o(),{destroy:()=>r=!1}};const{Map:Bl}=vl;function gt(l,e,t){const n=l.slice();return n[15]=e[t],n}function mt(l){let e,t,n;return{c(){e=F("("),t=F(l[4]),n=F(")")},m(i,s){I(i,e,s),I(i,t,s),I(i,n,s)},p(i,s){s&16&&X(t,i[4])},d(i){i&&x(e),i&&x(t),i&&x(n)}}}function pt(l){let e,t,n,i;return t=new je({}),{c(){e=k("div"),oe(t.$$.fragment),S(e,"class","pos_abs loading svelte-7z10cv")},m(s,r){I(s,e,r),se(t,e,null),i=!0},i(s){i||(O(t.$$.fragment,s),s&&pe(()=>{n||(n=ue(e,ye,{},!0)),n.run(1)}),i=!0)},o(s){P(t.$$.fragment,s),s&&(n||(n=ue(e,ye,{},!1)),n.run(0)),i=!1},d(s){s&&x(e),re(t),s&&n&&n.end()}}}function ht(l){let e,t,n=l[15].username+"",i;return{c(){e=k("div"),t=F("@"),i=F(n),S(e,"class","nowrap textOverEllipsis username svelte-7z10cv")},m(s,r){I(s,e,r),h(e,t),h(e,i)},p(s,r){r&8&&n!==(n=s[15].username+"")&&X(i,n)},d(s){s&&x(e)}}}function vt(l){let e,t,n;return t=new je({}),{c(){e=k("div"),oe(t.$$.fragment),S(e,"class","pos_abs loadingLead svelte-7z10cv")},m(i,s){I(i,e,s),se(t,e,null),n=!0},i(i){n||(O(t.$$.fragment,i),n=!0)},o(i){P(t.$$.fragment,i),n=!1},d(i){i&&x(e),re(t)}}}function bt(l,e){var A,C;let t,n,i,s=((A=e[15].first_name)!=null?A:"")+"",r,o,a,f,u,p=((C=e[15].last_name)!=null?C:"")+"",_,b,v,m=e[2].has(e[15].tg_id)||e[1].has(e[15].tg_id),w,d,c,g,y=e[15].username&&ht(e),M=m&&vt();return{key:l,first:null,c(){t=k("div"),n=k("div"),i=k("div"),r=F(s),o=N(),a=k("div"),f=N(),u=k("div"),_=F(p),b=N(),y&&y.c(),v=N(),M&&M.c(),w=N(),$(a,"width","8px"),S(n,"class","flex nowrap textOverEllipsis userAttr svelte-7z10cv"),S(t,"class","flex flex_clm cursor_ptr item unselect pos_abs svelte-7z10cv"),$(t,"left",e[15].x+"px"),$(t,"top",e[15].y+"px"),K(t,"disabled",e[1].has(e[15].tg_id)),this.first=t},m(T,L){I(T,t,L),h(t,n),h(n,i),h(i,r),h(n,o),h(n,a),h(n,f),h(n,u),h(u,_),h(t,b),y&&y.m(t,null),h(t,v),M&&M.m(t,null),h(t,w),d=!0,c||(g=ee(t,"click",function(){Me(e[6](e[15].tg_id))&&e[6](e[15].tg_id).apply(this,arguments)}),c=!0)},p(T,L){var H,B;e=T,(!d||L&8)&&s!==(s=((H=e[15].first_name)!=null?H:"")+"")&&X(r,s),(!d||L&8)&&p!==(p=((B=e[15].last_name)!=null?B:"")+"")&&X(_,p),e[15].username?y?y.p(e,L):(y=ht(e),y.c(),y.m(t,v)):y&&(y.d(1),y=null),L&14&&(m=e[2].has(e[15].tg_id)||e[1].has(e[15].tg_id)),m?M?L&14&&O(M,1):(M=vt(),M.c(),O(M,1),M.m(t,w)):M&&(ne(),P(M,1,1,()=>{M=null}),ie()),(!d||L&8)&&$(t,"left",e[15].x+"px"),(!d||L&8)&&$(t,"top",e[15].y+"px"),(!d||L&10)&&K(t,"disabled",e[1].has(e[15].tg_id))},i(T){d||(O(M),d=!0)},o(T){P(M),d=!1},d(T){T&&x(t),y&&y.d(),M&&M.d(),c=!1,g()}}}function Fl(l){let e,t,n,i,s,r,o,a,f=[],u=new Bl,p,_,b,v=l[4]!==null&&mt(l),m=l[5]&&pt(),w=l[3];const d=c=>c[15].tg_id;for(let c=0;c<w.length;c+=1){let g=gt(l,w,c),y=d(g);u.set(y,f[c]=bt(y,g))}return{c(){e=k("div"),t=k("div"),n=F(`New leads\r
		\r
		`),v&&v.c(),i=N(),m&&m.c(),s=N(),r=k("div"),o=k("div"),a=k("div");for(let c=0;c<f.length;c+=1)f[c].c();S(t,"class","flex flex_cx flex_cy header pos_rel svelte-7z10cv"),S(a,"class","flex list h100 svelte-7z10cv"),S(o,"class","pos_abs"),$(o,"overflow","hidden"),S(r,"class","flex cnt h100 pos_rel svelte-7z10cv"),S(e,"class","flex flex_clm wrapMain svelte-7z10cv")},m(c,g){I(c,e,g),h(e,t),h(t,n),v&&v.m(t,null),h(t,i),m&&m.m(t,null),h(e,s),h(e,r),h(r,o),h(o,a);for(let y=0;y<f.length;y+=1)f[y].m(a,null);l[8](o),p=!0,_||(b=Ue(st.call(null,o)),_=!0)},p(c,[g]){c[4]!==null?v?v.p(c,g):(v=mt(c),v.c(),v.m(t,i)):v&&(v.d(1),v=null),c[5]?m?g&32&&O(m,1):(m=pt(),m.c(),O(m,1),m.m(t,null)):m&&(ne(),P(m,1,1,()=>{m=null}),ie()),g&78&&(w=c[3],ne(),f=Ne(f,g,d,1,c,w,u,a,nt,bt,null,gt),ie())},i(c){if(!p){O(m);for(let g=0;g<w.length;g+=1)O(f[g]);p=!0}},o(c){P(m);for(let g=0;g<f.length;g+=1)P(f[g]);p=!1},d(c){c&&x(e),v&&v.d(),m&&m.d();for(let g=0;g<f.length;g+=1)f[g].d();l[8](null),_=!1,b()}}}const Yl=160,Rl=33,Ze=0;function Gl(l,e,t){let n;ve(l,qe,c=>t(10,n=c));let i=[],s=new Map,r=new Set,o=[],a=null;function f(){if(!a)return;const c=a.getBoundingClientRect(),g=Yl+Ze*2,y=Rl+Ze*2,M=Math.max(1,Math.floor(c.width/g)),A=(c.width-M*g)/2,C=Ze;t(3,o=i.map((T,L)=>{const H={...T};return H.x=L%M*g+A,H.y=C+Math.floor(L/M)*y,H}))}let u=null,p=!1;async function _(){var g;const c=await g_Api.lead_GetUnassignedList({offset:0,limit:20});return c?(t(4,u=c.count),(g=c.results)!=null?g:c):null}let b=!0;async function v(){for(;b;){await Vt(g_Config.updateIntervals.new_leads);const c=await _();if(!c)continue;const g=new Set(i.map(L=>L.tg_id)),y=new Set(c.map(L=>L.tg_id)),M=c.filter(L=>!g.has(L.tg_id)),A=i.filter(L=>!y.has(L.tg_id)),C=Date.now();A.map(L=>s.has(L.tg_id)||s.set(L.tg_id,C)),M.length===0&&A.length===0||t(7,i=[...i,...M]);const T=new Set;[...s].map(L=>{L[1]+2e3<=C&&T.add(L[0]),L[1]+1e4<=C&&s.delete(L[0])}),T.size&&t(7,i=i.filter(L=>!T.has(L.tg_id)))}}async function m(){for(t(5,p=!0);b;){const c=await _();if(c){t(7,i=c);break}}t(5,p=!1),v()}qt(()=>b=!1);const w=c=>async g=>{if(!n||r.has(c)||s.has(c))return;r.add(c),t(2,r);const y=await g_Api.lead_AssignOperatorSelft(c);r.delete(c),t(2,r),y!==null&&(s.set(c,Date.now()),t(1,s)),t(7,i),t(3,o)};m();function d(c){ke[c?"unshift":"push"](()=>{a=c,t(0,a)})}return l.$$.update=()=>{l.$$.dirty&129&&f()},[a,s,r,o,u,p,w,i,d]}class Wl extends me{constructor(e){super(),ge(this,e,Gl,Fl,de,{})}}function wt(l,e,t){const n=l.slice();return n[6]=e[t],n}function Ul(l){let e;return{c(){e=F("\xA0")},m(t,n){I(t,e,n)},p:Q,d(t){t&&x(e)}}}function ql(l){var n,i;let e=((i=(n=l[1])==null?void 0:n.last_message)==null?void 0:i.text)+"",t;return{c(){t=F(e)},m(s,r){I(s,t,r)},p(s,r){var o,a;r&2&&e!==(e=((a=(o=s[1])==null?void 0:o.last_message)==null?void 0:a.text)+"")&&X(t,e)},d(s){s&&x(t)}}}function kt(l,e){let t,n=e[6].title.toLowerCase()+"",i;return{key:l,first:null,c(){t=k("div"),i=F(n),S(t,"class","flex tag svelte-1d7zz9x"),$(t,"background",e[6].background_color),$(t,"color",e[6].color),this.first=t},m(s,r){I(s,t,r),h(t,i)},p(s,r){e=s,r&2&&n!==(n=e[6].title.toLowerCase()+"")&&X(i,n),r&2&&$(t,"background",e[6].background_color),r&2&&$(t,"color",e[6].color)},d(s){s&&x(t)}}}function yt(l){let e,t=l[4](l[1]._lastTime)+"",n;return{c(){e=k("div"),n=F(t),S(e,"class","pos_abs flex flex_cx flex_cy lastTime svelte-1d7zz9x")},m(i,s){I(i,e,s),h(e,n)},p(i,s){s&2&&t!==(t=i[4](i[1]._lastTime)+"")&&X(n,t)},d(i){i&&x(e)}}}function Lt(l){var i;let e,t=((i=l[1])==null?void 0:i.unread_messages_count)+"",n;return{c(){e=k("div"),n=F(t),S(e,"class","pos_abs flex flex_cx flex_cy unreadMsgs svelte-1d7zz9x")},m(s,r){I(s,e,r),h(e,n)},p(s,r){var o;r&2&&t!==(t=((o=s[1])==null?void 0:o.unread_messages_count)+"")&&X(n,t)},d(s){s&&x(e)}}}function Xl(l){var z,E,J,Z,te,le,fe,Le,De;let e,t,n,i,s,r=((J=(E=(z=l[1])==null?void 0:z.lead)==null?void 0:E.first_name)!=null?J:"")+"",o,a,f,u,p,_=((le=(te=(Z=l[1])==null?void 0:Z.lead)==null?void 0:te.last_name)!=null?le:"")+"",b,v,m,w,d,c=[],g=new Map,y,M,A,C,T,L;function H(j,U){var R,W;return(W=(R=j[1])==null?void 0:R.last_message)!=null&&W.text?ql:Ul}let B=H(l),Y=B(l),V=(Le=(fe=l[1])==null?void 0:fe.tag)!=null?Le:[];const ae=j=>j[6].id;for(let j=0;j<V.length;j+=1){let U=wt(l,V,j),R=ae(U);g.set(R,c[j]=kt(R,U))}let G=l[1]._lastTime&&yt(l),D=((De=l[1])==null?void 0:De.unread_messages_count)&&Lt(l);return{c(){e=k("div"),t=k("div"),n=k("div"),i=N(),s=k("div"),o=F(r),a=N(),f=k("div"),u=N(),p=k("div"),b=F(_),v=N(),m=k("div"),Y.c(),w=N(),d=k("div");for(let j=0;j<c.length;j+=1)c[j].c();y=N(),G&&G.c(),M=N(),D&&D.c(),$(n,"width","8px"),$(f,"width","8px"),S(t,"class","flex nowrap textOverEllipsis userFirstLastName pos_rel svelte-1d7zz9x"),S(m,"class","nowrap textOverEllipsis lastMessage pos_rel svelte-1d7zz9x"),S(d,"class","flex tag_list svelte-1d7zz9x"),S(e,"class","flex flex_clm cursor_ptr item flex_cx unselect pos_rel svelte-1d7zz9x"),K(e,"active",l[0]===l[2])},m(j,U){I(j,e,U),h(e,t),h(t,n),h(t,i),h(t,s),h(s,o),h(t,a),h(t,f),h(t,u),h(t,p),h(p,b),h(e,v),h(e,m),Y.m(m,null),h(e,w),h(e,d);for(let R=0;R<c.length;R+=1)c[R].m(d,null);h(e,y),G&&G.m(e,null),h(e,M),D&&D.m(e,null),C=!0,T||(L=ee(e,"click",l[3]),T=!0)},p(j,[U]){var R,W,we,Oe,q,_e,ce,He,Se;(!C||U&2)&&r!==(r=((we=(W=(R=j[1])==null?void 0:R.lead)==null?void 0:W.first_name)!=null?we:"")+"")&&X(o,r),(!C||U&2)&&_!==(_=((_e=(q=(Oe=j[1])==null?void 0:Oe.lead)==null?void 0:q.last_name)!=null?_e:"")+"")&&X(b,_),B===(B=H(j))&&Y?Y.p(j,U):(Y.d(1),Y=B(j),Y&&(Y.c(),Y.m(m,null))),U&2&&(V=(He=(ce=j[1])==null?void 0:ce.tag)!=null?He:[],c=Ne(c,U,ae,1,j,V,g,d,Kt,kt,null,wt)),j[1]._lastTime?G?G.p(j,U):(G=yt(j),G.c(),G.m(e,M)):G&&(G.d(1),G=null),(Se=j[1])!=null&&Se.unread_messages_count?D?D.p(j,U):(D=Lt(j),D.c(),D.m(e,null)):D&&(D.d(1),D=null),(!C||U&5)&&K(e,"active",j[0]===j[2])},i(j){C||(j&&pe(()=>{A||(A=ue(e,We,{},!0)),A.run(1)}),C=!0)},o(j){j&&(A||(A=ue(e,We,{},!1)),A.run(0)),C=!1},d(j){j&&x(e),Y.d();for(let U=0;U<c.length;U+=1)c[U].d();G&&G.d(),D&&D.d(),j&&A&&A.end(),T=!1,L()}}}function Jl(l,e,t){let n,i,s;ve(l,Qt,f=>t(5,i=f)),ve(l,Tl,f=>t(2,s=f));let{dialog_id:r}=e;const o=f=>{Ol(n)},a=f=>{const u=_=>String(_).padStart(2,"0"),p=new Date;return f=new Date(f),f.getYear()===p.getYear()&&f.getMonth()===p.getMonth()?f.getDate()===p.getDate()?`${u(f.getHours())}:${u(f.getMinutes())}`:`${u(f.getDate())}d ${u(f.getHours())}:${u(f.getMinutes())}`:`${u(f.getDate())}.${u(f.getMonth())}.${f.getFullYear()}`};return l.$$set=f=>{"dialog_id"in f&&t(0,r=f.dialog_id)},l.$$.update=()=>{l.$$.dirty&33&&t(1,n=i[r])},[r,n,s,o,a,i]}class Kl extends me{constructor(e){super(),ge(this,e,Jl,Xl,de,{dialog_id:0})}}function Mt(l){let e,t;return{c(){e=k("div"),t=F(l[1]),S(e,"class","username svelte-10cuqsv")},m(n,i){I(n,e,i),h(e,t)},p(n,i){i&2&&X(t,n[1])},d(n){n&&x(e)}}}function Zl(l){let e,t,n,i,s,r=l[0]&&l[1]&&Mt(l);return{c(){e=k("div"),r&&r.c(),t=N(),n=k("div"),i=k("pre"),s=F(l[2]),S(i,"class","text svelte-10cuqsv"),S(n,"class","flex"),S(e,"class","flex flex_clm chat_item pos_abs svelte-10cuqsv"),K(e,"chat_item_other",l[0]),K(e,"chat_item_self",!l[0])},m(o,a){I(o,e,a),r&&r.m(e,null),h(e,t),h(e,n),h(n,i),h(i,s),l[6](e)},p(o,[a]){o[0]&&o[1]?r?r.p(o,a):(r=Mt(o),r.c(),r.m(e,t)):r&&(r.d(1),r=null),a&4&&X(s,o[2]),a&1&&K(e,"chat_item_other",o[0]),a&1&&K(e,"chat_item_self",!o[0])},i:Q,o:Q,d(o){o&&x(e),r&&r.d(),l[6](null)}}}function Ql(l,e,t){let{incoming:n=!1}=e,{username:i=null}=e,{text:s=null}=e,{render_Width:r=1}=e,{render_X:o=-r*2}=e,a=null;function f(u){ke[u?"unshift":"push"](()=>{a=u,t(3,a)})}return l.$$set=u=>{"incoming"in u&&t(0,n=u.incoming),"username"in u&&t(1,i=u.username),"text"in u&&t(2,s=u.text),"render_Width"in u&&t(4,r=u.render_Width),"render_X"in u&&t(5,o=u.render_X)},[n,i,s,a,r,o,f]}class Vl extends me{constructor(e){super(),ge(this,e,Ql,Zl,de,{incoming:0,username:1,text:2,render_Width:4,render_X:5})}}function St(l,e,t){const n=l.slice();return n[16]=e[t],n}function Tt(l,e,t){const n=l.slice();return n[16]=e[t],n}function At(l){var b,v;let e,t,n,i=[],s=new Map,r,o,a,f,u=(v=(b=l[0])==null?void 0:b.tag)!=null?v:[];const p=m=>m[16].id;for(let m=0;m<u.length;m+=1){let w=Tt(l,u,m),d=p(w);s.set(d,i[m]=Dt(d,w))}let _=l[1]!==null&&l[0]&&l[1]===l[0].id&&Ot(l);return{c(){e=k("div"),t=k("div"),t.innerHTML=`Add tag
			<div class="flex flex_cx flex_cy h100 pos_abs tag_delete_btn svelte-e6y06k">+</div>`,n=N();for(let m=0;m<i.length;m+=1)i[m].c();r=N(),_&&_.c(),S(t,"class","flex flex_cx flex_cy overhide cursor_ptr pos_rel tag_add tag svelte-e6y06k"),S(e,"class","flex tag_list unselect pos_rel svelte-e6y06k")},m(m,w){I(m,e,w),h(e,t),h(e,n);for(let d=0;d<i.length;d+=1)i[d].m(e,null);h(e,r),_&&_.m(e,null),l[11](e),o=!0,a||(f=ee(t,"click",l[10]),a=!0)},p(m,w){var d,c;w&65&&(u=(c=(d=m[0])==null?void 0:d.tag)!=null?c:[],i=Ne(i,w,p,1,m,u,s,e,Kt,Dt,r,Tt)),m[1]!==null&&m[0]&&m[1]===m[0].id?_?(_.p(m,w),w&3&&O(_,1)):(_=Ot(m),_.c(),O(_,1),_.m(e,null)):_&&(ne(),P(_,1,1,()=>{_=null}),ie())},i(m){o||(O(_),o=!0)},o(m){P(_),o=!1},d(m){m&&x(e);for(let w=0;w<i.length;w+=1)i[w].d();_&&_.d(),l[11](null),a=!1,f()}}}function Dt(l,e){let t,n=e[16].title.toLowerCase()+"",i,s,r,o,a;return{key:l,first:null,c(){t=k("div"),i=F(n),s=N(),r=k("div"),r.textContent="X",S(r,"class","flex flex_cx flex_cy h100 pos_abs tag_delete_btn svelte-e6y06k"),S(t,"class","flex flex_cx flex_cy overhide cursor_ptr pos_rel tag svelte-e6y06k"),$(t,"background",e[16].background_color),$(t,"color",e[16].color),this.first=t},m(f,u){I(f,t,u),h(t,i),h(t,s),h(t,r),o||(a=ee(t,"click",function(){Me(e[6](e[16]))&&e[6](e[16]).apply(this,arguments)}),o=!0)},p(f,u){e=f,u&1&&n!==(n=e[16].title.toLowerCase()+"")&&X(i,n),u&1&&$(t,"background",e[16].background_color),u&1&&$(t,"color",e[16].color)},d(f){f&&x(t),o=!1,a()}}}function Ot(l){let e,t,n,i,s=l[3],r=[];for(let a=0;a<s.length;a+=1)r[a]=xt(St(l,s,a));const o=a=>P(r[a],1,1,()=>{r[a]=null});return{c(){e=k("div"),t=k("div");for(let a=0;a<r.length;a+=1)r[a].c();S(t,"class","flex tagAddList1 svelte-e6y06k"),$(t,"flex-wrap","wrap"),S(e,"class","pos_abs tag_settings flex flex_clm svelte-e6y06k")},m(a,f){I(a,e,f),h(e,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);i=!0},p(a,f){if(f&44){s=a[3];let u;for(u=0;u<s.length;u+=1){const p=St(a,s,u);r[u]?(r[u].p(p,f),O(r[u],1)):(r[u]=xt(p),r[u].c(),O(r[u],1),r[u].m(t,null))}for(ne(),u=s.length;u<r.length;u+=1)o(u);ie()}},i(a){if(!i){for(let f=0;f<s.length;f+=1)O(r[f]);a&&pe(()=>{n||(n=ue(e,We,{},!0)),n.run(1)}),i=!0}},o(a){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)P(r[f]);a&&(n||(n=ue(e,We,{},!1)),n.run(0)),i=!1},d(a){a&&x(e),Ut(r,a),a&&n&&n.end()}}}function Et(l){let e,t,n;return t=new je({}),{c(){e=k("div"),oe(t.$$.fragment),S(e,"class","pos_abs tag_loading svelte-e6y06k")},m(i,s){I(i,e,s),se(t,e,null),n=!0},i(i){n||(O(t.$$.fragment,i),n=!0)},o(i){P(t.$$.fragment,i),n=!1},d(i){i&&x(e),re(t)}}}function xt(l){let e,t=l[16].title+"",n,i,s,r,o,a,f,u=l[2]&&Et();return{c(){e=k("div"),n=F(t),i=k("div"),i.textContent="+",s=N(),u&&u.c(),r=N(),S(i,"class","flex flex_cx flex_cy h100 pos_abs tag_delete_btn svelte-e6y06k"),S(e,"class","flex flex_cx flex_cy overhide cursor_ptr pos_rel tag_add tag svelte-e6y06k"),$(e,"background",l[16].background_color),$(e,"color",l[16].color),K(e,"disabled",l[2])},m(p,_){I(p,e,_),h(e,n),h(e,i),h(e,s),u&&u.m(e,null),h(e,r),o=!0,a||(f=ee(e,"click",function(){Me(l[5](l[16]))&&l[5](l[16]).apply(this,arguments)}),a=!0)},p(p,_){l=p,(!o||_&8)&&t!==(t=l[16].title+"")&&X(n,t),l[2]?u?_&4&&O(u,1):(u=Et(),u.c(),O(u,1),u.m(e,r)):u&&(ne(),P(u,1,1,()=>{u=null}),ie()),(!o||_&8)&&$(e,"background",l[16].background_color),(!o||_&8)&&$(e,"color",l[16].color),(!o||_&4)&&K(e,"disabled",l[2])},i(p){o||(O(u),o=!0)},o(p){P(u),o=!1},d(p){p&&x(e),u&&u.d(),a=!1,f()}}}function en(l){let e,t,n,i,s=l[0]&&At(l);return{c(){s&&s.c(),e=ze()},m(r,o){s&&s.m(r,o),I(r,e,o),t=!0,n||(i=[ee(window,"mousedown",l[7]),ee(window,"blure_",l[7])],n=!0)},p(r,[o]){r[0]?s?(s.p(r,o),o&1&&O(s,1)):(s=At(r),s.c(),O(s,1),s.m(e.parentNode,e)):s&&(ne(),P(s,1,1,()=>{s=null}),ie())},i(r){t||(O(s),t=!0)},o(r){P(s),t=!1},d(r){s&&s.d(r),r&&x(e),n=!1,be(i)}}}function tn(l,e,t){let n,i;ve(l,Qt,d=>t(9,i=d));let{dialog_id:s=null}=e,r=null,o=!1;const a=async(d,c)=>{const g=await g_Api.dialog_SetTags(n.id,c);return g&&Ll(g),g},f=d=>async c=>{if(!n||o)return;t(2,o=!0);const g={color:"#fff",background_color:"#f00",...d,title:d.title.toLowerCase().trim()};await a(n.id,[...n.tag,g]),t(2,o=!1)},u=d=>async c=>{if(!n||o)return;t(2,o=!0);const g=n.tag.filter(y=>y.id!==d.id).map(y=>({title:y.title,color:y.color,background_color:y.background_color}));await a(n.id,g),t(2,o=!1)};let p=[];function _(){var c;const d=new Set(((c=n.tag)!=null?c:[]).map(g=>g.title));t(3,p=g_Config.pinnedTags.filter(g=>!d.has(g.tag)))}let b;const v=d=>{let c=d.target;for(;c;){if(c===b)return;c=c.parentNode}t(1,r=null)},m=()=>t(1,r=n.id);function w(d){ke[d?"unshift":"push"](()=>{b=d,t(4,b)})}return l.$$set=d=>{"dialog_id"in d&&t(8,s=d.dialog_id)},l.$$.update=()=>{l.$$.dirty&768&&t(0,n=i[s]),l.$$.dirty&1&&n&&_()},[n,r,o,p,b,f,u,v,s,i,m,w]}class ln extends me{constructor(e){super(),ge(this,e,tn,en,de,{dialog_id:8})}}function nn(l){let e,t,n,i;return{c(){e=k("div"),t=k("div"),S(t,"class","pos_abs thumb w100 svelte-1un6dgr"),$(t,"height",l[1]+"px"),$(t,"top",l[5](l[0],l[3])+"px"),K(t,"active",l[2]),S(e,"class","pos_rel h100 unselect line svelte-1un6dgr"),K(e,"active",l[2])},m(s,r){I(s,e,r),h(e,t),n||(i=[ee(window,"mousemove",l[7]),ee(window,"mouseup",l[8]),ee(window,"blur",l[8]),ee(t,"mousedown",l[6]),Ue($l.call(null,e,l[4])),ee(e,"mousedown",l[9])],n=!0)},p(s,[r]){r&2&&$(t,"height",s[1]+"px"),r&9&&$(t,"top",s[5](s[0],s[3])+"px"),r&4&&K(t,"active",s[2]),r&4&&K(e,"active",s[2])},i:Q,o:Q,d(s){s&&x(e),n=!1,be(i)}}}function sn(l,e,t){let n,{value_in:i=0}=e,{value_out:s=i}=e,{thumb_Height:r=20}=e;const o=Pe(null);ve(l,o,w=>t(3,n=w));const a=()=>n?n.height-r:1,f=w=>n?w*a():0;let u=null;const p=w=>{!n||t(2,u={y:w.clientY,value_out:s})},_=w=>{if(!n||!u)return;const d=w.clientY-u.y;if(n.height){const c=d/a();t(0,s=Ke(0,u.value_out+c,1))}},b=w=>{t(2,u=null)},v=w=>{!n||(t(0,s=Ke(0,(w.clientY-n.y-r/2)/a(),1)),t(2,u={y:w.clientY,value_out:s}))},m=()=>{u||t(0,s=Ke(0,i,1))};return l.$$set=w=>{"value_in"in w&&t(10,i=w.value_in),"value_out"in w&&t(0,s=w.value_out),"thumb_Height"in w&&t(1,r=w.thumb_Height)},l.$$.update=()=>{l.$$.dirty&1024&&m()},[s,r,u,n,o,f,p,_,b,v,i]}class rn extends me{constructor(e){super(),ge(this,e,sn,nn,de,{value_in:10,value_out:0,thumb_Height:1})}}function Ct(l,e,t){const n=l.slice();return n[32]=e[t],n}function It(l){var w,d,c,g,y,M,A,C;let e,t,n,i,s=((c=(d=(w=l[0])==null?void 0:w.lead)==null?void 0:d.first_name)!=null?c:"")+"",r,o,a,f,u,p=((M=(y=(g=l[0])==null?void 0:g.lead)==null?void 0:y.last_name)!=null?M:"")+"",_,b,v,m=((C=(A=l[0])==null?void 0:A.lead)==null?void 0:C.username)&&zt(l);return{c(){e=k("div"),t=k("div"),n=N(),i=k("div"),r=F(s),o=N(),a=k("div"),f=N(),u=k("div"),_=F(p),b=N(),m&&m.c(),v=ze(),$(t,"width","8px"),$(a,"width","8px"),S(e,"class","flex nowrap textOverEllipsis userFirstLastName pos_rel svelte-ffie4h")},m(T,L){I(T,e,L),h(e,t),h(e,n),h(e,i),h(i,r),h(e,o),h(e,a),h(e,f),h(e,u),h(u,_),I(T,b,L),m&&m.m(T,L),I(T,v,L)},p(T,L){var H,B,Y,V,ae,G,D,z;L[0]&1&&s!==(s=((Y=(B=(H=T[0])==null?void 0:H.lead)==null?void 0:B.first_name)!=null?Y:"")+"")&&X(r,s),L[0]&1&&p!==(p=((G=(ae=(V=T[0])==null?void 0:V.lead)==null?void 0:ae.last_name)!=null?G:"")+"")&&X(_,p),(z=(D=T[0])==null?void 0:D.lead)!=null&&z.username?m?m.p(T,L):(m=zt(T),m.c(),m.m(v.parentNode,v)):m&&(m.d(1),m=null)},d(T){T&&x(e),T&&x(b),m&&m.d(T),T&&x(v)}}}function zt(l){let e,t,n=l[0].lead.username+"",i;return{c(){e=k("div"),t=F("@"),i=F(n),S(e,"class","nowrap textOverEllipsis username svelte-ffie4h")},m(s,r){I(s,e,r),h(e,t),h(e,i)},p(s,r){r[0]&1&&n!==(n=s[0].lead.username+"")&&X(i,n)},d(s){s&&x(e)}}}function Nt(l){let e,t;return e=new ln({props:{dialog_id:l[0].id}}),{c(){oe(e.$$.fragment)},m(n,i){se(e,n,i),t=!0},p(n,i){const s={};i[0]&1&&(s.dialog_id=n[0].id),e.$set(s)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){P(e.$$.fragment,n),t=!1},d(n){re(e,n)}}}function Pt(l){let e,t,n,i;return t=new je({}),{c(){e=k("div"),oe(t.$$.fragment),S(e,"class","pos_abs loading svelte-ffie4h")},m(s,r){I(s,e,r),se(t,e,null),i=!0},i(s){i||(O(t.$$.fragment,s),s&&pe(()=>{n||(n=ue(e,ye,{},!0)),n.run(1)}),i=!0)},o(s){P(t.$$.fragment,s),s&&(n||(n=ue(e,ye,{},!1)),n.run(0)),i=!1},d(s){s&&x(e),re(t),s&&n&&n.end()}}}function jt(l,e){var s,r,o,a,f,u;let t,n,i;return n=new Vl({props:{render_Width:e[7],incoming:(s=e[32])==null?void 0:s.incoming,username:(a=(o=(r=e[0])==null?void 0:r.lead)==null?void 0:o.username)!=null?a:"",text:(u=(f=e[32])==null?void 0:f.text)!=null?u:""}}),{key:l,first:null,c(){t=ze(),oe(n.$$.fragment),this.first=t},m(p,_){I(p,t,_),se(n,p,_),i=!0},p(p,_){var v,m,w,d,c,g;e=p;const b={};_[0]&128&&(b.render_Width=e[7]),_[0]&2&&(b.incoming=(v=e[32])==null?void 0:v.incoming),_[0]&1&&(b.username=(d=(w=(m=e[0])==null?void 0:m.lead)==null?void 0:w.username)!=null?d:""),_[0]&2&&(b.text=(g=(c=e[32])==null?void 0:c.text)!=null?g:""),n.$set(b)},i(p){i||(O(n.$$.fragment,p),i=!0)},o(p){P(n.$$.fragment,p),i=!1},d(p){p&&x(t),re(n,p)}}}function on(l){let e,t,n,i,s,r,o,a,f,u,p,_,b=[],v=new Map,m,w,d,c,g,y,M,A,C,T,L=l[0]&&It(l),H=l[0]&&Nt(l),B=l[2]&&Pt(),Y=l[1];const V=D=>D[32].index;for(let D=0;D<Y.length;D+=1){let z=Ct(l,Y,D),E=V(z);v.set(E,b[D]=jt(E,z))}function ae(D){l[12](D)}let G={value_in:l[3]};return l[4]!==void 0&&(G.value_out=l[4]),d=new rn({props:G}),ke.push(()=>Zt(d,"value_out",ae)),{c(){e=k("div"),t=k("div"),n=k("div"),L&&L.c(),i=N(),s=k("div"),r=N(),H&&H.c(),o=N(),B&&B.c(),a=N(),f=k("div"),u=k("div"),p=k("div"),_=k("div");for(let D=0;D<b.length;D+=1)b[D].c();m=N(),w=k("div"),oe(d.$$.fragment),g=N(),y=k("div"),M=k("textarea"),S(n,"class","flex flex_clm flex_cx"),$(s,"width","16px"),S(t,"class","flex flex_cy header pos_rel svelte-ffie4h"),S(_,"class","pos_rel w100 h100"),S(w,"class","pos_abs h100"),$(w,"width","10px"),$(w,"right","0px"),$(w,"height","calc( 100% - 10px )"),$(w,"top","5px"),S(p,"class","pos_rel w100 h100"),S(u,"class","flex pos_abs overhide"),S(f,"class","flex flex_grow_1 pos_rel overhide"),S(M,"class","flex flex_grow_1 chat_input_textarea svelte-ffie4h"),S(y,"class","flex chat_input svelte-ffie4h"),S(e,"class","flex flex_clm flex_grow_1 overhide")},m(D,z){I(D,e,z),h(e,t),h(t,n),L&&L.m(n,null),h(t,i),h(t,s),h(t,r),H&&H.m(t,null),h(t,o),B&&B.m(t,null),h(e,a),h(e,f),h(f,u),h(u,p),h(p,_);for(let E=0;E<b.length;E+=1)b[E].m(_,null);l[11](_),h(p,m),h(p,w),se(d,w,null),h(e,g),h(e,y),h(y,M),ot(M,l[6]),A=!0,C||(T=[ee(p,"wheel",l[10]),Ue(st.call(null,u,l[8])),ee(M,"input",l[13]),ee(M,"keyup",l[9])],C=!0)},p(D,z){D[0]?L?L.p(D,z):(L=It(D),L.c(),L.m(n,null)):L&&(L.d(1),L=null),D[0]?H?(H.p(D,z),z[0]&1&&O(H,1)):(H=Nt(D),H.c(),O(H,1),H.m(t,o)):H&&(ne(),P(H,1,1,()=>{H=null}),ie()),D[2]?B?z[0]&4&&O(B,1):(B=Pt(),B.c(),O(B,1),B.m(t,null)):B&&(ne(),P(B,1,1,()=>{B=null}),ie()),z[0]&131&&(Y=D[1],ne(),b=Ne(b,z,V,1,D,Y,v,_,nt,jt,null,Ct),ie());const E={};z[0]&8&&(E.value_in=D[3]),!c&&z[0]&16&&(c=!0,E.value_out=D[4],Xt(()=>c=!1)),d.$set(E),z[0]&64&&ot(M,D[6])},i(D){if(!A){O(H),O(B);for(let z=0;z<Y.length;z+=1)O(b[z]);O(d.$$.fragment,D),A=!0}},o(D){P(H),P(B);for(let z=0;z<b.length;z+=1)P(b[z]);P(d.$$.fragment,D),A=!1},d(D){D&&x(e),L&&L.d(),H&&H.d(),B&&B.d();for(let z=0;z<b.length;z+=1)b[z].d();l[11](null),re(d),C=!1,be(T)}}}const Ht=10,Be=4;async function $t(l){try{await g_Api("POST",`dialogs/${l}/read`)}catch(e){console.log(e.message)}}function an(l,e,t){let n,{dialog:i=null}=e,s=[],r=[],o=[],a=new Set,f=0,u=0,p=1,_=1,b=null;const v=Pe(null);ve(l,v,E=>t(22,n=E));const m={id:1,text:"",received_at:new Date().toJSON(),is_read:!0,incoming:!0,dialog:1};let w=-1;async function d(E,J=0,Z=20){const te=await g_Api("GET","messages",{dialog_id:E,offset:J,limit:Z});if(i&&i.id===E){for(f=te.count;r.length<f;){const fe=r.length;r.push({id:w--,index:fe,_isFakeMsg:!0})}const le=te.results;le.map((fe,Le)=>fe.index=J+Le),le.map(fe=>r[fe.index]=fe)}}let c="";const g=async E=>{if(E.which===13&&(t(6,c=c.trim()),c)){const J={...m};J.id=Math.random()*1e9|0,J.text=c,J.incoming=!1,i&&g_Api("POST","messages",{dialog:i.id,text:c,is_read:!0}),s.push(J),s=s,t(6,c="")}};function y(){s=[],r=[],t(1,o=[]),a=new Set,f=0,console.log("clear all")}let M=null,A=null;async function C(E){if(!E){if(!M)return;M=null,y();return}A!==E.id&&(M=E,A=E.id,y(),s=[],r=[],t(1,o=[]),f=0,t(2,u++,u),await d(E.id),f&&await d(E.id,Math.max(f-20,0),20),await $t(E.id),t(2,u--,u))}let T=1,L=!0;function H(){if(L&&requestAnimationFrame(H),!n||!b||!r.length)return;n.width;const E=n.height,J=n.width-Ht*2,Z=Ht;t(7,T=Math.floor(J*.9));const te=1+_*(r.length-1);let le=Math.floor(te),fe=te-le;le>=r.length&&(le=r.length-1,fe=1);const Le=[],De=[];let j=null;t(1,o=[]);for(let R=le-22,W=0,we=!0;R<le+2;R++)R<0||R>=r.length||(r[R]._isFakeMsg&&a.add(R),o[W]!==r[R]&&(we&&(we=!1,o.splice(W,1e9)),t(1,o[W]=r[R],o),t(1,o)),t(1,o[W]._drawIndex=W,o),R<le&&Le.push(o[W]),R>le&&De.push(o[W]),R===le&&(j=o[W]),W++);const U=[...b.children];if(U.length===o.length){U.map((q,_e)=>{const ce=o[_e];if(!ce||q._remove)return;const He=q.getBoundingClientRect();q._bbox=He;const Se=Math.floor(Z+(ce.incoming?0:n.width*.05));q.__cacheWidth!==T&&(q.__cacheWidth=T,q.style.width=T+"px"),q.__cacheLeft!==Se&&(q.__cacheLeft=Se,q.style.left=Se+"px")});const R=(q,_e,ce=1)=>(q.__cacheTop!==_e&&(q.__cacheTop=_e,q.style.top=_e+"px"),_e+(q._bbox.height+Be)*ce);let W=0,we=0;const Oe=U[j._drawIndex];if(Oe){const q=Oe;W=E+Be-(q._bbox.height+Be)*fe,we=W,W=R(q,W,1)}De.map((q,_e)=>{const ce=U[q._drawIndex];W=R(ce,W,1)}),W=we,Le.reverse().map((q,_e)=>{const ce=U[q._drawIndex];W-=ce._bbox.height+Be,R(ce,W,0)})}}requestAnimationFrame(H),qt(()=>L=!1);async function B(){if(a.size){const E=[...a].sort((te,le)=>te-le);a.clear();const J=[];let Z={offset:null,limit:0};for(const te of E){if(Z.offset!==null){if(Z.limit<=500&&Z.offset+Z.limit===te){Z.limit++;continue}J.push(Z)}Z={offset:te,limit:1}}Z.offset!==null&&J.push(Z),i&&(t(2,u++,u),await Promise.all(J.map(te=>d(i.id,te.offset,te.limit))),t(2,u--,u))}setTimeout(B,500)}B();async function Y(){i&&await $t(i.id),setTimeout(Y,5e3)}Y();async function V(){i&&await d(i.id,f,20),setTimeout(V,500)}V();const ae=E=>{E.deltaY>0?t(3,p=_+1/(r.length-1)):t(3,p=_-1/(r.length-1))};function G(E){ke[E?"unshift":"push"](()=>{b=E,t(5,b)})}function D(E){_=E,t(4,_)}function z(){c=this.value,t(6,c)}return l.$$set=E=>{"dialog"in E&&t(0,i=E.dialog)},l.$$.update=()=>{l.$$.dirty[0]&1&&C(i)},[i,o,u,p,_,b,c,T,v,g,ae,G,D,z]}class fn extends me{constructor(e){super(),ge(this,e,an,on,de,{dialog:0},null,[-1,-1])}}function Bt(l,e,t){const n=l.slice();return n[7]=e[t],n}function Ft(l,e){let t,n,i;return n=new Kl({props:{dialog_id:e[7].id}}),{key:l,first:null,c(){t=ze(),oe(n.$$.fragment),this.first=t},m(s,r){I(s,t,r),se(n,s,r),i=!0},p(s,r){e=s;const o={};r&2&&(o.dialog_id=e[7].id),n.$set(o)},i(s){i||(O(n.$$.fragment,s),i=!0)},o(s){P(n.$$.fragment,s),i=!1},d(s){s&&x(t),re(n,s)}}}function cn(l){let e,t,n,i,s,r,o,a,f=[],u=new Map,p,_,b,v,m,w=l[1];const d=c=>c[7].id;for(let c=0;c<w.length;c+=1){let g=Bt(l,w,c),y=d(g);u.set(y,f[c]=Ft(y,g))}return _=new fn({props:{dialog:l[2]}}),{c(){e=k("div"),t=k("div"),n=k("div"),i=F(`My leads\r
\r
			\r
			\r
			`),s=k("button"),r=F("UF:"),o=F(l[0]),a=N();for(let c=0;c<f.length;c+=1)f[c].c();p=N(),oe(_.$$.fragment),S(s,"class","pos_abs cursor_ptr"),S(s,"style","right: 1px; background: #484848; color: #000; //border-radius: 4px; "),S(n,"class","flex flex_cx flex_cy header pos_rel svelte-lac3a7"),S(t,"class","flex flex_clm list svelte-lac3a7"),S(e,"class","flex flex_grow_1 ")},m(c,g){I(c,e,g),h(e,t),h(t,n),h(n,i),h(n,s),h(s,r),h(s,o),h(t,a);for(let y=0;y<f.length;y+=1)f[y].m(t,null);h(e,p),se(_,e,null),b=!0,v||(m=ee(s,"click",l[3]),v=!0)},p(c,[g]){(!b||g&1)&&X(o,c[0]),g&2&&(w=c[1],ne(),f=Ne(f,g,d,1,c,w,u,t,nt,Ft,null,Bt),ie());const y={};g&4&&(y.dialog=c[2]),_.$set(y)},i(c){if(!b){for(let g=0;g<w.length;g+=1)O(f[g]);O(_.$$.fragment,c),b=!0}},o(c){for(let g=0;g<f.length;g+=1)P(f[g]);P(_.$$.fragment,c),b=!1},d(c){c&&x(e);for(let g=0;g<f.length;g+=1)f[g].d();re(_),v=!1,m()}}}function un(l,e,t){let n;ve(l,Dl,u=>t(2,n=u));let i=1,s=[];async function r(u){const p=await g_Api.dialog_GetList({unread_first:i,offset:0,limit:20});return p?(Sl(p.results),p.results):[]}async function o(){t(1,s=await r()),a()}o();async function a(){for(;;)t(1,s=await r()),await Vt(1e3)}return[i,s,n,()=>t(0,i^=1)]}class dn extends me{constructor(e){super(),ge(this,e,un,cn,de,{})}}function _n(l){let e,t,n,i,s,r,o;return t=new Wl({}),i=new dn({}),{c(){e=k("div"),oe(t.$$.fragment),n=N(),oe(i.$$.fragment),S(e,"class","pos_abs content flex svelte-116f09r"),K(e,"contentHideL__",l[1]!=="newLeads")},m(a,f){I(a,e,f),se(t,e,null),h(e,n),se(i,e,null),s=!0,r||(o=Ue(st.call(null,e)),r=!0)},p(a,f){(!s||f&2)&&K(e,"contentHideL__",a[1]!=="newLeads")},i(a){s||(O(t.$$.fragment,a),O(i.$$.fragment,a),s=!0)},o(a){P(t.$$.fragment,a),P(i.$$.fragment,a),s=!1},d(a){a&&x(e),re(t),re(i),r=!1,o()}}}function gn(l){let e,t;return e=new Hl({}),{c(){oe(e.$$.fragment)},m(n,i){se(e,n,i),t=!0},p:Q,i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){P(e.$$.fragment,n),t=!1},d(n){re(e,n)}}}function mn(l){let e,t,n,i,s,r,o,a;function f(v){l[2](v)}let u={};l[1]!==void 0&&(u.select=l[1]),t=new Cl({props:u}),ke.push(()=>Zt(t,"select",f));const p=[gn,_n],_=[];function b(v,m){return v[0]?1:0}return r=b(l),o=_[r]=p[r](l),{c(){e=k("main"),oe(t.$$.fragment),i=N(),s=k("div"),o.c(),S(s,"class","flex flex_grow_1 pos_rel overhide"),S(e,"class","flex flex_clm svelte-116f09r")},m(v,m){I(v,e,m),se(t,e,null),h(e,i),h(e,s),_[r].m(s,null),a=!0},p(v,[m]){const w={};!n&&m&2&&(n=!0,w.select=v[1],Xt(()=>n=!1)),t.$set(w);let d=r;r=b(v),r===d?_[r].p(v,m):(ne(),P(_[d],1,1,()=>{_[d]=null}),ie(),o=_[r],o?o.p(v,m):(o=_[r]=p[r](v),o.c()),O(o,1),o.m(s,null))},i(v){a||(O(t.$$.fragment,v),O(o),a=!0)},o(v){P(t.$$.fragment,v),P(o),a=!1},d(v){v&&x(e),re(t),_[r].d()}}}function pn(){const l=d=>new Promise(c=>setTimeout(c,d)),e=()=>l(1500+(Math.random()*200|0)),t={id:1};let n=0;const i={tg_id:123123124,username:"123124123",first_name:"test",last_name:"ewr",date_joined:"2022-10-27T13:48:51.054781Z",esub:"123123",pub_id:"2312",refcode:"123123",subpub:"23123",hasOperator:!1};let s=[];const r=d=>s.find(c=>String(c.tg_id)===String(d)),o=()=>{const d={...i};d.tg_id+=n,d.first_name+=" "+n,d.last_name+=" "+n,d.date_joined=new Date().toJSON(),d.username=[d.first_name,d.last_name].map(c=>c.trim()).filter(Boolean).join(" ").replace(/\s/g,"_"),n++,s.push(d)},a=()=>[...s],f=()=>a().filter(d=>!d.hasOperator),u=(d,c)=>{var C;const g=c.offset|0,y=Math.max(1,Math.min(1e6,((C=c.limit)!=null?C:20)|0)),M=d.length,A=d.slice(g).slice(0,y);return{count:M,results:A}},p={},_={};let b=1;Array(1e4).fill().map(o),setInterval(()=>{},2400),setInterval(()=>{},3e3),setInterval(()=>{const d=Object.keys(_),c=d[d.length*Math.random()|0],g=_[c];if(g){const y=g.length?0:10;for(let M=0;M<y;M++)g.push({id:b++,dialog:c,text:Math.random()<.5?"Hi. And short message "+(b-1)+" ...":"Hi. And long message "+(b-1)+" ..."+`
 Long!`.repeat(20),is_read:!1,incoming:!0,received_at:new Date().toJSON()})}},1e3);const v={},m=async(d,c,g={},y=0)=>{const M=!location.hash.match(/real\-api/),A=async()=>{var Y,V,ae,G,D;if(d==="GET"&&c==="operators")return await e(),{results:[{username:"stan18k",first_name:"Stanislav",last_name:"Kulakov"},{username:"dmodev",first_name:"Demon",last_name:"Dev"},{username:"idandrey",first_name:"Andrey",last_name:""},{username:"eveascigarettesnbeer",first_name:"YEHA",last_name:""},{username:"eveascigarettesnbeer ".repeat(1e3),first_name:"YEHA",last_name:""},{username:"eveascigarettesnbeer",first_name:"YEHA",last_name:""},{username:"eveascigarettesnbeer",first_name:"YEHA",last_name:""},{username:"eveascigarettesnbeer",first_name:"YEHA",last_name:""},{username:"eveascigarettesnbeer",first_name:"YEHA",last_name:""},{username:"eveascigarettesnbeer ".repeat(1e3),first_name:"YEHA ".repeat(1e3),last_name:"D sf  ".repeat(1e3)}]};if(d==="GET"&&c==="leads/unassigned")return await e(),u(f(),g);if(d==="POST"&&/leads\/\d+\/assign/.test(c)){await e();const z=(Y=c.match(/leads\/(\d+)\/assign/))==null?void 0:Y[1],E=v["x-username"];if(!z||!E)return!1;const J=r(z);if(!J||J.hasOperator)return!1;J.hasOperator=!0,t.id++;const Z={...t,lead_id:z,operator:E,tag:[]};return p[E]=(V=p[E])!=null?V:[],p[E].push(Z),_[Z.id]=[],!0}if(d==="GET"&&c==="dialogs"){const z=[...(ae=p[v["x-username"]])!=null?ae:[]].map(E=>({...E,lead:r(E.lead_id)}));return u(z,g)}if(d==="GET"&&c==="messages"){await e();const z=_[g.dialog_id]=(G=_[g.dialog_id])!=null?G:[];return u(z,g)}if(d==="POST"&&c==="messages")return _[g.dialog]=(D=_[g.dialog])!=null?D:[],_[g.dialog].push({id:b++,dialog:g.dialog,text:g.text,is_read:!!g.is_read,incoming:!1,received_at:new Date().toJSON()}),!0};if(M){const Y=await A();if(y===0)return Y;if(y===1)return{status:200,json:()=>Y}}const C=g_Config.API_URL,T=new URL(C);d==="GET"&&Object.entries(g).map(([Y,V])=>T.searchParams.append(Y,V)),T.pathname=(T.pathname+"/"+c+"/").replace(/\/{2,}/g,"/");let L;const H={...v};(d==="POST"||d==="PATCH")&&(H["Content-Type"]="application/json",L=JSON.stringify(g));const B=await fetch(T,{method:d,headers:H,body:L});if(y===0)return await B.json();if(y===1)return B},w=d=>{var g,y,M;const c=(M=(g=d==null?void 0:d.last_message)==null?void 0:g.received_at)!=null?M:(y=d==null?void 0:d.lead)==null?void 0:y.date_joined;return{...d,_lastTime:c?+new Date(c):null}};return m.dialog_SetTags=async(d,c)=>{try{const g=await g_Api("PATCH",`dialogs/${d}`,{tag:c},1);if(g.status===200)return w(g.json())}catch(g){console.error(g.message)}return null},m.dialog_GetList=async d=>{try{const c=await g_Api("GET","dialogs",d,1);if(c.status===200){const g=await c.json();return g.results=g.results.map(w),g}}catch(c){console.error(c.message)}return null},m.lead_GetUnassignedList=async d=>{try{const c=await g_Api("GET","leads/unassigned",{options:d},1);if(c.status===200)return await c.json()}catch(c){console.error(c.message)}return null},m.lead_AssignOperatorSelft=async d=>{try{const c=await g_Api("POST",`leads/${d}/assign`,{},1),g=await c.json();if(c.status===200)return!0;if(c.status===400)return!1}catch(c){console.error(c.message)}return null},m.setHeader=(d,c)=>v[d]=c,m}function hn(l,e,t){let n;ve(l,qe,o=>t(0,n=o));let i="operators";function s(o){o&&t(1,i="newLeads")}globalThis.g_Api=pn();function r(o){i=o,t(1,i)}return l.$$.update=()=>{l.$$.dirty&1&&s(n)},[n,i,r]}class vn extends me{constructor(e){super(),ge(this,e,hn,mn,de,{})}}new vn({target:document.getElementById("app")});
